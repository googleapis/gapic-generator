============== file: LICENSE ==============
                            Apache License
                           Version 2.0, January 2004
                        https://www.apache.org/licenses/

   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

   1. Definitions.

      "License" shall mean the terms and conditions for use, reproduction,
      and distribution as defined by Sections 1 through 9 of this document.

      "Licensor" shall mean the copyright owner or entity authorized by
      the copyright owner that is granting the License.

      "Legal Entity" shall mean the union of the acting entity and all
      other entities that control, are controlled by, or are under common
      control with that entity. For the purposes of this definition,
      "control" means (i) the power, direct or indirect, to cause the
      direction or management of such entity, whether by contract or
      otherwise, or (ii) ownership of fifty percent (50%) or more of the
      outstanding shares, or (iii) beneficial ownership of such entity.

      "You" (or "Your") shall mean an individual or Legal Entity
      exercising permissions granted by this License.

      "Source" form shall mean the preferred form for making modifications,
      including but not limited to software source code, documentation
      source, and configuration files.

      "Object" form shall mean any form resulting from mechanical
      transformation or translation of a Source form, including but
      not limited to compiled object code, generated documentation,
      and conversions to other media types.

      "Work" shall mean the work of authorship, whether in Source or
      Object form, made available under the License, as indicated by a
      copyright notice that is included in or attached to the work
      (an example is provided in the Appendix below).

      "Derivative Works" shall mean any work, whether in Source or Object
      form, that is based on (or derived from) the Work and for which the
      editorial revisions, annotations, elaborations, or other modifications
      represent, as a whole, an original work of authorship. For the purposes
      of this License, Derivative Works shall not include works that remain
      separable from, or merely link (or bind by name) to the interfaces of,
      the Work and Derivative Works thereof.

      "Contribution" shall mean any work of authorship, including
      the original version of the Work and any modifications or additions
      to that Work or Derivative Works thereof, that is intentionally
      submitted to Licensor for inclusion in the Work by the copyright owner
      or by an individual or Legal Entity authorized to submit on behalf of
      the copyright owner. For the purposes of this definition, "submitted"
      means any form of electronic, verbal, or written communication sent
      to the Licensor or its representatives, including but not limited to
      communication on electronic mailing lists, source code control systems,
      and issue tracking systems that are managed by, or on behalf of, the
      Licensor for the purpose of discussing and improving the Work, but
      excluding communication that is conspicuously marked or otherwise
      designated in writing by the copyright owner as "Not a Contribution."

      "Contributor" shall mean Licensor and any individual or Legal Entity
      on behalf of whom a Contribution has been received by Licensor and
      subsequently incorporated within the Work.

   2. Grant of Copyright License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      copyright license to reproduce, prepare Derivative Works of,
      publicly display, publicly perform, sublicense, and distribute the
      Work and such Derivative Works in Source or Object form.

   3. Grant of Patent License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      (except as stated in this section) patent license to make, have made,
      use, offer to sell, sell, import, and otherwise transfer the Work,
      where such license applies only to those patent claims licensable
      by such Contributor that are necessarily infringed by their
      Contribution(s) alone or by combination of their Contribution(s)
      with the Work to which such Contribution(s) was submitted. If You
      institute patent litigation against any entity (including a
      cross-claim or counterclaim in a lawsuit) alleging that the Work
      or a Contribution incorporated within the Work constitutes direct
      or contributory patent infringement, then any patent licenses
      granted to You under this License for that Work shall terminate
      as of the date such litigation is filed.

   4. Redistribution. You may reproduce and distribute copies of the
      Work or Derivative Works thereof in any medium, with or without
      modifications, and in Source or Object form, provided that You
      meet the following conditions:

      (a) You must give any other recipients of the Work or
          Derivative Works a copy of this License; and

      (b) You must cause any modified files to carry prominent notices
          stating that You changed the files; and

      (c) You must retain, in the Source form of any Derivative Works
          that You distribute, all copyright, patent, trademark, and
          attribution notices from the Source form of the Work,
          excluding those notices that do not pertain to any part of
          the Derivative Works; and

      (d) If the Work includes a "NOTICE" text file as part of its
          distribution, then any Derivative Works that You distribute must
          include a readable copy of the attribution notices contained
          within such NOTICE file, excluding those notices that do not
          pertain to any part of the Derivative Works, in at least one
          of the following places: within a NOTICE text file distributed
          as part of the Derivative Works; within the Source form or
          documentation, if provided along with the Derivative Works; or,
          within a display generated by the Derivative Works, if and
          wherever such third-party notices normally appear. The contents
          of the NOTICE file are for informational purposes only and
          do not modify the License. You may add Your own attribution
          notices within Derivative Works that You distribute, alongside
          or as an addendum to the NOTICE text from the Work, provided
          that such additional attribution notices cannot be construed
          as modifying the License.

      You may add Your own copyright statement to Your modifications and
      may provide additional or different license terms and conditions
      for use, reproduction, or distribution of Your modifications, or
      for any such Derivative Works as a whole, provided Your use,
      reproduction, and distribution of the Work otherwise complies with
      the conditions stated in this License.

   5. Submission of Contributions. Unless You explicitly state otherwise,
      any Contribution intentionally submitted for inclusion in the Work
      by You to the Licensor shall be under the terms and conditions of
      this License, without any additional terms or conditions.
      Notwithstanding the above, nothing herein shall supersede or modify
      the terms of any separate license agreement you may have executed
      with Licensor regarding such Contributions.

   6. Trademarks. This License does not grant permission to use the trade
      names, trademarks, service marks, or product names of the Licensor,
      except as required for reasonable and customary use in describing the
      origin of the Work and reproducing the content of the NOTICE file.

   7. Disclaimer of Warranty. Unless required by applicable law or
      agreed to in writing, Licensor provides the Work (and each
      Contributor provides its Contributions) on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
      implied, including, without limitation, any warranties or conditions
      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
      PARTICULAR PURPOSE. You are solely responsible for determining the
      appropriateness of using or redistributing the Work and assume any
      risks associated with Your exercise of permissions under this License.

   8. Limitation of Liability. In no event and under no legal theory,
      whether in tort (including negligence), contract, or otherwise,
      unless required by applicable law (such as deliberate and grossly
      negligent acts) or agreed to in writing, shall any Contributor be
      liable to You for damages, including any direct, indirect, special,
      incidental, or consequential damages of any character arising as a
      result of this License or out of the use or inability to use the
      Work (including but not limited to damages for loss of goodwill,
      work stoppage, computer failure or malfunction, or any and all
      other commercial damages or losses), even if such Contributor
      has been advised of the possibility of such damages.

   9. Accepting Warranty or Additional Liability. While redistributing
      the Work or Derivative Works thereof, You may choose to offer,
      and charge a fee for, acceptance of support, warranty, indemnity,
      or other liability obligations and/or rights consistent with this
      License. However, in accepting such obligations, You may act only
      on Your own behalf and on Your sole responsibility, not on behalf
      of any other Contributor, and only if You agree to indemnify,
      defend, and hold each Contributor harmless for any liability
      incurred by, or claims asserted against, such Contributor by reason
      of your accepting any such warranty or additional liability.

   END OF TERMS AND CONDITIONS

   APPENDIX: How to apply the Apache License to your work.

      To apply the Apache License to your work, attach the following
      boilerplate notice, with the fields enclosed by brackets "[]"
      replaced with your own identifying information. (Don't include
      the brackets!)  The text should be enclosed in the appropriate
      comment syntax for the file format. We also recommend that a
      file or class name and description of purpose be included on the
      same "printed page" as the copyright notice for easier
      identification within third-party archives.

   Copyright [yyyy] [name of copyright owner]

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       https://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.

============== file: MANIFEST.in ==============
include README.rst LICENSE
recursive-include google *.json *.proto
recursive-include tests *
global-exclude *.py[co]
global-exclude __pycache__

============== file: README.rst ==============
Python Client for Google Example Library API (`Production/Stable`_)
===================================================================

`Google Example Library API`_: A simple Google Example Library API.

- `Client Library Documentation`_
- `Product Documentation`_

.. _Production/Stable: https://github.com/googleapis/google-cloud-python/blob/master/README.rst
.. _Google Example Library API: https://cloud.google.com/library
.. _Client Library Documentation: https://googleapis.github.io/google-cloud-python/latest/library/usage.html
.. _Product Documentation:  https://cloud.google.com/library

Quick Start
-----------

In order to use this library, you first need to go through the following steps:

1. `Select or create a Cloud Platform project.`_
2. `Enable billing for your project.`_
3. `Enable the Google Example Library API.`_
4. `Setup Authentication.`_

.. _Select or create a Cloud Platform project.: https://console.cloud.google.com/project
.. _Enable billing for your project.: https://cloud.google.com/billing/docs/how-to/modify-project#enable_billing_for_a_project
.. _Enable the Google Example Library API.:  https://cloud.google.com/library
.. _Setup Authentication.: https://googleapis.github.io/google-cloud-python/latest/core/auth.html

Installation
~~~~~~~~~~~~

Install this library in a `virtualenv`_ using pip. `virtualenv`_ is a tool to
create isolated Python environments. The basic problem it addresses is one of
dependencies and versions, and indirectly permissions.

With `virtualenv`_, it's possible to install this library without needing system
install permissions, and without clashing with the installed system
dependencies.

.. _`virtualenv`: https://virtualenv.pypa.io/en/latest/


Mac/Linux
^^^^^^^^^

.. code-block:: console

    pip install virtualenv
    virtualenv <your-env>
    source <your-env>/bin/activate
    <your-env>/bin/pip install google-cloud-library


Windows
^^^^^^^

.. code-block:: console

    pip install virtualenv
    virtualenv <your-env>
    <your-env>\Scripts\activate
    <your-env>\Scripts\pip.exe install google-cloud-library

Preview
~~~~~~~

LibraryServiceClient
^^^^^^^^^^^^^^^^^^^^

.. code:: py

    from google.cloud.example import library_v1

    client = library_v1.LibraryServiceClient()

    name = client.book_path('[SHELF]', '[BOOK]')

    # TODO: Initialize `book`:
    book = {}

    response = client.update_book(name, book)

Next Steps
~~~~~~~~~~

-  Read the `Client Library Documentation`_ for Google Example Library API
   API to see other available methods on the client.
-  Read the `Google Example Library API Product documentation`_ to learn
   more about the product and see How-to Guides.
-  View this `repository’s main README`_ to see the full list of Cloud
   APIs that we cover.

.. _Google Example Library API Product documentation:  https://cloud.google.com/library
.. _repository’s main README: https://github.com/googleapis/google-cloud-python/blob/master/README.rst
============== file: docs/conf.py ==============
# -*- coding: utf-8 -*-
#
# google-cloud-library documentation build configuration file
#
# This file is execfile()d with the current directory set to its
# containing dir.
#
# Note that not all possible configuration values are present in this
# autogenerated file.
#
# All configuration values have a default; values that are commented out
# serve to show the default.

import sys
import os
import shlex

# If extensions (or modules to document with autodoc) are in another directory,
# add these directories to sys.path here. If the directory is relative to the
# documentation root, use os.path.abspath to make it absolute, like shown here.
sys.path.insert(0, os.path.abspath('..'))

__version__ = '0.1.0'

# -- General configuration ------------------------------------------------

# If your documentation needs a minimal Sphinx version, state it here.
needs_sphinx = '1.6.3'

# Add any Sphinx extension module names here, as strings. They can be
# extensions coming with Sphinx (named 'sphinx.ext.*') or your custom
# ones.
extensions = [
    'sphinx.ext.autodoc',
    'sphinx.ext.autosummary',
    'sphinx.ext.intersphinx',
    'sphinx.ext.coverage',
    'sphinx.ext.napoleon',
    'sphinx.ext.todo',
    'sphinx.ext.viewcode',
]

# autodoc/autosummary flags
autoclass_content = 'both'
autodoc_default_flags = ['members']
autosummary_generate = True


# Add any paths that contain templates here, relative to this directory.
templates_path = ['_templates']

# Allow markdown includes (so releases.md can include CHANGLEOG.md)
# http://www.sphinx-doc.org/en/master/markdown.html
source_parsers = {'.md': 'recommonmark.parser.CommonMarkParser'}

# The suffix(es) of source filenames.
# You can specify multiple suffix as a list of string:
# source_suffix = ['.rst', '.md']
source_suffix = ['.rst', '.md']

# The encoding of source files.
#source_encoding = 'utf-8-sig'

# The master toctree document.
master_doc = 'index'

# General information about the project.
project = u'google-cloud-library'
copyright = u'2017, Google'
author = u'Google APIs'

# The version info for the project you're documenting, acts as replacement for
# |version| and |release|, also used in various other places throughout the
# built documents.
#
# The full version, including alpha/beta/rc tags.
release = __version__
# The short X.Y version.
version = '.'.join(release.split('.')[0:2])

# The language for content autogenerated by Sphinx. Refer to documentation
# for a list of supported languages.
#
# This is also used if you do content translation via gettext catalogs.
# Usually you set "language" from the command line for these cases.
language = None

# There are two options for replacing |today|: either, you set today to some
# non-false value, then it is used:
#today = ''
# Else, today_fmt is used as the format for a strftime call.
#today_fmt = '%B %d, %Y'

# List of patterns, relative to source directory, that match files and
# directories to ignore when looking for source files.
exclude_patterns = ['_build']

# The reST default role (used for this markup: `text`) to use for all
# documents.
#default_role = None

# If true, '()' will be appended to :func: etc. cross-reference text.
#add_function_parentheses = True

# If true, the current module name will be prepended to all description
# unit titles (such as .. function::).
#add_module_names = True

# If true, sectionauthor and moduleauthor directives will be shown in the
# output. They are ignored by default.
#show_authors = False

# The name of the Pygments (syntax highlighting) style to use.
pygments_style = 'sphinx'

# A list of ignored prefixes for module index sorting.
#modindex_common_prefix = []

# If true, keep warnings as "system message" paragraphs in the built documents.
#keep_warnings = False

# If true, `todo` and `todoList` produce output, else they produce nothing.
todo_include_todos = True


# -- Options for HTML output ----------------------------------------------

# The theme to use for HTML and HTML Help pages.  See the documentation for
# a list of builtin themes.
html_theme = 'alabaster'

# Theme options are theme-specific and customize the look and feel of a theme
# further.  For a list of options available for each theme, see the
# documentation.
html_theme_options = {
    'description': 'Google Cloud Client Libraries for Python',
    'github_user': 'googleapis',
    'github_repo': 'google-cloud-python',
    'github_banner': True,
    'font_family': "'Roboto', Georgia, sans",
    'head_font_family': "'Roboto', Georgia, serif",
    'code_font_family': "'Roboto Mono', 'Consolas', monospace",
}

# Add any paths that contain custom themes here, relative to this directory.
#html_theme_path = []

# The name for this set of Sphinx documents.  If None, it defaults to
# "<project> v<release> documentation".
#html_title = None

# A shorter title for the navigation bar.  Default is the same as html_title.
#html_short_title = None

# The name of an image file (relative to this directory) to place at the top
# of the sidebar.
#html_logo = None

# The name of an image file (within the static path) to use as favicon of the
# docs.  This file should be a Windows icon file (.ico) being 16x16 or 32x32
# pixels large.
#html_favicon = None

# Add any paths that contain custom static files (such as style sheets) here,
# relative to this directory. They are copied after the builtin static files,
# so a file named "default.css" will overwrite the builtin "default.css".
html_static_path = ["_static"]

# Add any extra paths that contain custom files (such as robots.txt or
# .htaccess) here, relative to this directory. These files are copied
# directly to the root of the documentation.
#html_extra_path = []

# If not '', a 'Last updated on:' timestamp is inserted at every page bottom,
# using the given strftime format.
#html_last_updated_fmt = '%b %d, %Y'

# If true, SmartyPants will be used to convert quotes and dashes to
# typographically correct entities.
#html_use_smartypants = True

# Custom sidebar templates, maps document names to template names.
#html_sidebars = {}

# Additional templates that should be rendered to pages, maps page names to
# template names.
#html_additional_pages = {}

# If false, no module index is generated.
#html_domain_indices = True

# If false, no index is generated.
#html_use_index = True

# If true, the index is split into individual pages for each letter.
#html_split_index = False

# If true, links to the reST sources are added to the pages.
#html_show_sourcelink = True

# If true, "Created using Sphinx" is shown in the HTML footer. Default is True.
#html_show_sphinx = True

# If true, "(C) Copyright ..." is shown in the HTML footer. Default is True.
#html_show_copyright = True

# If true, an OpenSearch description file will be output, and all pages will
# contain a <link> tag referring to it.  The value of this option must be the
# base URL from which the finished HTML is served.
#html_use_opensearch = ''

# This is the file name suffix for HTML files (e.g. ".xhtml").
#html_file_suffix = None

# Language to be used for generating the HTML full-text search index.
# Sphinx supports the following languages:
#   'da', 'de', 'en', 'es', 'fi', 'fr', 'hu', 'it', 'ja'
#   'nl', 'no', 'pt', 'ro', 'ru', 'sv', 'tr'
#html_search_language = 'en'

# A dictionary with options for the search language support, empty by default.
# Now only 'ja' uses this config value
#html_search_options = {'type': 'default'}

# The name of a javascript file (relative to the configuration directory) that
# implements a search results scorer. If empty, the default will be used.
#html_search_scorer = 'scorer.js'

# Output file base name for HTML help builder.
htmlhelp_basename = 'google-cloud-library-doc'

# -- Options for warnings ------------------------------------------------------


suppress_warnings = [
    # Temporarily suppress this to avoid "more than one target found for
    # cross-reference" warning, which are intractable for us to avoid while in
    # a mono-repo.
    # See https://github.com/sphinx-doc/sphinx/blob
    # /2a65ffeef5c107c19084fabdd706cdff3f52d93c/sphinx/domains/python.py#L843
    'ref.python'
]

# -- Options for LaTeX output ---------------------------------------------

latex_elements = {
# The paper size ('letterpaper' or 'a4paper').
#'papersize': 'letterpaper',

# The font size ('10pt', '11pt' or '12pt').
#'pointsize': '10pt',

# Additional stuff for the LaTeX preamble.
#'preamble': '',

# Latex figure (float) alignment
#'figure_align': 'htbp',
}

# Grouping the document tree into LaTeX files. List of tuples
# (source start file, target name, title,
#  author, documentclass [howto, manual, or own class]).
latex_documents = [
  (master_doc, 'google-cloud-library.tex', u'google-cloud-library Documentation',
   author, 'manual'),
]

# The name of an image file (relative to this directory) to place at the top of
# the title page.
#latex_logo = None

# For "manual" documents, if this is true, then toplevel headings are parts,
# not chapters.
#latex_use_parts = False

# If true, show page references after internal links.
#latex_show_pagerefs = False

# If true, show URL addresses after external links.
#latex_show_urls = False

# Documents to append as an appendix to all manuals.
#latex_appendices = []

# If false, no module index is generated.
#latex_domain_indices = True


# -- Options for manual page output ---------------------------------------

# One entry per manual page. List of tuples
# (source start file, name, description, authors, manual section).
man_pages = [
    (master_doc, 'google-cloud-library', u'google-cloud-library Documentation',
     [author], 1)
]

# If true, show URL addresses after external links.
#man_show_urls = False


# -- Options for Texinfo output -------------------------------------------

# Grouping the document tree into Texinfo files. List of tuples
# (source start file, target name, title, author,
#  dir menu entry, description, category)
texinfo_documents = [
  (master_doc, 'google-cloud-library', u'google-cloud-library Documentation',
   author, 'google-cloud-library', 'GAPIC library for the {metadata.shortName} v1 service',
   'APIs'),
]

# Documents to append as an appendix to all manuals.
#texinfo_appendices = []

# If false, no module index is generated.
#texinfo_domain_indices = True

# How to display URL addresses: 'footnote', 'no', or 'inline'.
#texinfo_show_urls = 'footnote'

# If true, do not generate a @detailmenu in the "Top" node's menu.
#texinfo_no_detailmenu = False


# Example configuration for intersphinx: refer to the Python standard library.
intersphinx_mapping = {
    'python': ('http://python.readthedocs.org/en/latest/', None),
    'gax': ('https://gax-python.readthedocs.org/en/latest/', None),
    'google-auth': ('https://google-auth.readthedocs.io/en/stable', None),
    'google-gax': ('https://gax-python.readthedocs.io/en/latest/', None),
    'google.api_core': ('https://googleapis.dev/python/google-api-core/latest', None),
    'grpc': ('https://grpc.io/grpc/python/', None),
    'requests': ('https://requests.kennethreitz.org/en/master/', None),
    'fastavro': ('https://fastavro.readthedocs.io/en/stable/', None),
    'pandas': ('https://pandas.pydata.org/pandas-docs/stable/', None),
}


# Napoleon settings
napoleon_google_docstring = True
napoleon_numpy_docstring = True
napoleon_include_private_with_doc = False
napoleon_include_special_with_doc = True
napoleon_use_admonition_for_examples = False
napoleon_use_admonition_for_notes = False
napoleon_use_admonition_for_references = False
napoleon_use_ivar = False
napoleon_use_param = True
napoleon_use_rtype = True

============== file: docs/gapic/v1/api.rst ==============
Client for Google Example Library API
=====================================

.. automodule:: google.cloud.example.library_v1
    :members:
    :inherited-members:
============== file: docs/gapic/v1/types.rst ==============
Types for Google Example Library API Client
===========================================

.. automodule:: google.cloud.example.library_v1.types
    :members:
============== file: docs/index.rst ==============
Python Client for Google Example Library API (`Production/Stable`_)
===================================================================

`Google Example Library API`_: A simple Google Example Library API.

- `Client Library Documentation`_
- `Product Documentation`_

.. _Production/Stable: https://github.com/googleapis/google-cloud-python/blob/master/README.rst
.. _Google Example Library API: https://cloud.google.com/library
.. _Client Library Documentation: https://googleapis.github.io/google-cloud-python/latest/library/usage.html
.. _Product Documentation:  https://cloud.google.com/library

Quick Start
-----------

In order to use this library, you first need to go through the following steps:

1. `Select or create a Cloud Platform project.`_
2. `Enable billing for your project.`_
3. `Enable the Google Example Library API.`_
4. `Setup Authentication.`_

.. _Select or create a Cloud Platform project.: https://console.cloud.google.com/project
.. _Enable billing for your project.: https://cloud.google.com/billing/docs/how-to/modify-project#enable_billing_for_a_project
.. _Enable the Google Example Library API.:  https://cloud.google.com/library
.. _Setup Authentication.: https://googleapis.github.io/google-cloud-python/latest/core/auth.html

Installation
~~~~~~~~~~~~

Install this library in a `virtualenv`_ using pip. `virtualenv`_ is a tool to
create isolated Python environments. The basic problem it addresses is one of
dependencies and versions, and indirectly permissions.

With `virtualenv`_, it's possible to install this library without needing system
install permissions, and without clashing with the installed system
dependencies.

.. _`virtualenv`: https://virtualenv.pypa.io/en/latest/


Mac/Linux
^^^^^^^^^

.. code-block:: console

    pip install virtualenv
    virtualenv <your-env>
    source <your-env>/bin/activate
    <your-env>/bin/pip install google-cloud-library


Windows
^^^^^^^

.. code-block:: console

    pip install virtualenv
    virtualenv <your-env>
    <your-env>\Scripts\activate
    <your-env>\Scripts\pip.exe install google-cloud-library

Preview
~~~~~~~

LibraryServiceClient
^^^^^^^^^^^^^^^^^^^^

.. code:: py

    from google.cloud.example import library_v1

    client = library_v1.LibraryServiceClient()

    name = client.book_path('[SHELF]', '[BOOK]')

    # TODO: Initialize `book`:
    book = {}

    response = client.update_book(name, book)

Next Steps
~~~~~~~~~~

-  Read the `Client Library Documentation`_ for Google Example Library API
   API to see other available methods on the client.
-  Read the `Google Example Library API Product documentation`_ to learn
   more about the product and see How-to Guides.
-  View this `repository’s main README`_ to see the full list of Cloud
   APIs that we cover.

.. _Google Example Library API Product documentation:  https://cloud.google.com/library
.. _repository’s main README: https://github.com/googleapis/google-cloud-python/blob/master/README.rst

Api Reference
-------------
.. toctree::
    :maxdepth: 2

    gapic/v1/api
    gapic/v1/types
============== file: google/__init__.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

try:
    import pkg_resources
    pkg_resources.declare_namespace(__name__)
except ImportError:
    import pkgutil
    __path__ = pkgutil.extend_path(__path__, __name__)

============== file: google/cloud/__init__.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

try:
    import pkg_resources
    pkg_resources.declare_namespace(__name__)
except ImportError:
    import pkgutil
    __path__ = pkgutil.extend_path(__path__, __name__)

============== file: google/cloud/example/__init__.py ==============

============== file: google/cloud/example/library.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.


from __future__ import absolute_import

from google.cloud.example.library_v1 import LibraryServiceClient
from google.cloud.example.library_v1 import MyProtoClient
from google.cloud.example.library_v1 import enums
from google.cloud.example.library_v1 import types


__all__ = (
    'enums',
    'types',
    'LibraryServiceClient',
    'MyProtoClient',
)

============== file: google/cloud/example/library_v1/__init__.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.


from __future__ import absolute_import
import sys
import warnings

from google.cloud.example.library_v1 import types
from google.cloud.example.library_v1.gapic import enums
from google.cloud.example.library_v1.gapic import library_service_client
from google.cloud.example.library_v1.gapic import my_proto_client


if sys.version_info[:2] == (2, 7):
    message = (
        'A future version of this library will drop support for Python 2.7.'
        'More details about Python 2 support for Google Cloud Client Libraries'
        'can be found at https://cloud.google.com/python/docs/python2-sunset/'
    )
    warnings.warn(message, DeprecationWarning)

class LibraryServiceClient(library_service_client.LibraryServiceClient):
    __doc__ = library_service_client.LibraryServiceClient.__doc__
    enums = enums

class MyProtoClient(my_proto_client.MyProtoClient):
    __doc__ = my_proto_client.MyProtoClient.__doc__
    enums = enums


__all__ = (
    'enums',
    'types',
    'LibraryServiceClient',
    'MyProtoClient',
)

============== file: google/cloud/example/library_v1/gapic/__init__.py ==============

============== file: google/cloud/example/library_v1/gapic/enums.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

"""Wrappers for protocol buffer enum types."""

import enum


class NullValue(enum.IntEnum):
    """
    `NullValue` is a singleton enumeration to represent the null value for the
    `Value` type union.

     The JSON representation for `NullValue` is JSON `null`.

    Attributes:
      NULL_VALUE (int): Null value.
    """
    NULL_VALUE = 0


class Book(object):
    class Rating(enum.IntEnum):
        """
        Attributes:
          GOOD (int): GOOD enum description
          BAD (int): Enum description with special characters: <>&"`'@.
        """
        GOOD = 0
        BAD = 1


class Comment(object):
    class Stage(enum.IntEnum):
        """
        Attributes:
          UNSET (int)
          DRAFT (int)
          PUBLISHED (int)
          DELETED (int)
        """
        UNSET = 0
        DRAFT = 1
        PUBLISHED = 2
        DELETED = 3


class FieldMask(object):
    class Material(enum.IntEnum):
        """
        Attributes:
          PAPIER_MACHE (int)
          WOOD (int)
          PORCELAIN (int)
          SEQUINS (int)
          CARDBOARD (int)
        """
        PAPIER_MACHE = 0
        WOOD = 1
        PORCELAIN = 2
        SEQUINS = 3
        CARDBOARD = 4


class SomeMessage(object):
    class Alignment(enum.IntEnum):
        """
        Tests service with two enums of the same simple name

        Attributes:
          GOOD (int)
          NEUTRAL (int)
          EVIL (int)
        """
        GOOD = 0
        NEUTRAL = 1
        EVIL = 2


class SomeMessage2(object):
    class Alignment(enum.IntEnum):
        """
        Another enum with duplicated simple name

        Attributes:
          FLUSH_LEFT (int)
          FLUSH_RIGHT (int)
          CENTERED (int)
          JUSTIFIED (int)
        """
        FLUSH_LEFT = 0
        FLUSH_RIGHT = 1
        CENTERED = 2
        JUSTIFIED = 3


    class SomeMessage3(object):
        class Alignment(enum.IntEnum):
            """
            Tests Python nested enums

            Attributes:
              CHAR (int): 8-bit
              INT (int): 32-bit
              DOUBLE (int): 64-bit
            """
            CHAR = 0
            INT = 1
            DOUBLE = 2


class TestOptionalRequiredFlatteningParamsRequest(object):
    class InnerEnum(enum.IntEnum):
        """
        For testing all types, plus resource-names, as required and optional.

        Attributes:
          ZERO (int)
          ONE (int)
        """
        ZERO = 0
        ONE = 1
    
============== file: google/cloud/example/library_v1/gapic/library_service_client.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

"""Accesses the google.example.library.v1 LibraryService API."""

import functools
import pkg_resources
import warnings

from google.oauth2 import service_account
import google.api_core.client_options
import google.api_core.gapic_v1.client_info
import google.api_core.gapic_v1.config
import google.api_core.gapic_v1.method
import google.api_core.gapic_v1.routing_header
import google.api_core.grpc_helpers
import google.api_core.operation
import google.api_core.operations_v1
import google.api_core.page_iterator
import google.api_core.path_template
import google.api_core.protobuf_helpers
import grpc

from google.cloud.example.library_v1.gapic import enums
from google.cloud.example.library_v1.gapic import library_service_client_config
from google.cloud.example.library_v1.gapic.transports import library_service_grpc_transport
from google.cloud.example.library_v1.proto import book_from_anywhere_pb2
from google.cloud.example.library_v1.proto import field_mask_pb2 as proto_field_mask_pb2
from google.cloud.example.library_v1.proto import library_pb2
from google.cloud.example.library_v1.proto import library_pb2_grpc
from google.cloud.example.library_v1.proto import shared_type_pb2
from google.cloud.example.library_v1.proto import tagger_pb2
from google.cloud.example.library_v1.proto import tagger_pb2_grpc
from google.longrunning import operations_pb2
from google.protobuf import any_pb2
from google.protobuf import duration_pb2
from google.protobuf import empty_pb2
from google.protobuf import field_mask_pb2 as protobuf_field_mask_pb2
from google.protobuf import struct_pb2
from google.protobuf import timestamp_pb2
from google.protobuf import wrappers_pb2



_GAPIC_LIBRARY_VERSION = pkg_resources.get_distribution(
    'google-cloud-library',
).version


class LibraryServiceClient(object):
    """
    This API represents a simple digital library.  It lets you manage Shelf
    resources and Book resources in the library. It defines the following
    resource model:

    - The API has a collection of [Shelf][google.example.library.v1.Shelf]
      resources, named ``bookShelves/*``

    - Each Shelf has a collection of [Book][google.example.library.v1.Book]
      resources, named `bookShelves/*/books/*`

    Check out [cloud docs!](/library/example/link).
    This is [not a cloud link](http://www.google.com).

    Service comment may include special characters: <>&"`'@.
    """

    SERVICE_ADDRESS = 'library-example.googleapis.com:1234'
    """The default address of the service."""

    # The name of the interface for this client. This is the key used to
    # find the method configuration in the client_config dictionary.
    _INTERFACE_NAME = 'google.example.library.v1.LibraryService'


    @classmethod
    def from_service_account_file(cls, filename, *args, **kwargs):
        """Creates an instance of this client using the provided credentials
        file.

        Args:
            filename (str): The path to the service account private key json
                file.
            args: Additional arguments to pass to the constructor.
            kwargs: Additional arguments to pass to the constructor.

        Returns:
            LibraryServiceClient: The constructed client.
        """
        credentials = service_account.Credentials.from_service_account_file(
            filename)
        kwargs['credentials'] = credentials
        return cls(*args, **kwargs)

    from_service_account_json = from_service_account_file


    @classmethod
    def archived_book_path(cls, archive_path, book):
        """Return a fully-qualified archived_book string."""
        return google.api_core.path_template.expand(
            'archives/{archive_path}/books/{book=**}',
            archive_path=archive_path,
            book=book,
        )

    @classmethod
    def book_path(cls, shelf, book):
        """Return a fully-qualified book string."""
        return google.api_core.path_template.expand(
            'shelves/{shelf}/books/{book}',
            shelf=shelf,
            book=book,
        )

    @classmethod
    def folder_path(cls, folder):
        """Return a fully-qualified folder string."""
        return google.api_core.path_template.expand(
            'folders/{folder}',
            folder=folder,
        )

    @classmethod
    def location_path(cls, project, location):
        """Return a fully-qualified location string."""
        return google.api_core.path_template.expand(
            'projects/{project}/locations/{location}',
            project=project,
            location=location,
        )

    @classmethod
    def project_path(cls, project):
        """Return a fully-qualified project string."""
        return google.api_core.path_template.expand(
            'projects/{project}',
            project=project,
        )

    @classmethod
    def project_book_path(cls, project, book):
        """Return a fully-qualified project_book string."""
        return google.api_core.path_template.expand(
            'projects/{project}/books/{book}',
            project=project,
            book=book,
        )

    @classmethod
    def shelf_path(cls, shelf):
        """Return a fully-qualified shelf string."""
        return google.api_core.path_template.expand(
            'shelves/{shelf}',
            shelf=shelf,
        )

    def __init__(self, transport=None, channel=None, credentials=None,
            client_config=None, client_info=None, client_options=None):
        """Constructor.

        Args:
            transport (Union[~.LibraryServiceGrpcTransport,
                    Callable[[~.Credentials, type], ~.LibraryServiceGrpcTransport]): A transport
                instance, responsible for actually making the API calls.
                The default transport uses the gRPC protocol.
                This argument may also be a callable which returns a
                transport instance. Callables will be sent the credentials
                as the first argument and the default transport class as
                the second argument.
            channel (grpc.Channel): DEPRECATED. A ``Channel`` instance
                through which to make calls. This argument is mutually exclusive
                with ``credentials``; providing both will raise an exception.
            credentials (google.auth.credentials.Credentials): The
                authorization credentials to attach to requests. These
                credentials identify this application to the service. If none
                are specified, the client will attempt to ascertain the
                credentials from the environment.
                This argument is mutually exclusive with providing a
                transport instance to ``transport``; doing so will raise
                an exception.
            client_config (dict): DEPRECATED. A dictionary of call options for
                each method. If not specified, the default configuration is used.
            client_info (google.api_core.gapic_v1.client_info.ClientInfo):
                The client info used to send a user-agent string along with
                API requests. If ``None``, then default info will be used.
                Generally, you only need to set this if you're developing
                your own client library.
            client_options (Union[dict, google.api_core.client_options.ClientOptions]):
                Client options used to set user options on the client. API Endpoint
                should be set through client_options.
        """
        # Raise deprecation warnings for things we want to go away.
        if client_config is not None:
            warnings.warn('The `client_config` argument is deprecated.',
                          PendingDeprecationWarning, stacklevel=2)
        else:
            client_config = library_service_client_config.config

        if channel:
            warnings.warn('The `channel` argument is deprecated; use '
                          '`transport` instead.',
                          PendingDeprecationWarning, stacklevel=2)

        api_endpoint = self.SERVICE_ADDRESS
        if client_options:
            if type(client_options) == dict:
                client_options = google.api_core.client_options.from_dict(client_options)
            if client_options.api_endpoint:
                api_endpoint = client_options.api_endpoint

        # Instantiate the transport.
        # The transport is responsible for handling serialization and
        # deserialization and actually sending data to the service.
        if transport:
            if callable(transport):
                self.transport = transport(
                    credentials=credentials,
                    default_class=library_service_grpc_transport.LibraryServiceGrpcTransport,
                    address=api_endpoint,
                )
            else:
                if credentials:
                    raise ValueError(
                        'Received both a transport instance and '
                        'credentials; these are mutually exclusive.'
                    )
                self.transport = transport
        else:
            self.transport = library_service_grpc_transport.LibraryServiceGrpcTransport(
                address=api_endpoint,
                channel=channel,
                credentials=credentials,
            )

        if client_info is None:
            client_info = google.api_core.gapic_v1.client_info.ClientInfo(
                gapic_version=_GAPIC_LIBRARY_VERSION,
            )
        else:
            client_info.gapic_version = _GAPIC_LIBRARY_VERSION
        self._client_info = client_info

        # Parse out the default settings for retry and timeout for each RPC
        # from the client configuration.
        # (Ordinarily, these are the defaults specified in the `*_config.py`
        # file next to this one.)
        self._method_configs = google.api_core.gapic_v1.config.parse_method_configs(
            client_config['interfaces'][self._INTERFACE_NAME],
        )

        # Save a dictionary of cached API call functions.
        # These are the actual callables which invoke the proper
        # transport methods, wrapped with `wrap_method` to add retry,
        # timeout, and the like.
        self._inner_api_calls = {}

    # Service calls
    def create_shelf(
            self,
            shelf,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Creates a shelf, and returns the new Shelf.
        RPC method comment may include special characters: <>&"`'@.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> # TODO: Initialize `shelf`:
            >>> shelf = {}
            >>>
            >>> response = client.create_shelf(shelf)

        Args:
            shelf (Union[dict, ~google.cloud.example.library_v1.types.Shelf]): The shelf to create.

                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Shelf`
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.Shelf` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'create_shelf' not in self._inner_api_calls:
            self._inner_api_calls['create_shelf'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.create_shelf,
                default_retry=self._method_configs['CreateShelf'].retry,
                default_timeout=self._method_configs['CreateShelf'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.CreateShelfRequest(
            shelf=shelf,
        )
        return self._inner_api_calls['create_shelf'](request, retry=retry, timeout=timeout, metadata=metadata)

    def get_shelf(
            self,
            name,
            options_,
            message=None,
            string_builder=None,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Gets a shelf.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> name = client.shelf_path('[SHELF]')
            >>>
            >>> # TODO: Initialize `options_`:
            >>> options_ = ''
            >>>
            >>> response = client.get_shelf(name, options_)

        Args:
            name (str): The name of the shelf to retrieve.
            options_ (str): To test 'options' parameter name conflict.
            message (Union[dict, ~google.cloud.example.library_v1.types.SomeMessage]): Field to verify that message-type query parameter gets flattened.

                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.SomeMessage`
            string_builder (Union[dict, ~google.cloud.example.library_v1.types.StringBuilder]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.StringBuilder`
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.Shelf` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'get_shelf' not in self._inner_api_calls:
            self._inner_api_calls['get_shelf'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.get_shelf,
                default_retry=self._method_configs['GetShelf'].retry,
                default_timeout=self._method_configs['GetShelf'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.GetShelfRequest(
            name=name,
            options=options_,
            message=message,
            string_builder=string_builder,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('name', name)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        return self._inner_api_calls['get_shelf'](request, retry=retry, timeout=timeout, metadata=metadata)

    def list_shelves(
            self,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Lists shelves.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> # Iterate over all results
            >>> for element in client.list_shelves():
            ...     # process element
            ...     pass
            >>>
            >>>
            >>> # Alternatively:
            >>>
            >>> # Iterate over results one page at a time
            >>> for page in client.list_shelves().pages:
            ...     for element in page:
            ...         # process element
            ...         pass

        Args:
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.api_core.page_iterator.PageIterator` instance.
            An iterable of :class:`~google.cloud.example.library_v1.types.Shelf` instances.
            You can also iterate over the pages of the response
            using its `pages` property.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'list_shelves' not in self._inner_api_calls:
            self._inner_api_calls['list_shelves'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.list_shelves,
                default_retry=self._method_configs['ListShelves'].retry,
                default_timeout=self._method_configs['ListShelves'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.ListShelvesRequest()
        iterator = google.api_core.page_iterator.GRPCIterator(
            client=None,
            method=functools.partial(self._inner_api_calls['list_shelves'], retry=retry, timeout=timeout, metadata=metadata),
            request=request,
            items_field='shelves',
            request_token_field='page_token',
            response_token_field='next_page_token',
        )
        return iterator

    def delete_shelf(
            self,
            name,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Deletes a shelf.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> name = client.shelf_path('[SHELF]')
            >>>
            >>> client.delete_shelf(name)

        Args:
            name (str): The name of the shelf to delete.
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'delete_shelf' not in self._inner_api_calls:
            self._inner_api_calls['delete_shelf'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.delete_shelf,
                default_retry=self._method_configs['DeleteShelf'].retry,
                default_timeout=self._method_configs['DeleteShelf'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.DeleteShelfRequest(
            name=name,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('name', name)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        self._inner_api_calls['delete_shelf'](request, retry=retry, timeout=timeout, metadata=metadata)

    def merge_shelves(
            self,
            name,
            other_shelf_name,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Merges two shelves by adding all books from the shelf named
        `other_shelf_name` to shelf `name`, and deletes
        `other_shelf_name`. Returns the updated shelf.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> name = client.shelf_path('[SHELF]')
            >>> other_shelf_name = client.shelf_path('[SHELF]')
            >>>
            >>> response = client.merge_shelves(name, other_shelf_name)

        Args:
            name (str): The name of the shelf we're adding books to.
            other_shelf_name (str): The name of the shelf we're removing books from and deleting.
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.Shelf` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'merge_shelves' not in self._inner_api_calls:
            self._inner_api_calls['merge_shelves'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.merge_shelves,
                default_retry=self._method_configs['MergeShelves'].retry,
                default_timeout=self._method_configs['MergeShelves'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.MergeShelvesRequest(
            name=name,
            other_shelf_name=other_shelf_name,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('name', name)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        return self._inner_api_calls['merge_shelves'](request, retry=retry, timeout=timeout, metadata=metadata)

    def create_book(
            self,
            name,
            book,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Creates a book.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> name = client.shelf_path('[SHELF]')
            >>>
            >>> # TODO: Initialize `book`:
            >>> book = {}
            >>>
            >>> response = client.create_book(name, book)

        Args:
            name (str): The name of the shelf in which the book is created.
            book (Union[dict, ~google.cloud.example.library_v1.types.Book]): The book to create.

                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Book`
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.Book` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'create_book' not in self._inner_api_calls:
            self._inner_api_calls['create_book'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.create_book,
                default_retry=self._method_configs['CreateBook'].retry,
                default_timeout=self._method_configs['CreateBook'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.CreateBookRequest(
            name=name,
            book=book,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('name', name)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        return self._inner_api_calls['create_book'](request, retry=retry, timeout=timeout, metadata=metadata)

    def publish_series(
            self,
            shelf,
            books,
            series_uuid,
            edition=None,
            review_copy=None,
            publisher=None,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Creates a series of books.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> # TODO: Initialize `shelf`:
            >>> shelf = {}
            >>>
            >>> # TODO: Initialize `books`:
            >>> books = []
            >>> series_string = 'foobar'
            >>> series_uuid = {'series_string': series_string}
            >>>
            >>> response = client.publish_series(shelf, books, series_uuid)

        Args:
            shelf (Union[dict, ~google.cloud.example.library_v1.types.Shelf]): The shelf in which the series is created.

                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Shelf`
            books (list[Union[dict, ~google.cloud.example.library_v1.types.Book]]): The books to publish in the series.

                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Book`
            series_uuid (Union[dict, ~google.cloud.example.library_v1.types.SeriesUuid]): Uniquely identifies the series to the publishing house.

                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.SeriesUuid`
            edition (int): The edition of the series
            review_copy (bool): If the book is in a pre-publish state
            publisher (str): The publisher of the series.
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.PublishSeriesResponse` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'publish_series' not in self._inner_api_calls:
            self._inner_api_calls['publish_series'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.publish_series,
                default_retry=self._method_configs['PublishSeries'].retry,
                default_timeout=self._method_configs['PublishSeries'].timeout,
                client_info=self._client_info,
            )

        # Sanity check: We have some fields which are mutually exclusive;
        # raise ValueError if more than one is sent.
        google.api_core.protobuf_helpers.check_oneof(
            edition=edition,
            review_copy=review_copy,
        )

        request = library_pb2.PublishSeriesRequest(
            shelf=shelf,
            books=books,
            series_uuid=series_uuid,
            edition=edition,
            review_copy=review_copy,
            publisher=publisher,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('shelf.name', shelf.name)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        return self._inner_api_calls['publish_series'](request, retry=retry, timeout=timeout, metadata=metadata)

    def get_book(
            self,
            name,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Gets a book.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> name = client.book_path('[SHELF]', '[BOOK]')
            >>>
            >>> response = client.get_book(name)

        Args:
            name (str): The name of the book to retrieve.
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.Book` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'get_book' not in self._inner_api_calls:
            self._inner_api_calls['get_book'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.get_book,
                default_retry=self._method_configs['GetBook'].retry,
                default_timeout=self._method_configs['GetBook'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.GetBookRequest(
            name=name,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('name', name)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        return self._inner_api_calls['get_book'](request, retry=retry, timeout=timeout, metadata=metadata)

    def list_books(
            self,
            name,
            page_size=None,
            filter_=None,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Lists books in a shelf.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> name = client.shelf_path('[SHELF]')
            >>> filter_ = 'book-filter-string'
            >>>
            >>> # Iterate over all results
            >>> for element in client.list_books(name, filter=filter_):
            ...     # process element
            ...     pass
            >>>
            >>>
            >>> # Alternatively:
            >>>
            >>> # Iterate over results one page at a time
            >>> for page in client.list_books(name, filter=filter_).pages:
            ...     for element in page:
            ...         # process element
            ...         pass

        Args:
            name (str): The name of the shelf whose books we'd like to list.
            page_size (int): The maximum number of resources contained in the
                underlying API response. If page streaming is performed per-
                resource, this parameter does not affect the return value. If page
                streaming is performed per-page, this determines the maximum number
                of resources in a page.
            filter_ (str): To test python built-in wrapping.
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.api_core.page_iterator.PageIterator` instance.
            An iterable of :class:`~google.cloud.example.library_v1.types.Book` instances.
            You can also iterate over the pages of the response
            using its `pages` property.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'list_books' not in self._inner_api_calls:
            self._inner_api_calls['list_books'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.list_books,
                default_retry=self._method_configs['ListBooks'].retry,
                default_timeout=self._method_configs['ListBooks'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.ListBooksRequest(
            name=name,
            page_size=page_size,
            filter=filter_,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('name', name)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        iterator = google.api_core.page_iterator.GRPCIterator(
            client=None,
            method=functools.partial(self._inner_api_calls['list_books'], retry=retry, timeout=timeout, metadata=metadata),
            request=request,
            items_field='books',
            request_token_field='page_token',
            response_token_field='next_page_token',
        )
        return iterator

    def delete_book(
            self,
            name,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Deletes a book.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> name = client.book_path('[SHELF]', '[BOOK]')
            >>>
            >>> client.delete_book(name)

        Args:
            name (str): The name of the book to delete.
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'delete_book' not in self._inner_api_calls:
            self._inner_api_calls['delete_book'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.delete_book,
                default_retry=self._method_configs['DeleteBook'].retry,
                default_timeout=self._method_configs['DeleteBook'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.DeleteBookRequest(
            name=name,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('name', name)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        self._inner_api_calls['delete_book'](request, retry=retry, timeout=timeout, metadata=metadata)

    def update_book(
            self,
            name,
            book,
            optional_foo=None,
            update_mask=None,
            physical_mask=None,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Updates a book.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> name = client.book_path('[SHELF]', '[BOOK]')
            >>>
            >>> # TODO: Initialize `book`:
            >>> book = {}
            >>>
            >>> response = client.update_book(name, book)

        Args:
            name (str): The name of the book to update.
            book (Union[dict, ~google.cloud.example.library_v1.types.Book]): The book to update with.

                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Book`
            optional_foo (str): An optional foo.
            update_mask (Union[dict, ~google.cloud.example.library_v1.types.FieldMask]): A field mask to apply, rendered as an HTTP parameter.

                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.FieldMask`
            physical_mask (Union[dict, ~google.cloud.example.library_v1.types.FieldMask]): To test Python import clash resolution.

                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.FieldMask`
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.Book` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'update_book' not in self._inner_api_calls:
            self._inner_api_calls['update_book'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.update_book,
                default_retry=self._method_configs['UpdateBook'].retry,
                default_timeout=self._method_configs['UpdateBook'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.UpdateBookRequest(
            name=name,
            book=book,
            optional_foo=optional_foo,
            update_mask=update_mask,
            physical_mask=physical_mask,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('name', name)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        return self._inner_api_calls['update_book'](request, retry=retry, timeout=timeout, metadata=metadata)

    def move_book(
            self,
            name,
            other_shelf_name,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Moves a book to another shelf, and returns the new book.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> name = client.book_path('[SHELF]', '[BOOK]')
            >>> other_shelf_name = client.shelf_path('[SHELF]')
            >>>
            >>> response = client.move_book(name, other_shelf_name)

        Args:
            name (str): The name of the book to move.
            other_shelf_name (str): The name of the destination shelf.
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.Book` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'move_book' not in self._inner_api_calls:
            self._inner_api_calls['move_book'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.move_book,
                default_retry=self._method_configs['MoveBook'].retry,
                default_timeout=self._method_configs['MoveBook'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.MoveBookRequest(
            name=name,
            other_shelf_name=other_shelf_name,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('name', name)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        return self._inner_api_calls['move_book'](request, retry=retry, timeout=timeout, metadata=metadata)

    def list_strings(
            self,
            name=None,
            page_size=None,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Lists a primitive resource. To test go page streaming.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> # Iterate over all results
            >>> for element in client.list_strings():
            ...     # process element
            ...     pass
            >>>
            >>>
            >>> # Alternatively:
            >>>
            >>> # Iterate over results one page at a time
            >>> for page in client.list_strings().pages:
            ...     for element in page:
            ...         # process element
            ...         pass

        Args:
            name (str)
            page_size (int): The maximum number of resources contained in the
                underlying API response. If page streaming is performed per-
                resource, this parameter does not affect the return value. If page
                streaming is performed per-page, this determines the maximum number
                of resources in a page.
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.api_core.page_iterator.PageIterator` instance.
            An iterable of :class:`str` instances.
            You can also iterate over the pages of the response
            using its `pages` property.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'list_strings' not in self._inner_api_calls:
            self._inner_api_calls['list_strings'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.list_strings,
                default_retry=self._method_configs['ListStrings'].retry,
                default_timeout=self._method_configs['ListStrings'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.ListStringsRequest(
            name=name,
            page_size=page_size,
        )
        iterator = google.api_core.page_iterator.GRPCIterator(
            client=None,
            method=functools.partial(self._inner_api_calls['list_strings'], retry=retry, timeout=timeout, metadata=metadata),
            request=request,
            items_field='strings',
            request_token_field='page_token',
            response_token_field='next_page_token',
        )
        return iterator

    def add_comments(
            self,
            name,
            comments,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Adds comments to a book

        Example:
            >>> from google.cloud.example import library_v1
            >>> from google.cloud.example.library_v1 import enums
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> name = client.book_path('[SHELF]', '[BOOK]')
            >>> comment = b''
            >>> stage = enums.Comment.Stage.UNSET
            >>> alignment = enums.SomeMessage2.SomeMessage3.Alignment.CHAR
            >>> comments_element = {'comment': comment, 'stage': stage, 'alignment': alignment}
            >>> comments = [comments_element]
            >>>
            >>> client.add_comments(name, comments)

        Args:
            name (str)
            comments (list[Union[dict, ~google.cloud.example.library_v1.types.Comment]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Comment`
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'add_comments' not in self._inner_api_calls:
            self._inner_api_calls['add_comments'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.add_comments,
                default_retry=self._method_configs['AddComments'].retry,
                default_timeout=self._method_configs['AddComments'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.AddCommentsRequest(
            name=name,
            comments=comments,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('name', name)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        self._inner_api_calls['add_comments'](request, retry=retry, timeout=timeout, metadata=metadata)

    def get_book_from_archive(
            self,
            name,
            parent,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Gets a book from an archive.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> name = client.archived_book_path('[ARCHIVE_PATH]', '[BOOK]')
            >>> parent = client.project_path('[PROJECT]')
            >>>
            >>> response = client.get_book_from_archive(name, parent)

        Args:
            name (str): The name of the book to retrieve.
            parent (str)
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.BookFromArchive` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'get_book_from_archive' not in self._inner_api_calls:
            self._inner_api_calls['get_book_from_archive'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.get_book_from_archive,
                default_retry=self._method_configs['GetBookFromArchive'].retry,
                default_timeout=self._method_configs['GetBookFromArchive'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.GetBookFromArchiveRequest(
            name=name,
            parent=parent,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('name', name)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        return self._inner_api_calls['get_book_from_archive'](request, retry=retry, timeout=timeout, metadata=metadata)

    def get_book_from_anywhere(
            self,
            name,
            alt_book_name,
            place,
            folder,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Gets a book from a shelf or archive.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> name = client.book_path('[SHELF]', '[BOOK]')
            >>> alt_book_name = client.book_path('[SHELF]', '[BOOK]')
            >>> place = client.location_path('[PROJECT]', '[LOCATION]')
            >>> folder = client.folder_path('[FOLDER]')
            >>>
            >>> response = client.get_book_from_anywhere(name, alt_book_name, place, folder)

        Args:
            name (str): The name of the book to retrieve.
            alt_book_name (str): An alternate book name, used to test restricting flattened field to a
                single resource name type in a oneof.
            place (str)
            folder (str)
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.BookFromAnywhere` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'get_book_from_anywhere' not in self._inner_api_calls:
            self._inner_api_calls['get_book_from_anywhere'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.get_book_from_anywhere,
                default_retry=self._method_configs['GetBookFromAnywhere'].retry,
                default_timeout=self._method_configs['GetBookFromAnywhere'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.GetBookFromAnywhereRequest(
            name=name,
            alt_book_name=alt_book_name,
            place=place,
            folder=folder,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('name', name)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        return self._inner_api_calls['get_book_from_anywhere'](request, retry=retry, timeout=timeout, metadata=metadata)

    def get_book_from_absolutely_anywhere(
            self,
            name,
            alt_book_name=None,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Test proper OneOf-Any resource name mapping

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> name = client.book_path('[SHELF]', '[BOOK]')
            >>>
            >>> response = client.get_book_from_absolutely_anywhere(name)

        Args:
            name (str): The name of the book to retrieve.
            alt_book_name (str): An alternate book name, used to test proper processing of placeholders
                within additional bindings.
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.BookFromAnywhere` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'get_book_from_absolutely_anywhere' not in self._inner_api_calls:
            self._inner_api_calls['get_book_from_absolutely_anywhere'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.get_book_from_absolutely_anywhere,
                default_retry=self._method_configs['GetBookFromAbsolutelyAnywhere'].retry,
                default_timeout=self._method_configs['GetBookFromAbsolutelyAnywhere'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.GetBookFromAbsolutelyAnywhereRequest(
            name=name,
            alt_book_name=alt_book_name,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('name', name), ('alt_book_name', alt_book_name)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        return self._inner_api_calls['get_book_from_absolutely_anywhere'](request, retry=retry, timeout=timeout, metadata=metadata)

    def update_book_index(
            self,
            name,
            index_name,
            index_map,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Updates the index of a book.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> name = client.book_path('[SHELF]', '[BOOK]')
            >>> index_name = 'default index'
            >>>
            >>> # TODO: Initialize `index_map_item`:
            >>> index_map_item = ''
            >>> index_map = {'default_key': index_map_item}
            >>>
            >>> client.update_book_index(name, index_name, index_map)

        Args:
            name (str): The name of the book to update.
            index_name (str): The name of the index for the book
            index_map (dict[str -> str]): The index to update the book with
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'update_book_index' not in self._inner_api_calls:
            self._inner_api_calls['update_book_index'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.update_book_index,
                default_retry=self._method_configs['UpdateBookIndex'].retry,
                default_timeout=self._method_configs['UpdateBookIndex'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.UpdateBookIndexRequest(
            name=name,
            index_name=index_name,
            index_map=index_map,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('name', name)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        self._inner_api_calls['update_book_index'](request, retry=retry, timeout=timeout, metadata=metadata)

    def stream_shelves(
            self,
            name,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Test server streaming
        gRPC streaming methods don't have an HTTP equivalent and don't need to have the google.api.http option.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> name = client.shelf_path('[SHELF]')
            >>>
            >>> for element in client.stream_shelves(name):
            ...     # process element
            ...     pass

        Args:
            name (str): The name of the shelf to stream.
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            Iterable[~google.cloud.example.library_v1.types.StreamShelvesResponse].

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'stream_shelves' not in self._inner_api_calls:
            self._inner_api_calls['stream_shelves'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.stream_shelves,
                default_retry=self._method_configs['StreamShelves'].retry,
                default_timeout=self._method_configs['StreamShelves'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.StreamShelvesRequest(
            name=name,
        )
        return self._inner_api_calls['stream_shelves'](request, retry=retry, timeout=timeout, metadata=metadata)

    def stream_books(
            self,
            name,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Test server streaming, non-paged responses.
        gRPC streaming methods don't have an HTTP equivalent and don't need to have the google.api.http option.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> # TODO: Initialize `name`:
            >>> name = ''
            >>>
            >>> for element in client.stream_books(name):
            ...     # process element
            ...     pass

        Args:
            name (str): The name of the shelf whose books we'd like to list.
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            Iterable[~google.cloud.example.library_v1.types.Book].

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'stream_books' not in self._inner_api_calls:
            self._inner_api_calls['stream_books'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.stream_books,
                default_retry=self._method_configs['StreamBooks'].retry,
                default_timeout=self._method_configs['StreamBooks'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.StreamBooksRequest(
            name=name,
        )
        return self._inner_api_calls['stream_books'](request, retry=retry, timeout=timeout, metadata=metadata)

    def discuss_book(
            self,
            requests,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Test bidi-streaming.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> name = client.book_path('[SHELF]', '[BOOK]')
            >>> request = {'name': name}
            >>>
            >>> requests = [request]
            >>> for element in client.discuss_book(requests):
            ...     # process element
            ...     pass

        Args:
            requests (iterator[dict|google.cloud.example.library_v1.proto.library_pb2.DiscussBookRequest]): The input objects. If a dict is provided, it must be of the
                same form as the protobuf message :class:`~google.cloud.example.library_v1.types.DiscussBookRequest`
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            Iterable[~google.cloud.example.library_v1.types.Comment].

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'discuss_book' not in self._inner_api_calls:
            self._inner_api_calls['discuss_book'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.discuss_book,
                default_retry=self._method_configs['DiscussBook'].retry,
                default_timeout=self._method_configs['DiscussBook'].timeout,
                client_info=self._client_info,
            )

        return self._inner_api_calls['discuss_book'](requests, retry=retry, timeout=timeout, metadata=metadata)

    def monolog_about_book(
            self,
            requests,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Test client streaming.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> name = client.book_path('[SHELF]', '[BOOK]')
            >>> request = {'name': name}
            >>>
            >>> requests = [request]
            >>> response = client.monolog_about_book(requests)

        Args:
            requests (iterator[dict|google.cloud.example.library_v1.proto.library_pb2.DiscussBookRequest]): The input objects. If a dict is provided, it must be of the
                same form as the protobuf message :class:`~google.cloud.example.library_v1.types.DiscussBookRequest`
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.Comment` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'monolog_about_book' not in self._inner_api_calls:
            self._inner_api_calls['monolog_about_book'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.monolog_about_book,
                default_retry=self._method_configs['MonologAboutBook'].retry,
                default_timeout=self._method_configs['MonologAboutBook'].timeout,
                client_info=self._client_info,
            )

        return self._inner_api_calls['monolog_about_book'](requests, retry=retry, timeout=timeout, metadata=metadata)

    def babble_about_book(
            self,
            requests,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Test samplegen response handling when a client streaming method returns Empty.
        gRPC streaming methods don't have an HTTP equivalent and don't need to have the google.api.http option.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> request = {}
            >>>
            >>> requests = [request]
            >>> client.babble_about_book(requests)

        Args:
            requests (iterator[dict|google.cloud.example.library_v1.proto.library_pb2.DiscussBookRequest]): The input objects. If a dict is provided, it must be of the
                same form as the protobuf message :class:`~google.cloud.example.library_v1.types.DiscussBookRequest`
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'babble_about_book' not in self._inner_api_calls:
            self._inner_api_calls['babble_about_book'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.babble_about_book,
                default_retry=self._method_configs['BabbleAboutBook'].retry,
                default_timeout=self._method_configs['BabbleAboutBook'].timeout,
                client_info=self._client_info,
            )

        self._inner_api_calls['babble_about_book'](requests, retry=retry, timeout=timeout, metadata=metadata)

    def find_related_books(
            self,
            names,
            shelves,
            page_size=None,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> # TODO: Initialize `names_element`:
            >>> names_element = ''
            >>> names = [names_element]
            >>>
            >>> # TODO: Initialize `shelves`:
            >>> shelves = []
            >>>
            >>> # Iterate over all results
            >>> for element in client.find_related_books(names, shelves):
            ...     # process element
            ...     pass
            >>>
            >>>
            >>> # Alternatively:
            >>>
            >>> # Iterate over results one page at a time
            >>> for page in client.find_related_books(names, shelves).pages:
            ...     for element in page:
            ...         # process element
            ...         pass

        Args:
            names (list[str])
            shelves (list[str])
            page_size (int): The maximum number of resources contained in the
                underlying API response. If page streaming is performed per-
                resource, this parameter does not affect the return value. If page
                streaming is performed per-page, this determines the maximum number
                of resources in a page.
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.api_core.page_iterator.PageIterator` instance.
            An iterable of :class:`str` instances.
            You can also iterate over the pages of the response
            using its `pages` property.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'find_related_books' not in self._inner_api_calls:
            self._inner_api_calls['find_related_books'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.find_related_books,
                default_retry=self._method_configs['FindRelatedBooks'].retry,
                default_timeout=self._method_configs['FindRelatedBooks'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.FindRelatedBooksRequest(
            names=names,
            shelves=shelves,
            page_size=page_size,
        )
        iterator = google.api_core.page_iterator.GRPCIterator(
            client=None,
            method=functools.partial(self._inner_api_calls['find_related_books'], retry=retry, timeout=timeout, metadata=metadata),
            request=request,
            items_field='names',
            request_token_field='page_token',
            response_token_field='next_page_token',
        )
        return iterator

    def add_label(
            self,
            resource,
            label,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Adds a label to the entity.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> resource = client.book_path('[SHELF]', '[BOOK]')
            >>>
            >>> # TODO: Initialize `label`:
            >>> label = ''
            >>>
            >>> response = client.add_label(resource, label)

        Args:
            resource (str): REQUIRED: The resource which the label is being added to.
                In the form "shelves/{shelf_id}/books/{book_id}".
            label (str): REQUIRED: The label to add.
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.AddLabelResponse` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'add_label' not in self._inner_api_calls:
            self._inner_api_calls['add_label'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.add_label,
                default_retry=self._method_configs['AddLabel'].retry,
                default_timeout=self._method_configs['AddLabel'].timeout,
                client_info=self._client_info,
            )

        request = tagger_pb2.AddLabelRequest(
            resource=resource,
            label=label,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('resource', resource)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        return self._inner_api_calls['add_label'](request, retry=retry, timeout=timeout, metadata=metadata)

    def get_big_book(
            self,
            name,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Test long-running operations

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> name = client.book_path('[SHELF]', '[BOOK]')
            >>>
            >>> response = client.get_big_book(name)
            >>>
            >>> def callback(operation_future):
            ...     # Handle result.
            ...     result = operation_future.result()
            >>>
            >>> response.add_done_callback(callback)
            >>>
            >>> # Handle metadata.
            >>> metadata = response.metadata()

        Args:
            name (str): The name of the book to retrieve.
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types._OperationFuture` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'get_big_book' not in self._inner_api_calls:
            self._inner_api_calls['get_big_book'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.get_big_book,
                default_retry=self._method_configs['GetBigBook'].retry,
                default_timeout=self._method_configs['GetBigBook'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.GetBookRequest(
            name=name,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('name', name)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        operation = self._inner_api_calls['get_big_book'](request, retry=retry, timeout=timeout, metadata=metadata)
        return google.api_core.operation.from_gapic(
            operation,
            self.transport._operations_client,
            library_pb2.Book,
            metadata_type=library_pb2.GetBigBookMetadata,
        )

    def get_big_nothing(
            self,
            name,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Test long-running operations with empty return type.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> name = client.book_path('[SHELF]', '[BOOK]')
            >>>
            >>> response = client.get_big_nothing(name)
            >>>
            >>> def callback(operation_future):
            ...     # Handle result.
            ...     result = operation_future.result()
            >>>
            >>> response.add_done_callback(callback)
            >>>
            >>> # Handle metadata.
            >>> metadata = response.metadata()

        Args:
            name (str): The name of the book to retrieve.
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types._OperationFuture` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'get_big_nothing' not in self._inner_api_calls:
            self._inner_api_calls['get_big_nothing'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.get_big_nothing,
                default_retry=self._method_configs['GetBigNothing'].retry,
                default_timeout=self._method_configs['GetBigNothing'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.GetBookRequest(
            name=name,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('name', name)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        operation = self._inner_api_calls['get_big_nothing'](request, retry=retry, timeout=timeout, metadata=metadata)
        return google.api_core.operation.from_gapic(
            operation,
            self.transport._operations_client,
            empty_pb2.Empty,
            metadata_type=library_pb2.GetBigBookMetadata,
        )

    def test_optional_required_flattening_params(
            self,
            required_singular_int32,
            required_singular_int64,
            required_singular_float,
            required_singular_double,
            required_singular_bool,
            required_singular_enum,
            required_singular_string,
            required_singular_bytes,
            required_singular_message,
            required_singular_resource_name,
            required_singular_resource_name_oneof,
            required_singular_resource_name_common,
            required_singular_fixed32,
            required_singular_fixed64,
            required_repeated_int32,
            required_repeated_int64,
            required_repeated_float,
            required_repeated_double,
            required_repeated_bool,
            required_repeated_enum,
            required_repeated_string,
            required_repeated_bytes,
            required_repeated_message,
            required_repeated_resource_name,
            required_repeated_resource_name_oneof,
            required_repeated_resource_name_common,
            required_repeated_fixed32,
            required_repeated_fixed64,
            required_map,
            required_any_value,
            required_struct_value,
            required_value_value,
            required_list_value_value,
            required_time_value,
            required_duration_value,
            required_field_mask_value,
            required_int32_value,
            required_uint32_value,
            required_int64_value,
            required_uint64_value,
            required_float_value,
            required_double_value,
            required_string_value,
            required_bool_value,
            required_bytes_value,
            required_repeated_any_value,
            required_repeated_struct_value,
            required_repeated_value_value,
            required_repeated_list_value_value,
            required_repeated_time_value,
            required_repeated_duration_value,
            required_repeated_field_mask_value,
            required_repeated_int32_value,
            required_repeated_uint32_value,
            required_repeated_int64_value,
            required_repeated_uint64_value,
            required_repeated_float_value,
            required_repeated_double_value,
            required_repeated_string_value,
            required_repeated_bool_value,
            required_repeated_bytes_value,
            optional_singular_int32=None,
            optional_singular_int64=None,
            optional_singular_float=None,
            optional_singular_double=None,
            optional_singular_bool=None,
            optional_singular_enum=None,
            optional_singular_string=None,
            optional_singular_bytes=None,
            optional_singular_message=None,
            optional_singular_resource_name=None,
            optional_singular_resource_name_oneof=None,
            optional_singular_resource_name_common=None,
            optional_singular_fixed32=None,
            optional_singular_fixed64=None,
            optional_repeated_int32=None,
            optional_repeated_int64=None,
            optional_repeated_float=None,
            optional_repeated_double=None,
            optional_repeated_bool=None,
            optional_repeated_enum=None,
            optional_repeated_string=None,
            optional_repeated_bytes=None,
            optional_repeated_message=None,
            optional_repeated_resource_name=None,
            optional_repeated_resource_name_oneof=None,
            optional_repeated_resource_name_common=None,
            optional_repeated_fixed32=None,
            optional_repeated_fixed64=None,
            optional_map=None,
            any_value=None,
            struct_value=None,
            value_value=None,
            list_value_value=None,
            time_value=None,
            duration_value=None,
            field_mask_value=None,
            int32_value=None,
            uint32_value=None,
            int64_value=None,
            uint64_value=None,
            float_value=None,
            double_value=None,
            string_value=None,
            bool_value=None,
            bytes_value=None,
            repeated_any_value=None,
            repeated_struct_value=None,
            repeated_value_value=None,
            repeated_list_value_value=None,
            repeated_time_value=None,
            repeated_duration_value=None,
            repeated_field_mask_value=None,
            repeated_int32_value=None,
            repeated_uint32_value=None,
            repeated_int64_value=None,
            repeated_uint64_value=None,
            repeated_float_value=None,
            repeated_double_value=None,
            repeated_string_value=None,
            repeated_bool_value=None,
            repeated_bytes_value=None,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Test optional flattening parameters of all types

        Example:
            >>> from google.cloud.example import library_v1
            >>> from google.cloud.example.library_v1 import enums
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> # TODO: Initialize `required_singular_int32`:
            >>> required_singular_int32 = 0
            >>>
            >>> # TODO: Initialize `required_singular_int64`:
            >>> required_singular_int64 = 0
            >>>
            >>> # TODO: Initialize `required_singular_float`:
            >>> required_singular_float = 0.0
            >>>
            >>> # TODO: Initialize `required_singular_double`:
            >>> required_singular_double = 0.0
            >>>
            >>> # TODO: Initialize `required_singular_bool`:
            >>> required_singular_bool = False
            >>>
            >>> # TODO: Initialize `required_singular_enum`:
            >>> required_singular_enum = enums.TestOptionalRequiredFlatteningParamsRequest.InnerEnum.ZERO
            >>>
            >>> # TODO: Initialize `required_singular_string`:
            >>> required_singular_string = ''
            >>>
            >>> # TODO: Initialize `required_singular_bytes`:
            >>> required_singular_bytes = b''
            >>>
            >>> # TODO: Initialize `required_singular_message`:
            >>> required_singular_message = {}
            >>> required_singular_resource_name = client.book_path('[SHELF]', '[BOOK]')
            >>> required_singular_resource_name_oneof = client.book_path('[SHELF]', '[BOOK]')
            >>> required_singular_resource_name_common = client.project_path('[PROJECT]')
            >>>
            >>> # TODO: Initialize `required_singular_fixed32`:
            >>> required_singular_fixed32 = 0
            >>>
            >>> # TODO: Initialize `required_singular_fixed64`:
            >>> required_singular_fixed64 = 0
            >>>
            >>> # TODO: Initialize `required_repeated_int32`:
            >>> required_repeated_int32 = []
            >>>
            >>> # TODO: Initialize `required_repeated_int64`:
            >>> required_repeated_int64 = []
            >>>
            >>> # TODO: Initialize `required_repeated_float`:
            >>> required_repeated_float = []
            >>>
            >>> # TODO: Initialize `required_repeated_double`:
            >>> required_repeated_double = []
            >>>
            >>> # TODO: Initialize `required_repeated_bool`:
            >>> required_repeated_bool = []
            >>>
            >>> # TODO: Initialize `required_repeated_enum`:
            >>> required_repeated_enum = []
            >>>
            >>> # TODO: Initialize `required_repeated_string`:
            >>> required_repeated_string = []
            >>>
            >>> # TODO: Initialize `required_repeated_bytes`:
            >>> required_repeated_bytes = []
            >>>
            >>> # TODO: Initialize `required_repeated_message`:
            >>> required_repeated_message = []
            >>>
            >>> # TODO: Initialize `required_repeated_resource_name`:
            >>> required_repeated_resource_name = []
            >>>
            >>> # TODO: Initialize `required_repeated_resource_name_oneof`:
            >>> required_repeated_resource_name_oneof = []
            >>>
            >>> # TODO: Initialize `required_repeated_resource_name_common`:
            >>> required_repeated_resource_name_common = []
            >>>
            >>> # TODO: Initialize `required_repeated_fixed32`:
            >>> required_repeated_fixed32 = []
            >>>
            >>> # TODO: Initialize `required_repeated_fixed64`:
            >>> required_repeated_fixed64 = []
            >>>
            >>> # TODO: Initialize `required_map`:
            >>> required_map = {}
            >>>
            >>> # TODO: Initialize `required_any_value`:
            >>> required_any_value = {}
            >>>
            >>> # TODO: Initialize `required_struct_value`:
            >>> required_struct_value = {}
            >>>
            >>> # TODO: Initialize `required_value_value`:
            >>> required_value_value = {}
            >>>
            >>> # TODO: Initialize `required_list_value_value`:
            >>> required_list_value_value = {}
            >>>
            >>> # TODO: Initialize `required_time_value`:
            >>> required_time_value = {}
            >>>
            >>> # TODO: Initialize `required_duration_value`:
            >>> required_duration_value = {}
            >>>
            >>> # TODO: Initialize `required_field_mask_value`:
            >>> required_field_mask_value = {}
            >>>
            >>> # TODO: Initialize `required_int32_value`:
            >>> required_int32_value = {}
            >>>
            >>> # TODO: Initialize `required_uint32_value`:
            >>> required_uint32_value = {}
            >>>
            >>> # TODO: Initialize `required_int64_value`:
            >>> required_int64_value = {}
            >>>
            >>> # TODO: Initialize `required_uint64_value`:
            >>> required_uint64_value = {}
            >>>
            >>> # TODO: Initialize `required_float_value`:
            >>> required_float_value = {}
            >>>
            >>> # TODO: Initialize `required_double_value`:
            >>> required_double_value = {}
            >>>
            >>> # TODO: Initialize `required_string_value`:
            >>> required_string_value = {}
            >>>
            >>> # TODO: Initialize `required_bool_value`:
            >>> required_bool_value = {}
            >>>
            >>> # TODO: Initialize `required_bytes_value`:
            >>> required_bytes_value = {}
            >>>
            >>> # TODO: Initialize `required_repeated_any_value`:
            >>> required_repeated_any_value = []
            >>>
            >>> # TODO: Initialize `required_repeated_struct_value`:
            >>> required_repeated_struct_value = []
            >>>
            >>> # TODO: Initialize `required_repeated_value_value`:
            >>> required_repeated_value_value = []
            >>>
            >>> # TODO: Initialize `required_repeated_list_value_value`:
            >>> required_repeated_list_value_value = []
            >>>
            >>> # TODO: Initialize `required_repeated_time_value`:
            >>> required_repeated_time_value = []
            >>>
            >>> # TODO: Initialize `required_repeated_duration_value`:
            >>> required_repeated_duration_value = []
            >>>
            >>> # TODO: Initialize `required_repeated_field_mask_value`:
            >>> required_repeated_field_mask_value = []
            >>>
            >>> # TODO: Initialize `required_repeated_int32_value`:
            >>> required_repeated_int32_value = []
            >>>
            >>> # TODO: Initialize `required_repeated_uint32_value`:
            >>> required_repeated_uint32_value = []
            >>>
            >>> # TODO: Initialize `required_repeated_int64_value`:
            >>> required_repeated_int64_value = []
            >>>
            >>> # TODO: Initialize `required_repeated_uint64_value`:
            >>> required_repeated_uint64_value = []
            >>>
            >>> # TODO: Initialize `required_repeated_float_value`:
            >>> required_repeated_float_value = []
            >>>
            >>> # TODO: Initialize `required_repeated_double_value`:
            >>> required_repeated_double_value = []
            >>>
            >>> # TODO: Initialize `required_repeated_string_value`:
            >>> required_repeated_string_value = []
            >>>
            >>> # TODO: Initialize `required_repeated_bool_value`:
            >>> required_repeated_bool_value = []
            >>>
            >>> # TODO: Initialize `required_repeated_bytes_value`:
            >>> required_repeated_bytes_value = []
            >>>
            >>> response = client.test_optional_required_flattening_params(required_singular_int32, required_singular_int64, required_singular_float, required_singular_double, required_singular_bool, required_singular_enum, required_singular_string, required_singular_bytes, required_singular_message, required_singular_resource_name, required_singular_resource_name_oneof, required_singular_resource_name_common, required_singular_fixed32, required_singular_fixed64, required_repeated_int32, required_repeated_int64, required_repeated_float, required_repeated_double, required_repeated_bool, required_repeated_enum, required_repeated_string, required_repeated_bytes, required_repeated_message, required_repeated_resource_name, required_repeated_resource_name_oneof, required_repeated_resource_name_common, required_repeated_fixed32, required_repeated_fixed64, required_map, required_any_value, required_struct_value, required_value_value, required_list_value_value, required_time_value, required_duration_value, required_field_mask_value, required_int32_value, required_uint32_value, required_int64_value, required_uint64_value, required_float_value, required_double_value, required_string_value, required_bool_value, required_bytes_value, required_repeated_any_value, required_repeated_struct_value, required_repeated_value_value, required_repeated_list_value_value, required_repeated_time_value, required_repeated_duration_value, required_repeated_field_mask_value, required_repeated_int32_value, required_repeated_uint32_value, required_repeated_int64_value, required_repeated_uint64_value, required_repeated_float_value, required_repeated_double_value, required_repeated_string_value, required_repeated_bool_value, required_repeated_bytes_value)

        Args:
            required_singular_int32 (int)
            required_singular_int64 (long)
            required_singular_float (float)
            required_singular_double (float)
            required_singular_bool (bool)
            required_singular_enum (~google.cloud.example.library_v1.types.InnerEnum)
            required_singular_string (str)
            required_singular_bytes (bytes)
            required_singular_message (Union[dict, ~google.cloud.example.library_v1.types.InnerMessage]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.InnerMessage`
            required_singular_resource_name (str)
            required_singular_resource_name_oneof (str)
            required_singular_resource_name_common (str)
            required_singular_fixed32 (int)
            required_singular_fixed64 (long)
            required_repeated_int32 (list[int])
            required_repeated_int64 (list[long])
            required_repeated_float (list[float])
            required_repeated_double (list[float])
            required_repeated_bool (list[bool])
            required_repeated_enum (list[~google.cloud.example.library_v1.types.InnerEnum])
            required_repeated_string (list[str])
            required_repeated_bytes (list[bytes])
            required_repeated_message (list[Union[dict, ~google.cloud.example.library_v1.types.InnerMessage]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.InnerMessage`
            required_repeated_resource_name (list[str])
            required_repeated_resource_name_oneof (list[str])
            required_repeated_resource_name_common (list[str])
            required_repeated_fixed32 (list[int])
            required_repeated_fixed64 (list[long])
            required_map (dict[int -> str])
            required_any_value (Union[dict, ~google.cloud.example.library_v1.types.Any]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Any`
            required_struct_value (Union[dict, ~google.cloud.example.library_v1.types.Struct]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Struct`
            required_value_value (Union[dict, ~google.cloud.example.library_v1.types.Value]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Value`
            required_list_value_value (Union[dict, ~google.cloud.example.library_v1.types.ListValue]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.ListValue`
            required_time_value (Union[dict, ~google.cloud.example.library_v1.types.Timestamp]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Timestamp`
            required_duration_value (Union[dict, ~google.cloud.example.library_v1.types.Duration]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Duration`
            required_field_mask_value (Union[dict, ~google.cloud.example.library_v1.types.FieldMask]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.FieldMask`
            required_int32_value (Union[dict, ~google.cloud.example.library_v1.types.Int32Value]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Int32Value`
            required_uint32_value (Union[dict, ~google.cloud.example.library_v1.types.UInt32Value]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.UInt32Value`
            required_int64_value (Union[dict, ~google.cloud.example.library_v1.types.Int64Value]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Int64Value`
            required_uint64_value (Union[dict, ~google.cloud.example.library_v1.types.UInt64Value]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.UInt64Value`
            required_float_value (Union[dict, ~google.cloud.example.library_v1.types.FloatValue]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.FloatValue`
            required_double_value (Union[dict, ~google.cloud.example.library_v1.types.DoubleValue]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.DoubleValue`
            required_string_value (Union[dict, ~google.cloud.example.library_v1.types.StringValue]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.StringValue`
            required_bool_value (Union[dict, ~google.cloud.example.library_v1.types.BoolValue]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.BoolValue`
            required_bytes_value (Union[dict, ~google.cloud.example.library_v1.types.BytesValue]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.BytesValue`
            required_repeated_any_value (list[Union[dict, ~google.cloud.example.library_v1.types.Any]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Any`
            required_repeated_struct_value (list[Union[dict, ~google.cloud.example.library_v1.types.Struct]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Struct`
            required_repeated_value_value (list[Union[dict, ~google.cloud.example.library_v1.types.Value]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Value`
            required_repeated_list_value_value (list[Union[dict, ~google.cloud.example.library_v1.types.ListValue]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.ListValue`
            required_repeated_time_value (list[Union[dict, ~google.cloud.example.library_v1.types.Timestamp]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Timestamp`
            required_repeated_duration_value (list[Union[dict, ~google.cloud.example.library_v1.types.Duration]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Duration`
            required_repeated_field_mask_value (list[Union[dict, ~google.cloud.example.library_v1.types.FieldMask]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.FieldMask`
            required_repeated_int32_value (list[Union[dict, ~google.cloud.example.library_v1.types.Int32Value]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Int32Value`
            required_repeated_uint32_value (list[Union[dict, ~google.cloud.example.library_v1.types.UInt32Value]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.UInt32Value`
            required_repeated_int64_value (list[Union[dict, ~google.cloud.example.library_v1.types.Int64Value]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Int64Value`
            required_repeated_uint64_value (list[Union[dict, ~google.cloud.example.library_v1.types.UInt64Value]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.UInt64Value`
            required_repeated_float_value (list[Union[dict, ~google.cloud.example.library_v1.types.FloatValue]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.FloatValue`
            required_repeated_double_value (list[Union[dict, ~google.cloud.example.library_v1.types.DoubleValue]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.DoubleValue`
            required_repeated_string_value (list[Union[dict, ~google.cloud.example.library_v1.types.StringValue]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.StringValue`
            required_repeated_bool_value (list[Union[dict, ~google.cloud.example.library_v1.types.BoolValue]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.BoolValue`
            required_repeated_bytes_value (list[Union[dict, ~google.cloud.example.library_v1.types.BytesValue]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.BytesValue`
            optional_singular_int32 (int)
            optional_singular_int64 (long)
            optional_singular_float (float)
            optional_singular_double (float)
            optional_singular_bool (bool)
            optional_singular_enum (~google.cloud.example.library_v1.types.InnerEnum)
            optional_singular_string (str)
            optional_singular_bytes (bytes)
            optional_singular_message (Union[dict, ~google.cloud.example.library_v1.types.InnerMessage]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.InnerMessage`
            optional_singular_resource_name (str)
            optional_singular_resource_name_oneof (str)
            optional_singular_resource_name_common (str)
            optional_singular_fixed32 (int)
            optional_singular_fixed64 (long)
            optional_repeated_int32 (list[int])
            optional_repeated_int64 (list[long])
            optional_repeated_float (list[float])
            optional_repeated_double (list[float])
            optional_repeated_bool (list[bool])
            optional_repeated_enum (list[~google.cloud.example.library_v1.types.InnerEnum])
            optional_repeated_string (list[str])
            optional_repeated_bytes (list[bytes])
            optional_repeated_message (list[Union[dict, ~google.cloud.example.library_v1.types.InnerMessage]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.InnerMessage`
            optional_repeated_resource_name (list[str])
            optional_repeated_resource_name_oneof (list[str])
            optional_repeated_resource_name_common (list[str])
            optional_repeated_fixed32 (list[int])
            optional_repeated_fixed64 (list[long])
            optional_map (dict[int -> str])
            any_value (Union[dict, ~google.cloud.example.library_v1.types.Any]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Any`
            struct_value (Union[dict, ~google.cloud.example.library_v1.types.Struct]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Struct`
            value_value (Union[dict, ~google.cloud.example.library_v1.types.Value]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Value`
            list_value_value (Union[dict, ~google.cloud.example.library_v1.types.ListValue]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.ListValue`
            time_value (Union[dict, ~google.cloud.example.library_v1.types.Timestamp]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Timestamp`
            duration_value (Union[dict, ~google.cloud.example.library_v1.types.Duration]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Duration`
            field_mask_value (Union[dict, ~google.cloud.example.library_v1.types.FieldMask]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.FieldMask`
            int32_value (Union[dict, ~google.cloud.example.library_v1.types.Int32Value]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Int32Value`
            uint32_value (Union[dict, ~google.cloud.example.library_v1.types.UInt32Value]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.UInt32Value`
            int64_value (Union[dict, ~google.cloud.example.library_v1.types.Int64Value]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Int64Value`
            uint64_value (Union[dict, ~google.cloud.example.library_v1.types.UInt64Value]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.UInt64Value`
            float_value (Union[dict, ~google.cloud.example.library_v1.types.FloatValue]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.FloatValue`
            double_value (Union[dict, ~google.cloud.example.library_v1.types.DoubleValue]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.DoubleValue`
            string_value (Union[dict, ~google.cloud.example.library_v1.types.StringValue]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.StringValue`
            bool_value (Union[dict, ~google.cloud.example.library_v1.types.BoolValue]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.BoolValue`
            bytes_value (Union[dict, ~google.cloud.example.library_v1.types.BytesValue]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.BytesValue`
            repeated_any_value (list[Union[dict, ~google.cloud.example.library_v1.types.Any]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Any`
            repeated_struct_value (list[Union[dict, ~google.cloud.example.library_v1.types.Struct]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Struct`
            repeated_value_value (list[Union[dict, ~google.cloud.example.library_v1.types.Value]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Value`
            repeated_list_value_value (list[Union[dict, ~google.cloud.example.library_v1.types.ListValue]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.ListValue`
            repeated_time_value (list[Union[dict, ~google.cloud.example.library_v1.types.Timestamp]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Timestamp`
            repeated_duration_value (list[Union[dict, ~google.cloud.example.library_v1.types.Duration]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Duration`
            repeated_field_mask_value (list[Union[dict, ~google.cloud.example.library_v1.types.FieldMask]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.FieldMask`
            repeated_int32_value (list[Union[dict, ~google.cloud.example.library_v1.types.Int32Value]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Int32Value`
            repeated_uint32_value (list[Union[dict, ~google.cloud.example.library_v1.types.UInt32Value]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.UInt32Value`
            repeated_int64_value (list[Union[dict, ~google.cloud.example.library_v1.types.Int64Value]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Int64Value`
            repeated_uint64_value (list[Union[dict, ~google.cloud.example.library_v1.types.UInt64Value]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.UInt64Value`
            repeated_float_value (list[Union[dict, ~google.cloud.example.library_v1.types.FloatValue]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.FloatValue`
            repeated_double_value (list[Union[dict, ~google.cloud.example.library_v1.types.DoubleValue]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.DoubleValue`
            repeated_string_value (list[Union[dict, ~google.cloud.example.library_v1.types.StringValue]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.StringValue`
            repeated_bool_value (list[Union[dict, ~google.cloud.example.library_v1.types.BoolValue]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.BoolValue`
            repeated_bytes_value (list[Union[dict, ~google.cloud.example.library_v1.types.BytesValue]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.BytesValue`
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.TestOptionalRequiredFlatteningParamsResponse` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'test_optional_required_flattening_params' not in self._inner_api_calls:
            self._inner_api_calls['test_optional_required_flattening_params'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.test_optional_required_flattening_params,
                default_retry=self._method_configs['TestOptionalRequiredFlatteningParams'].retry,
                default_timeout=self._method_configs['TestOptionalRequiredFlatteningParams'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.TestOptionalRequiredFlatteningParamsRequest(
            required_singular_int32=required_singular_int32,
            required_singular_int64=required_singular_int64,
            required_singular_float=required_singular_float,
            required_singular_double=required_singular_double,
            required_singular_bool=required_singular_bool,
            required_singular_enum=required_singular_enum,
            required_singular_string=required_singular_string,
            required_singular_bytes=required_singular_bytes,
            required_singular_message=required_singular_message,
            required_singular_resource_name=required_singular_resource_name,
            required_singular_resource_name_oneof=required_singular_resource_name_oneof,
            required_singular_resource_name_common=required_singular_resource_name_common,
            required_singular_fixed32=required_singular_fixed32,
            required_singular_fixed64=required_singular_fixed64,
            required_repeated_int32=required_repeated_int32,
            required_repeated_int64=required_repeated_int64,
            required_repeated_float=required_repeated_float,
            required_repeated_double=required_repeated_double,
            required_repeated_bool=required_repeated_bool,
            required_repeated_enum=required_repeated_enum,
            required_repeated_string=required_repeated_string,
            required_repeated_bytes=required_repeated_bytes,
            required_repeated_message=required_repeated_message,
            required_repeated_resource_name=required_repeated_resource_name,
            required_repeated_resource_name_oneof=required_repeated_resource_name_oneof,
            required_repeated_resource_name_common=required_repeated_resource_name_common,
            required_repeated_fixed32=required_repeated_fixed32,
            required_repeated_fixed64=required_repeated_fixed64,
            required_map=required_map,
            required_any_value=required_any_value,
            required_struct_value=required_struct_value,
            required_value_value=required_value_value,
            required_list_value_value=required_list_value_value,
            required_time_value=required_time_value,
            required_duration_value=required_duration_value,
            required_field_mask_value=required_field_mask_value,
            required_int32_value=required_int32_value,
            required_uint32_value=required_uint32_value,
            required_int64_value=required_int64_value,
            required_uint64_value=required_uint64_value,
            required_float_value=required_float_value,
            required_double_value=required_double_value,
            required_string_value=required_string_value,
            required_bool_value=required_bool_value,
            required_bytes_value=required_bytes_value,
            required_repeated_any_value=required_repeated_any_value,
            required_repeated_struct_value=required_repeated_struct_value,
            required_repeated_value_value=required_repeated_value_value,
            required_repeated_list_value_value=required_repeated_list_value_value,
            required_repeated_time_value=required_repeated_time_value,
            required_repeated_duration_value=required_repeated_duration_value,
            required_repeated_field_mask_value=required_repeated_field_mask_value,
            required_repeated_int32_value=required_repeated_int32_value,
            required_repeated_uint32_value=required_repeated_uint32_value,
            required_repeated_int64_value=required_repeated_int64_value,
            required_repeated_uint64_value=required_repeated_uint64_value,
            required_repeated_float_value=required_repeated_float_value,
            required_repeated_double_value=required_repeated_double_value,
            required_repeated_string_value=required_repeated_string_value,
            required_repeated_bool_value=required_repeated_bool_value,
            required_repeated_bytes_value=required_repeated_bytes_value,
            optional_singular_int32=optional_singular_int32,
            optional_singular_int64=optional_singular_int64,
            optional_singular_float=optional_singular_float,
            optional_singular_double=optional_singular_double,
            optional_singular_bool=optional_singular_bool,
            optional_singular_enum=optional_singular_enum,
            optional_singular_string=optional_singular_string,
            optional_singular_bytes=optional_singular_bytes,
            optional_singular_message=optional_singular_message,
            optional_singular_resource_name=optional_singular_resource_name,
            optional_singular_resource_name_oneof=optional_singular_resource_name_oneof,
            optional_singular_resource_name_common=optional_singular_resource_name_common,
            optional_singular_fixed32=optional_singular_fixed32,
            optional_singular_fixed64=optional_singular_fixed64,
            optional_repeated_int32=optional_repeated_int32,
            optional_repeated_int64=optional_repeated_int64,
            optional_repeated_float=optional_repeated_float,
            optional_repeated_double=optional_repeated_double,
            optional_repeated_bool=optional_repeated_bool,
            optional_repeated_enum=optional_repeated_enum,
            optional_repeated_string=optional_repeated_string,
            optional_repeated_bytes=optional_repeated_bytes,
            optional_repeated_message=optional_repeated_message,
            optional_repeated_resource_name=optional_repeated_resource_name,
            optional_repeated_resource_name_oneof=optional_repeated_resource_name_oneof,
            optional_repeated_resource_name_common=optional_repeated_resource_name_common,
            optional_repeated_fixed32=optional_repeated_fixed32,
            optional_repeated_fixed64=optional_repeated_fixed64,
            optional_map=optional_map,
            any_value=any_value,
            struct_value=struct_value,
            value_value=value_value,
            list_value_value=list_value_value,
            time_value=time_value,
            duration_value=duration_value,
            field_mask_value=field_mask_value,
            int32_value=int32_value,
            uint32_value=uint32_value,
            int64_value=int64_value,
            uint64_value=uint64_value,
            float_value=float_value,
            double_value=double_value,
            string_value=string_value,
            bool_value=bool_value,
            bytes_value=bytes_value,
            repeated_any_value=repeated_any_value,
            repeated_struct_value=repeated_struct_value,
            repeated_value_value=repeated_value_value,
            repeated_list_value_value=repeated_list_value_value,
            repeated_time_value=repeated_time_value,
            repeated_duration_value=repeated_duration_value,
            repeated_field_mask_value=repeated_field_mask_value,
            repeated_int32_value=repeated_int32_value,
            repeated_uint32_value=repeated_uint32_value,
            repeated_int64_value=repeated_int64_value,
            repeated_uint64_value=repeated_uint64_value,
            repeated_float_value=repeated_float_value,
            repeated_double_value=repeated_double_value,
            repeated_string_value=repeated_string_value,
            repeated_bool_value=repeated_bool_value,
            repeated_bytes_value=repeated_bytes_value,
        )
        return self._inner_api_calls['test_optional_required_flattening_params'](request, retry=retry, timeout=timeout, metadata=metadata)

    def move_books(
            self,
            source=None,
            destination=None,
            publishers=None,
            project=None,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> response = client.move_books()

        Args:
            source (str)
            destination (str)
            publishers (list[str])
            project (str)
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.MoveBooksResponse` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'move_books' not in self._inner_api_calls:
            self._inner_api_calls['move_books'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.move_books,
                default_retry=self._method_configs['MoveBooks'].retry,
                default_timeout=self._method_configs['MoveBooks'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.MoveBooksRequest(
            source=source,
            destination=destination,
            publishers=publishers,
            project=project,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('source', source)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        return self._inner_api_calls['move_books'](request, retry=retry, timeout=timeout, metadata=metadata)

    def archive_books(
            self,
            source=None,
            archive=None,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> response = client.archive_books()

        Args:
            source (str)
            archive (str)
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.ArchiveBooksResponse` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'archive_books' not in self._inner_api_calls:
            self._inner_api_calls['archive_books'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.archive_books,
                default_retry=self._method_configs['ArchiveBooks'].retry,
                default_timeout=self._method_configs['ArchiveBooks'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.ArchiveBooksRequest(
            source=source,
            archive=archive,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('source', source)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        return self._inner_api_calls['archive_books'](request, retry=retry, timeout=timeout, metadata=metadata)

    def long_running_archive_books(
            self,
            source=None,
            archive=None,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> response = client.long_running_archive_books()

        Args:
            source (str)
            archive (str)
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.Operation` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'long_running_archive_books' not in self._inner_api_calls:
            self._inner_api_calls['long_running_archive_books'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.long_running_archive_books,
                default_retry=self._method_configs['LongRunningArchiveBooks'].retry,
                default_timeout=self._method_configs['LongRunningArchiveBooks'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.ArchiveBooksRequest(
            source=source,
            archive=archive,
        )
        if metadata is None:
            metadata = []
        metadata = list(metadata)
        try:
            routing_header = [('source', source)]
        except AttributeError:
            pass
        else:
            routing_metadata = google.api_core.gapic_v1.routing_header.to_grpc_metadata(routing_header)
            metadata.append(routing_metadata)

        return self._inner_api_calls['long_running_archive_books'](request, retry=retry, timeout=timeout, metadata=metadata)

    def streaming_archive_books(
            self,
            requests,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> request = {}
            >>>
            >>> requests = [request]
            >>> for element in client.streaming_archive_books(requests):
            ...     # process element
            ...     pass

        Args:
            requests (iterator[dict|google.cloud.example.library_v1.proto.library_pb2.ArchiveBooksRequest]): The input objects. If a dict is provided, it must be of the
                same form as the protobuf message :class:`~google.cloud.example.library_v1.types.ArchiveBooksRequest`
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            Iterable[~google.cloud.example.library_v1.types.ArchiveBooksResponse].

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'streaming_archive_books' not in self._inner_api_calls:
            self._inner_api_calls['streaming_archive_books'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.streaming_archive_books,
                default_retry=self._method_configs['StreamingArchiveBooks'].retry,
                default_timeout=self._method_configs['StreamingArchiveBooks'].timeout,
                client_info=self._client_info,
            )

        return self._inner_api_calls['streaming_archive_books'](requests, retry=retry, timeout=timeout, metadata=metadata)

    def save_book(
            self,
            name=None,
            author=None,
            title=None,
            read=None,
            rating=None,
            any_value=None,
            struct_value=None,
            value_value=None,
            list_value_value=None,
            map_list_value_value=None,
            time_value=None,
            duration_value=None,
            field_mask_value=None,
            int32_value=None,
            uint32_value=None,
            int64_value=None,
            uint64_value=None,
            float_value=None,
            double_value=None,
            string_value=None,
            bool_value=None,
            bytes_value=None,
            map_string_value=None,
            map_message_value=None,
            resource=None,
            map_bool_key=None,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Test using resource messages as request objects. Only used by PubSub (CreateSubscription) for historical reasons.
        New APIs should always create a separate message for a request.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> client.save_book()

        Args:
            name (str): The resource name of the book.
                Book names have the form `bookShelves/{shelf_id}/books/{book_id}`.
                Message field comment may include special characters: <>&"`'@.
            author (str): The name of the book author.
            title (str): The title of the book.
            read (bool): Value indicating whether the book has been read.
            rating (~google.cloud.example.library_v1.types.Rating): For testing enums.
            any_value (Union[dict, ~google.cloud.example.library_v1.types.Any]): For testing all well-known types.

                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Any`
            struct_value (Union[dict, ~google.cloud.example.library_v1.types.Struct]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Struct`
            value_value (Union[dict, ~google.cloud.example.library_v1.types.Value]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Value`
            list_value_value (Union[dict, ~google.cloud.example.library_v1.types.ListValue]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.ListValue`
            map_list_value_value (dict[str -> Union[dict, ~google.cloud.example.library_v1.types.ListValue]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.ListValue`
            time_value (Union[dict, ~google.cloud.example.library_v1.types.Timestamp]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Timestamp`
            duration_value (Union[dict, ~google.cloud.example.library_v1.types.Duration]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Duration`
            field_mask_value (Union[dict, ~google.cloud.example.library_v1.types.FieldMask]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.FieldMask`
            int32_value (Union[dict, ~google.cloud.example.library_v1.types.Int32Value]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Int32Value`
            uint32_value (Union[dict, ~google.cloud.example.library_v1.types.UInt32Value]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.UInt32Value`
            int64_value (Union[dict, ~google.cloud.example.library_v1.types.Int64Value]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Int64Value`
            uint64_value (Union[dict, ~google.cloud.example.library_v1.types.UInt64Value]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.UInt64Value`
            float_value (Union[dict, ~google.cloud.example.library_v1.types.FloatValue]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.FloatValue`
            double_value (Union[dict, ~google.cloud.example.library_v1.types.DoubleValue]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.DoubleValue`
            string_value (Union[dict, ~google.cloud.example.library_v1.types.StringValue]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.StringValue`
            bool_value (Union[dict, ~google.cloud.example.library_v1.types.BoolValue]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.BoolValue`
            bytes_value (Union[dict, ~google.cloud.example.library_v1.types.BytesValue]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.BytesValue`
            map_string_value (dict[int -> str]): Test doc generation of lists:

                +   Here is a sentence about the first element of the list that continues
                    into a second line.
                +   The second element of the list.
                +   Another element of the list where the indentation isn't consistent
                after a blank space.

                    The second paragraph of the list
                that doesn't have a hanging indent.
            map_message_value (dict[str -> Union[dict, ~google.cloud.example.library_v1.types.SomeMessage]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.SomeMessage`
            resource (Union[dict, ~google.cloud.example.library_v1.types.Used]): Tests Python doc generation: should generate a dummy file for shared_type
                resource, but *not* its import, other_shared_type

                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.Used`
            map_bool_key (dict[bool -> str]): For testing accessing map fields in samplegen
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'save_book' not in self._inner_api_calls:
            self._inner_api_calls['save_book'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.save_book,
                default_retry=self._method_configs['SaveBook'].retry,
                default_timeout=self._method_configs['SaveBook'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.Book(
            name=name,
            author=author,
            title=title,
            read=read,
            rating=rating,
            any_value=any_value,
            struct_value=struct_value,
            value_value=value_value,
            list_value_value=list_value_value,
            map_list_value_value=map_list_value_value,
            time_value=time_value,
            duration_value=duration_value,
            field_mask_value=field_mask_value,
            int32_value=int32_value,
            uint32_value=uint32_value,
            int64_value=int64_value,
            uint64_value=uint64_value,
            float_value=float_value,
            double_value=double_value,
            string_value=string_value,
            bool_value=bool_value,
            bytes_value=bytes_value,
            map_string_value=map_string_value,
            map_message_value=map_message_value,
            resource=resource,
            map_bool_key=map_bool_key,
        )
        self._inner_api_calls['save_book'](request, retry=retry, timeout=timeout, metadata=metadata)

    def private_list_shelves(
            self,
            page_token=None,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        This method is not exposed in the GAPIC config. It should be generated.

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.LibraryServiceClient()
            >>>
            >>> response = client.private_list_shelves()

        Args:
            page_token (str): A token identifying a page of results the server should return.
                Typically, this is the value of
                [ListShelvesResponse.next_page_token][google.example.library.v1.ListShelvesResponse.next_page_token]
                returned from the previous call to `ListShelves` method.
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.Book` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'private_list_shelves' not in self._inner_api_calls:
            self._inner_api_calls['private_list_shelves'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.private_list_shelves,
                default_retry=self._method_configs['PrivateListShelves'].retry,
                default_timeout=self._method_configs['PrivateListShelves'].timeout,
                client_info=self._client_info,
            )

        request = library_pb2.ListShelvesRequest(
            page_token=page_token,
        )
        return self._inner_api_calls['private_list_shelves'](request, retry=retry, timeout=timeout, metadata=metadata)

============== file: google/cloud/example/library_v1/gapic/library_service_client_config.py ==============
config = {
  "interfaces": {
    "google.example.library.v1.LibraryService": {
      "retry_codes": {
        "idempotent": [
          "DEADLINE_EXCEEDED",
          "UNAVAILABLE"
        ],
        "non_idempotent": []
      },
      "retry_params": {
        "default": {
          "initial_retry_delay_millis": 100,
          "retry_delay_multiplier": 1.2,
          "max_retry_delay_millis": 1000,
          "initial_rpc_timeout_millis": 300,
          "rpc_timeout_multiplier": 1.3,
          "max_rpc_timeout_millis": 3000,
          "total_timeout_millis": 30000
        }
      },
      "methods": {
        "CreateShelf": {
          "timeout_millis": 1000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default"
        },
        "GetShelf": {
          "timeout_millis": 2000,
          "retry_codes_name": "idempotent",
          "retry_params_name": "default"
        },
        "ListShelves": {
          "timeout_millis": 3000,
          "retry_codes_name": "idempotent",
          "retry_params_name": "default"
        },
        "DeleteShelf": {
          "timeout_millis": 4000,
          "retry_codes_name": "idempotent",
          "retry_params_name": "default"
        },
        "MergeShelves": {
          "timeout_millis": 5000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default"
        },
        "CreateBook": {
          "timeout_millis": 6000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default"
        },
        "PublishSeries": {
          "timeout_millis": 7000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default",
          "bundling": {
            "element_count_threshold": 6,
            "element_count_limit": 7,
            "request_byte_threshold": 100000,
            "request_byte_limit": 150000,
            "delay_threshold_millis": 500
          }
        },
        "GetBook": {
          "timeout_millis": 8000,
          "retry_codes_name": "idempotent",
          "retry_params_name": "default"
        },
        "ListBooks": {
          "timeout_millis": 10000,
          "retry_codes_name": "idempotent",
          "retry_params_name": "default"
        },
        "DeleteBook": {
          "timeout_millis": 10000,
          "retry_codes_name": "idempotent",
          "retry_params_name": "default"
        },
        "UpdateBook": {
          "timeout_millis": 10000,
          "retry_codes_name": "idempotent",
          "retry_params_name": "default"
        },
        "MoveBook": {
          "timeout_millis": 10000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default"
        },
        "ListStrings": {
          "timeout_millis": 10000,
          "retry_codes_name": "idempotent",
          "retry_params_name": "default"
        },
        "AddComments": {
          "timeout_millis": 10000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default",
          "bundling": {
            "element_count_threshold": 6,
            "request_byte_threshold": 100000,
            "delay_threshold_millis": 500
          }
        },
        "GetBookFromArchive": {
          "timeout_millis": 10000,
          "retry_codes_name": "idempotent",
          "retry_params_name": "default"
        },
        "GetBookFromAnywhere": {
          "timeout_millis": 10000,
          "retry_codes_name": "idempotent",
          "retry_params_name": "default"
        },
        "GetBookFromAbsolutelyAnywhere": {
          "timeout_millis": 10000,
          "retry_codes_name": "idempotent",
          "retry_params_name": "default"
        },
        "UpdateBookIndex": {
          "timeout_millis": 10000,
          "retry_codes_name": "idempotent",
          "retry_params_name": "default"
        },
        "StreamShelves": {
          "timeout_millis": 30000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default"
        },
        "StreamBooks": {
          "timeout_millis": 30000,
          "retry_codes_name": "idempotent",
          "retry_params_name": "default"
        },
        "DiscussBook": {
          "timeout_millis": 30000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default"
        },
        "MonologAboutBook": {
          "timeout_millis": 30000,
          "retry_codes_name": "idempotent",
          "retry_params_name": "default"
        },
        "BabbleAboutBook": {
          "timeout_millis": 60000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default"
        },
        "FindRelatedBooks": {
          "timeout_millis": 3000,
          "retry_codes_name": "idempotent",
          "retry_params_name": "default"
        },
        "AddLabel": {
          "timeout_millis": 60000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default"
        },
        "GetBigBook": {
          "timeout_millis": 60000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default"
        },
        "GetBigNothing": {
          "timeout_millis": 60000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default"
        },
        "TestOptionalRequiredFlatteningParams": {
          "timeout_millis": 60000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default"
        },
        "MoveBooks": {
          "timeout_millis": 60000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default"
        },
        "ArchiveBooks": {
          "timeout_millis": 60000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default"
        },
        "LongRunningArchiveBooks": {
          "timeout_millis": 60000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default"
        },
        "StreamingArchiveBooks": {
          "timeout_millis": 60000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default"
        },
        "SaveBook": {
          "timeout_millis": 60000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default"
        },
        "PrivateListShelves": {
          "timeout_millis": 60000,
          "retry_codes_name": "idempotent",
          "retry_params_name": "default"
        }
      }
    }
  }
}

============== file: google/cloud/example/library_v1/gapic/my_proto_client.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

"""Accesses the google.example.library.v1 MyProto API."""

import pkg_resources
import warnings

from google.oauth2 import service_account
import google.api_core.client_options
import google.api_core.gapic_v1.client_info
import google.api_core.gapic_v1.config
import google.api_core.gapic_v1.method
import google.api_core.grpc_helpers
import google.api_core.path_template
import grpc

from google.cloud.example.library_v1.gapic import enums
from google.cloud.example.library_v1.gapic import my_proto_client_config
from google.cloud.example.library_v1.gapic.transports import my_proto_grpc_transport
from google.cloud.example.library_v1.proto import another_service_pb2
from google.cloud.example.library_v1.proto import another_service_pb2_grpc
from google.cloud.example.library_v1.proto import book_from_anywhere_pb2
from google.cloud.example.library_v1.proto import field_mask_pb2 as proto_field_mask_pb2
from google.cloud.example.library_v1.proto import library_pb2
from google.cloud.example.library_v1.proto import library_pb2_grpc
from google.cloud.example.library_v1.proto import shared_type_pb2
from google.cloud.example.library_v1.proto import tagger_pb2
from google.cloud.example.library_v1.proto import tagger_pb2_grpc
from google.longrunning import operations_pb2
from google.protobuf import any_pb2
from google.protobuf import duration_pb2
from google.protobuf import empty_pb2
from google.protobuf import field_mask_pb2 as protobuf_field_mask_pb2
from google.protobuf import struct_pb2
from google.protobuf import timestamp_pb2
from google.protobuf import wrappers_pb2



_GAPIC_LIBRARY_VERSION = pkg_resources.get_distribution(
    'google-cloud-library',
).version


class MyProtoClient(object):
    SERVICE_ADDRESS = 'library-example.googleapis.com:1234'
    """The default address of the service."""

    # The name of the interface for this client. This is the key used to
    # find the method configuration in the client_config dictionary.
    _INTERFACE_NAME = 'google.example.library.v1.MyProto'


    @classmethod
    def from_service_account_file(cls, filename, *args, **kwargs):
        """Creates an instance of this client using the provided credentials
        file.

        Args:
            filename (str): The path to the service account private key json
                file.
            args: Additional arguments to pass to the constructor.
            kwargs: Additional arguments to pass to the constructor.

        Returns:
            MyProtoClient: The constructed client.
        """
        credentials = service_account.Credentials.from_service_account_file(
            filename)
        kwargs['credentials'] = credentials
        return cls(*args, **kwargs)

    from_service_account_json = from_service_account_file


    @classmethod
    def return_path(cls, shelf, book, return_):
        """Return a fully-qualified return string."""
        return google.api_core.path_template.expand(
            'shelves/{shelf}/books/{book}/returns/{return}',
            shelf=shelf,
            book=book,
            return=return_,
        )

    def __init__(self, transport=None, channel=None, credentials=None,
            client_config=None, client_info=None, client_options=None):
        """Constructor.

        Args:
            transport (Union[~.MyProtoGrpcTransport,
                    Callable[[~.Credentials, type], ~.MyProtoGrpcTransport]): A transport
                instance, responsible for actually making the API calls.
                The default transport uses the gRPC protocol.
                This argument may also be a callable which returns a
                transport instance. Callables will be sent the credentials
                as the first argument and the default transport class as
                the second argument.
            channel (grpc.Channel): DEPRECATED. A ``Channel`` instance
                through which to make calls. This argument is mutually exclusive
                with ``credentials``; providing both will raise an exception.
            credentials (google.auth.credentials.Credentials): The
                authorization credentials to attach to requests. These
                credentials identify this application to the service. If none
                are specified, the client will attempt to ascertain the
                credentials from the environment.
                This argument is mutually exclusive with providing a
                transport instance to ``transport``; doing so will raise
                an exception.
            client_config (dict): DEPRECATED. A dictionary of call options for
                each method. If not specified, the default configuration is used.
            client_info (google.api_core.gapic_v1.client_info.ClientInfo):
                The client info used to send a user-agent string along with
                API requests. If ``None``, then default info will be used.
                Generally, you only need to set this if you're developing
                your own client library.
            client_options (Union[dict, google.api_core.client_options.ClientOptions]):
                Client options used to set user options on the client. API Endpoint
                should be set through client_options.
        """
        # Raise deprecation warnings for things we want to go away.
        if client_config is not None:
            warnings.warn('The `client_config` argument is deprecated.',
                          PendingDeprecationWarning, stacklevel=2)
        else:
            client_config = my_proto_client_config.config

        if channel:
            warnings.warn('The `channel` argument is deprecated; use '
                          '`transport` instead.',
                          PendingDeprecationWarning, stacklevel=2)

        api_endpoint = self.SERVICE_ADDRESS
        if client_options:
            if type(client_options) == dict:
                client_options = google.api_core.client_options.from_dict(client_options)
            if client_options.api_endpoint:
                api_endpoint = client_options.api_endpoint

        # Instantiate the transport.
        # The transport is responsible for handling serialization and
        # deserialization and actually sending data to the service.
        if transport:
            if callable(transport):
                self.transport = transport(
                    credentials=credentials,
                    default_class=my_proto_grpc_transport.MyProtoGrpcTransport,
                    address=api_endpoint,
                )
            else:
                if credentials:
                    raise ValueError(
                        'Received both a transport instance and '
                        'credentials; these are mutually exclusive.'
                    )
                self.transport = transport
        else:
            self.transport = my_proto_grpc_transport.MyProtoGrpcTransport(
                address=api_endpoint,
                channel=channel,
                credentials=credentials,
            )

        if client_info is None:
            client_info = google.api_core.gapic_v1.client_info.ClientInfo(
                gapic_version=_GAPIC_LIBRARY_VERSION,
            )
        else:
            client_info.gapic_version = _GAPIC_LIBRARY_VERSION
        self._client_info = client_info

        # Parse out the default settings for retry and timeout for each RPC
        # from the client configuration.
        # (Ordinarily, these are the defaults specified in the `*_config.py`
        # file next to this one.)
        self._method_configs = google.api_core.gapic_v1.config.parse_method_configs(
            client_config['interfaces'][self._INTERFACE_NAME],
        )

        # Save a dictionary of cached API call functions.
        # These are the actual callables which invoke the proper
        # transport methods, wrapped with `wrap_method` to add retry,
        # timeout, and the like.
        self._inner_api_calls = {}

    # Service calls
    def my_method(
            self,
            mylist=None,
            myfield=None,
            secondfield=None,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.MyProtoClient()
            >>>
            >>> response = client.my_method()

        Args:
            mylist (list[Union[dict, ~google.cloud.example.library_v1.types.SubMessage]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.SubMessage`
            myfield (Union[dict, ~google.cloud.example.library_v1.types.SubMessage]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.SubMessage`
            secondfield (Union[dict, ~google.cloud.example.library_v1.types.SubMessage]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.SubMessage`
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.MethodResponse` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'my_method' not in self._inner_api_calls:
            self._inner_api_calls['my_method'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.my_method,
                default_retry=self._method_configs['MyMethod'].retry,
                default_timeout=self._method_configs['MyMethod'].timeout,
                client_info=self._client_info,
            )

        request = another_service_pb2.MethodRequest(
            mylist=mylist,
            myfield=myfield,
            secondfield=secondfield,
        )
        return self._inner_api_calls['my_method'](request, retry=retry, timeout=timeout, metadata=metadata)

    def get_namespace(
            self,
            mylist=None,
            myfield=None,
            secondfield=None,
            retry=google.api_core.gapic_v1.method.DEFAULT,
            timeout=google.api_core.gapic_v1.method.DEFAULT,
            metadata=None):
        """
        Define a service with a reserved name

        Example:
            >>> from google.cloud.example import library_v1
            >>>
            >>> client = library_v1.MyProtoClient()
            >>>
            >>> response = client.get_namespace()

        Args:
            mylist (list[Union[dict, ~google.cloud.example.library_v1.types.SubMessage]]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.SubMessage`
            myfield (Union[dict, ~google.cloud.example.library_v1.types.SubMessage]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.SubMessage`
            secondfield (Union[dict, ~google.cloud.example.library_v1.types.SubMessage]):
                If a dict is provided, it must be of the same form as the protobuf
                message :class:`~google.cloud.example.library_v1.types.SubMessage`
            retry (Optional[google.api_core.retry.Retry]):  A retry object used
                to retry requests. If ``None`` is specified, requests will
                be retried using a default configuration.
            timeout (Optional[float]): The amount of time, in seconds, to wait
                for the request to complete. Note that if ``retry`` is
                specified, the timeout applies to each individual attempt.
            metadata (Optional[Sequence[Tuple[str, str]]]): Additional metadata
                that is provided to the method.

        Returns:
            A :class:`~google.cloud.example.library_v1.types.Namespace` instance.

        Raises:
            google.api_core.exceptions.GoogleAPICallError: If the request
                    failed for any reason.
            google.api_core.exceptions.RetryError: If the request failed due
                    to a retryable error and retry attempts failed.
            ValueError: If the parameters are invalid.
        """
        # Wrap the transport method to add retry and timeout logic.
        if 'get_namespace' not in self._inner_api_calls:
            self._inner_api_calls['get_namespace'] = google.api_core.gapic_v1.method.wrap_method(
                self.transport.get_namespace,
                default_retry=self._method_configs['GetNamespace'].retry,
                default_timeout=self._method_configs['GetNamespace'].timeout,
                client_info=self._client_info,
            )

        request = another_service_pb2.MethodRequest(
            mylist=mylist,
            myfield=myfield,
            secondfield=secondfield,
        )
        return self._inner_api_calls['get_namespace'](request, retry=retry, timeout=timeout, metadata=metadata)

============== file: google/cloud/example/library_v1/gapic/my_proto_client_config.py ==============
config = {
  "interfaces": {
    "google.example.library.v1.MyProto": {
      "retry_codes": {
        "idempotent": [
          "DEADLINE_EXCEEDED",
          "UNAVAILABLE"
        ],
        "non_idempotent": []
      },
      "retry_params": {
        "default": {
          "initial_retry_delay_millis": 100,
          "retry_delay_multiplier": 1.3,
          "max_retry_delay_millis": 60000,
          "initial_rpc_timeout_millis": 20000,
          "rpc_timeout_multiplier": 1.0,
          "max_rpc_timeout_millis": 20000,
          "total_timeout_millis": 600000
        }
      },
      "methods": {
        "MyMethod": {
          "timeout_millis": 1000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default"
        },
        "GetNamespace": {
          "timeout_millis": 60000,
          "retry_codes_name": "non_idempotent",
          "retry_params_name": "default"
        }
      }
    }
  }
}

============== file: google/cloud/example/library_v1/gapic/transports/__init__.py ==============

============== file: google/cloud/example/library_v1/gapic/transports/library_service_grpc_transport.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.


import google.api_core.grpc_helpers
import google.api_core.operations_v1

from google.cloud.example.library_v1.proto import library_pb2_grpc
from google.cloud.example.library_v1.proto import tagger_pb2_grpc


class LibraryServiceGrpcTransport(object):
    """gRPC transport class providing stubs for
    google.example.library.v1 LibraryService API.

    The transport provides access to the raw gRPC stubs,
    which can be used to take advantage of advanced
    features of gRPC.
    """
    # The scopes needed to make gRPC calls to all of the methods defined
    # in this service.
    _OAUTH_SCOPES = (
        'https://www.googleapis.com/auth/cloud-platform',
        'https://www.googleapis.com/auth/library',
    )

    def __init__(self, channel=None, credentials=None,
                 address='library-example.googleapis.com:1234'):
        """Instantiate the transport class.

        Args:
            channel (grpc.Channel): A ``Channel`` instance through
                which to make calls. This argument is mutually exclusive
                with ``credentials``; providing both will raise an exception.
            credentials (google.auth.credentials.Credentials): The
                authorization credentials to attach to requests. These
                credentials identify this application to the service. If none
                are specified, the client will attempt to ascertain the
                credentials from the environment.
            address (str): The address where the service is hosted.
        """
        # If both `channel` and `credentials` are specified, raise an
        # exception (channels come with credentials baked in already).
        if channel is not None and credentials is not None:
            raise ValueError(
                'The `channel` and `credentials` arguments are mutually '
                'exclusive.',
            )

        # Create the channel.
        if channel is None:
            channel = self.create_channel(
                address=address,
                credentials=credentials,
                options={
                    'grpc.max_send_message_length': -1,
                    'grpc.max_receive_message_length': -1,
                }.items(),
            )

        self._channel = channel

        # gRPC uses objects called "stubs" that are bound to the
        # channel and provide a basic method for each RPC.
        self._stubs = {
            'library_service_stub': library_pb2_grpc.LibraryServiceStub(channel),
            'labeler_stub': tagger_pb2_grpc.LabelerStub(channel),
        }

        # Because this API includes a method that returns a
        # long-running operation (proto: google.longrunning.Operation),
        # instantiate an LRO client.
        self._operations_client = google.api_core.operations_v1.OperationsClient(channel)

    @classmethod
    def create_channel(
                cls,
                address='library-example.googleapis.com:1234',
                credentials=None,
                **kwargs):
        """Create and return a gRPC channel object.

        Args:
            address (str): The host for the channel to use.
            credentials (~.Credentials): The
                authorization credentials to attach to requests. These
                credentials identify this application to the service. If
                none are specified, the client will attempt to ascertain
                the credentials from the environment.
            kwargs (dict): Keyword arguments, which are passed to the
                channel creation.

        Returns:
            grpc.Channel: A gRPC channel object.
        """
        return google.api_core.grpc_helpers.create_channel(
            address,
            credentials=credentials,
            scopes=cls._OAUTH_SCOPES,
            **kwargs
        )

    @property
    def channel(self):
        """The gRPC channel used by the transport.

        Returns:
            grpc.Channel: A gRPC channel object.
        """
        return self._channel

    @property
    def create_shelf(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.create_shelf`.

        Creates a shelf, and returns the new Shelf.
        RPC method comment may include special characters: <>&"`'@.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].CreateShelf

    @property
    def get_shelf(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.get_shelf`.

        Gets a shelf.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].GetShelf

    @property
    def list_shelves(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.list_shelves`.

        Lists shelves.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].ListShelves

    @property
    def delete_shelf(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.delete_shelf`.

        Deletes a shelf.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].DeleteShelf

    @property
    def merge_shelves(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.merge_shelves`.

        Merges two shelves by adding all books from the shelf named
        `other_shelf_name` to shelf `name`, and deletes
        `other_shelf_name`. Returns the updated shelf.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].MergeShelves

    @property
    def create_book(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.create_book`.

        Creates a book.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].CreateBook

    @property
    def publish_series(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.publish_series`.

        Creates a series of books.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].PublishSeries

    @property
    def get_book(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.get_book`.

        Gets a book.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].GetBook

    @property
    def list_books(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.list_books`.

        Lists books in a shelf.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].ListBooks

    @property
    def delete_book(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.delete_book`.

        Deletes a book.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].DeleteBook

    @property
    def update_book(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.update_book`.

        Updates a book.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].UpdateBook

    @property
    def move_book(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.move_book`.

        Moves a book to another shelf, and returns the new book.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].MoveBook

    @property
    def list_strings(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.list_strings`.

        Lists a primitive resource. To test go page streaming.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].ListStrings

    @property
    def add_comments(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.add_comments`.

        Adds comments to a book

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].AddComments

    @property
    def get_book_from_archive(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.get_book_from_archive`.

        Gets a book from an archive.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].GetBookFromArchive

    @property
    def get_book_from_anywhere(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.get_book_from_anywhere`.

        Gets a book from a shelf or archive.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].GetBookFromAnywhere

    @property
    def get_book_from_absolutely_anywhere(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.get_book_from_absolutely_anywhere`.

        Test proper OneOf-Any resource name mapping

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].GetBookFromAbsolutelyAnywhere

    @property
    def update_book_index(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.update_book_index`.

        Updates the index of a book.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].UpdateBookIndex

    @property
    def stream_shelves(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.stream_shelves`.

        Test server streaming
        gRPC streaming methods don't have an HTTP equivalent and don't need to have the google.api.http option.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].StreamShelves

    @property
    def stream_books(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.stream_books`.

        Test server streaming, non-paged responses.
        gRPC streaming methods don't have an HTTP equivalent and don't need to have the google.api.http option.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].StreamBooks

    @property
    def discuss_book(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.discuss_book`.

        Test bidi-streaming.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].DiscussBook

    @property
    def monolog_about_book(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.monolog_about_book`.

        Test client streaming.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].MonologAboutBook

    @property
    def babble_about_book(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.babble_about_book`.

        Test samplegen response handling when a client streaming method returns Empty.
        gRPC streaming methods don't have an HTTP equivalent and don't need to have the google.api.http option.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].BabbleAboutBook

    @property
    def find_related_books(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.find_related_books`.


        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].FindRelatedBooks

    @property
    def add_label(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.add_label`.

        Adds a label to the entity.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['labeler_stub'].AddLabel

    @property
    def get_big_book(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.get_big_book`.

        Test long-running operations

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].GetBigBook

    @property
    def get_big_nothing(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.get_big_nothing`.

        Test long-running operations with empty return type.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].GetBigNothing

    @property
    def test_optional_required_flattening_params(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.test_optional_required_flattening_params`.

        Test optional flattening parameters of all types

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].TestOptionalRequiredFlatteningParams

    @property
    def move_books(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.move_books`.


        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].MoveBooks

    @property
    def archive_books(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.archive_books`.


        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].ArchiveBooks

    @property
    def long_running_archive_books(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.long_running_archive_books`.


        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].LongRunningArchiveBooks

    @property
    def streaming_archive_books(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.streaming_archive_books`.


        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].StreamingArchiveBooks

    @property
    def save_book(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.save_book`.

        Test using resource messages as request objects. Only used by PubSub (CreateSubscription) for historical reasons.
        New APIs should always create a separate message for a request.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].SaveBook

    @property
    def private_list_shelves(self):
        """Return the gRPC stub for :meth:`LibraryServiceClient.private_list_shelves`.

        This method is not exposed in the GAPIC config. It should be generated.

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['library_service_stub'].PrivateListShelves
============== file: google/cloud/example/library_v1/gapic/transports/my_proto_grpc_transport.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.


import google.api_core.grpc_helpers

from google.cloud.example.library_v1.proto import another_service_pb2_grpc


class MyProtoGrpcTransport(object):
    """gRPC transport class providing stubs for
    google.example.library.v1 MyProto API.

    The transport provides access to the raw gRPC stubs,
    which can be used to take advantage of advanced
    features of gRPC.
    """
    # The scopes needed to make gRPC calls to all of the methods defined
    # in this service.
    _OAUTH_SCOPES = (
        'https://www.googleapis.com/auth/cloud-platform',
        'https://www.googleapis.com/auth/library',
    )

    def __init__(self, channel=None, credentials=None,
                 address='library-example.googleapis.com:1234'):
        """Instantiate the transport class.

        Args:
            channel (grpc.Channel): A ``Channel`` instance through
                which to make calls. This argument is mutually exclusive
                with ``credentials``; providing both will raise an exception.
            credentials (google.auth.credentials.Credentials): The
                authorization credentials to attach to requests. These
                credentials identify this application to the service. If none
                are specified, the client will attempt to ascertain the
                credentials from the environment.
            address (str): The address where the service is hosted.
        """
        # If both `channel` and `credentials` are specified, raise an
        # exception (channels come with credentials baked in already).
        if channel is not None and credentials is not None:
            raise ValueError(
                'The `channel` and `credentials` arguments are mutually '
                'exclusive.',
            )

        # Create the channel.
        if channel is None:
            channel = self.create_channel(
                address=address,
                credentials=credentials,
                options={
                    'grpc.max_send_message_length': -1,
                    'grpc.max_receive_message_length': -1,
                }.items(),
            )

        self._channel = channel

        # gRPC uses objects called "stubs" that are bound to the
        # channel and provide a basic method for each RPC.
        self._stubs = {
            'my_proto_stub': another_service_pb2_grpc.MyProtoStub(channel),
        }


    @classmethod
    def create_channel(
                cls,
                address='library-example.googleapis.com:1234',
                credentials=None,
                **kwargs):
        """Create and return a gRPC channel object.

        Args:
            address (str): The host for the channel to use.
            credentials (~.Credentials): The
                authorization credentials to attach to requests. These
                credentials identify this application to the service. If
                none are specified, the client will attempt to ascertain
                the credentials from the environment.
            kwargs (dict): Keyword arguments, which are passed to the
                channel creation.

        Returns:
            grpc.Channel: A gRPC channel object.
        """
        return google.api_core.grpc_helpers.create_channel(
            address,
            credentials=credentials,
            scopes=cls._OAUTH_SCOPES,
            **kwargs
        )

    @property
    def channel(self):
        """The gRPC channel used by the transport.

        Returns:
            grpc.Channel: A gRPC channel object.
        """
        return self._channel

    @property
    def my_method(self):
        """Return the gRPC stub for :meth:`MyProtoClient.my_method`.


        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['my_proto_stub'].MyMethod

    @property
    def get_namespace(self):
        """Return the gRPC stub for :meth:`MyProtoClient.get_namespace`.

        Define a service with a reserved name

        Returns:
            Callable: A callable which accepts the appropriate
                deserialized request object and returns a
                deserialized response object.
        """
        return self._stubs['my_proto_stub'].GetNamespace
============== file: google/cloud/example/library_v1/types.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.


from __future__ import absolute_import
import sys

from google.api_core.protobuf_helpers import get_messages

from google.cloud.example.library_v1.proto import another_service_pb2
from google.cloud.example.library_v1.proto import book_from_anywhere_pb2
from google.cloud.example.library_v1.proto import errors_pb2
from google.cloud.example.library_v1.proto import field_mask_pb2 as proto_field_mask_pb2
from google.cloud.example.library_v1.proto import library_pb2
from google.cloud.example.library_v1.proto import shared_type_pb2
from google.cloud.example.library_v1.proto import tagger_pb2
from google.longrunning import operations_pb2
from google.protobuf import any_pb2
from google.protobuf import duration_pb2
from google.protobuf import empty_pb2
from google.protobuf import field_mask_pb2 as protobuf_field_mask_pb2
from google.protobuf import struct_pb2
from google.protobuf import timestamp_pb2
from google.protobuf import wrappers_pb2
from google.rpc import status_pb2


_shared_modules = [
    shared_type_pb2,
    tagger_pb2,
    operations_pb2,
    any_pb2,
    duration_pb2,
    empty_pb2,
    protobuf_field_mask_pb2,
    struct_pb2,
    timestamp_pb2,
    wrappers_pb2,
    status_pb2,
]

_local_modules = [
    another_service_pb2,
    book_from_anywhere_pb2,
    errors_pb2,
    proto_field_mask_pb2,
    library_pb2,
]

names = []

for module in _shared_modules:  # pragma: NO COVER
    for name, message in get_messages(module).items():
        setattr(sys.modules[__name__], name, message)
        names.append(name)
for module in _local_modules:
      for name, message in get_messages(module).items():
          message.__module__ = 'google.cloud.example.library_v1.types'
          setattr(sys.modules[__name__], name, message)
          names.append(name)


__all__ = tuple(sorted(names))

============== file: nox.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.


from __future__ import absolute_import
import os

import nox


@nox.session
def default(session):
    return unit(session, 'default')


@nox.session
@nox.parametrize('py', ['2.7', '3.5', '3.6', '3.7'])
def unit(session, py):
    """Run the unit test suite."""

    # Run unit tests against all supported versions of Python.
    if py != 'default':
        session.interpreter = 'python{}'.format(py)

    # Set the virtualenv directory name.
    session.virtualenv_dirname = 'unit-' + py

    # Install all test dependencies, then install this package in-place.
    session.install('pytest', 'mock')
    session.install('-e', '.')

    # Run py.test against the unit tests.
    session.run('py.test', '--quiet', os.path.join('tests', 'unit'))


@nox.session
@nox.parametrize('py', ['2.7', '3.7'])
def system(session, py):
    """Run the system test suite."""

    # Sanity check: Only run system tests if the environment variable is set.
    if not os.environ.get('GOOGLE_APPLICATION_CREDENTIALS', ''):
        session.skip('Credentials must be set via environment variable.')

    # Run unit tests against all supported versions of Python.
    session.interpreter = 'python{}'.format(py)

    # Set the virtualenv dirname.
    session.virtualenv_dirname = 'sys-' + py

    # Install all test dependencies, then install this package in-place.
    session.install('pytest')
    session.install('-e', '.')

    # Run py.test against the unit tests.
    session.run(
        'py.test',
        '--quiet',
        os.path.join('tests', 'system'),
        *session.posargs
    )


@nox.session
def lint_setup_py(session):
    """Verify that setup.py is valid (including RST check)."""
    session.interpreter = 'python3.6'
    session.install('docutils', 'pygments')
    session.run(
        'python', 'setup.py', 'check', '--restructuredtext', '--strict')
============== file: samples/v1/babble_about_book_request_streaming_client_empty_response_type_with_response_handling.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("RequestStreamingClient",  "empty_response_type_with_response_handling")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: Test response handling for methods that return empty
#   description: Test response handling for methods that return empty
#   usage: python3 samples/v1/babble_about_book_request_streaming_client_empty_response_type_with_response_handling.py

# [START sample]
from google.cloud.example import library_v1

def sample_babble_about_book():
  """Test response handling for methods that return empty"""

  client = library_v1.LibraryServiceClient()

  request = {}

  requests = [request]
  client.babble_about_book(requests)
  # No one replied
  print(u'No one replied.')
# [END sample]

def main():
  sample_babble_about_book()

if __name__ == '__main__':
  main()
============== file: samples/v1/babble_about_book_request_streaming_client_empty_response_type_without_response_handling.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("RequestStreamingClient",  "empty_response_type_without_response_handling")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: Test default response handling is turned off for methods that return empty
#   description: Test default response handling is turned off for methods that return empty
#   usage: python3 samples/v1/babble_about_book_request_streaming_client_empty_response_type_without_response_handling.py

# [START sample]
from google.cloud.example import library_v1

def sample_babble_about_book():
  """Test default response handling is turned off for methods that return empty"""

  client = library_v1.LibraryServiceClient()

  request = {}

  requests = [request]
  client.babble_about_book(requests)
# [END sample]

def main():
  sample_babble_about_book()

if __name__ == '__main__':
  main()
============== file: samples/v1/delete_shelf_request_empty_response_type_with_response_handling.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("Request",  "empty_response_type_with_response_handling")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: Test response handling for methods that return empty
#   description: Test response handling for methods that return empty
#   usage: python3 samples/v1/delete_shelf_request_empty_response_type_with_response_handling.py

# [START sample]
from google.cloud.example import library_v1

def sample_delete_shelf():
  """Test response handling for methods that return empty"""

  client = library_v1.LibraryServiceClient()

  name = client.shelf_path('[SHELF]')

  client.delete_shelf(name)
  # Shelf deleted
  print(u'Shelf deleted.')
# [END sample]

def main():
  sample_delete_shelf()

if __name__ == '__main__':
  main()
============== file: samples/v1/delete_shelf_request_empty_response_type_without_response_handling.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("Request",  "empty_response_type_without_response_handling")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: Test default response handling is turned off for methods that return empty
#   description: Test default response handling is turned off for methods that return empty
#   usage: python3 samples/v1/delete_shelf_request_empty_response_type_without_response_handling.py

# [START sample]
from google.cloud.example import library_v1

def sample_delete_shelf():
  """Test default response handling is turned off for methods that return empty"""

  client = library_v1.LibraryServiceClient()

  name = client.shelf_path('[SHELF]')

  client.delete_shelf(name)
# [END sample]

def main():
  sample_delete_shelf()

if __name__ == '__main__':
  main()
============== file: samples/v1/find_related_books_request_paged_all_odyssey.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("RequestPagedAll",  "odyssey")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: The Odyssey
#   description: Testing calling forms
#   usage: python3 samples/v1/find_related_books_request_paged_all_odyssey.py

# [START sample]
from google.cloud.example import library_v1

def sample_find_related_books():
  """Testing calling forms"""

  client = library_v1.LibraryServiceClient()

  names_element = 'Odyssey'
  names = [names_element]
  shelves_element = 'Classics'
  shelves = [shelves_element]

  # Iterate over all results
  for response_item in client.find_related_books(names, shelves):
    book = response_item
    print(u'Here\'s a related book: {}'.format(book))
# [END sample]

def main():
  sample_find_related_books()

if __name__ == '__main__':
  main()
============== file: samples/v1/find_related_books_request_paged_odyssey.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("RequestPaged",  "odyssey")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: The Odyssey
#   description: Testing calling forms
#   usage: python3 samples/v1/find_related_books_request_paged_odyssey.py

# [START sample]
from google.cloud.example import library_v1

def sample_find_related_books():
  """Testing calling forms"""

  client = library_v1.LibraryServiceClient()

  names_element = 'Odyssey'
  names = [names_element]
  shelves_element = 'Classics'
  shelves = [shelves_element]

  # Iterate over results one page at a time
  for page in client.find_related_books(names, shelves).pages:
    for response_item in page:
      book = response_item
      print(u'Here\'s a related book: {}'.format(book))
# [END sample]

def main():
  sample_find_related_books()

if __name__ == '__main__':
  main()
============== file: samples/v1/get_big_book_long_running_promise_wap.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("LongRunningPromise",  "wap")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: GetBigBook: 'War and Peace'
#   description: Testing calling forms
#   usage: python3 samples/v1/get_big_book_long_running_promise_wap.py [--shelf "Novel\\\"\`\b\t\n\r"]

# [START hopper]
from google.cloud.example import library_v1

def sample_get_big_book(shelf):
  """Testing calling forms"""

  client = library_v1.LibraryServiceClient()

  # shelf = 'Novel\\"`\b\t\n\r'
  name = client.book_path(shelf, 'War and Peace')

  operation = client.get_big_book(name)

  print(u'Waiting for operation to complete...')
  response = operation.result()

  # Testing iterating over map fields when both key and value are specified.
  for my_key, my_value in response.map_list_value_value.items():
    print(u'key: {}, value: {}'.format(my_key, my_value))

  # Testing iterating over map fields when only key is specified.
  for another_key, _ in response.map_list_value_value.items():
    print(u'key: {}'.format(another_key))

  # Testing iterating over map fields when only value is specified.
  for _, another_value in response.map_list_value_value.items():
    print(u'value: {}'.format(another_value))

  print(u'name: {}'.format(response.name))
  print(u'author: {}'.format(response.author))
# [END hopper]

def main():
  import argparse

  parser = argparse.ArgumentParser()
  parser.add_argument('--shelf', type=str, default='Novel\\"`\b\t\n\r')
  args = parser.parse_args()

  sample_get_big_book(args.shelf)

if __name__ == '__main__':
  main()
============== file: samples/v1/get_big_book_long_running_promise_wap2.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("LongRunningPromise",  "wap2")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: GetBigBook: 'War and Peace'
#   description: Testing resource name overlap
#   usage: python3 samples/v1/get_big_book_long_running_promise_wap2.py [--shelf Novel] [--big_book_name "War and Peace"]

# [START hopper]
from google.cloud.example import library_v1

def sample_get_big_book(shelf, big_book_name):
  """
    Testing resource name overlap

    Args:
      shelf Test word wrapping for long lines. This is a long comment. The name of
      the shelf to retrieve the big book from.
      big_book_name The name of the book.
    """

  client = library_v1.LibraryServiceClient()

  # shelf = 'Novel'
  # big_book_name = 'War and Peace'
  name = client.book_path(shelf, big_book_name)

  operation = client.get_big_book(name)

  print(u'Waiting for operation to complete...')
  response = operation.result()

  print(response)
# [END hopper]

def main():
  import argparse

  parser = argparse.ArgumentParser()
  parser.add_argument('--shelf', type=str, default='Novel')
  parser.add_argument('--big_book_name', type=str, default='War and Peace')
  args = parser.parse_args()

  sample_get_big_book(args.shelf, args.big_book_name)

if __name__ == '__main__':
  main()
============== file: samples/v1/get_big_nothing_long_running_promise_empty_response_type_with_response_handling.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("LongRunningPromise",  "empty_response_type_with_response_handling")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: Test response handling for methods that return empty
#   description: Test response handling for methods that return empty
#   usage: python3 samples/v1/get_big_nothing_long_running_promise_empty_response_type_with_response_handling.py

# [START sample]
from google.cloud.example import library_v1

def sample_get_big_nothing():
  """Test response handling for methods that return empty"""

  client = library_v1.LibraryServiceClient()

  name = client.book_path('[SHELF]', '[BOOK]')

  operation = client.get_big_nothing(name)

  print(u'Waiting for operation to complete...')
  response = operation.result()

  # Got nothing
  print(u'Got nothing.')
# [END sample]

def main():
  sample_get_big_nothing()

if __name__ == '__main__':
  main()
============== file: samples/v1/get_big_nothing_long_running_promise_empty_response_type_without_response_handling.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("LongRunningPromise",  "empty_response_type_without_response_handling")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: Test default response handling is turned off for methods that return empty
#   description: Test default response handling is turned off for methods that return empty
#   usage: python3 samples/v1/get_big_nothing_long_running_promise_empty_response_type_without_response_handling.py

# [START sample]
from google.cloud.example import library_v1

def sample_get_big_nothing():
  """Test default response handling is turned off for methods that return empty"""

  client = library_v1.LibraryServiceClient()

  name = client.book_path('[SHELF]', '[BOOK]')

  operation = client.get_big_nothing(name)

  print(u'Waiting for operation to complete...')
  response = operation.result()

# [END sample]

def main():
  sample_get_big_nothing()

if __name__ == '__main__':
  main()
============== file: samples/v1/get_book_request_test_on_success_map.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("Request",  "test_on_success_map")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: test maps in response handling
#   description: When there is a very long description for a sample file we can split
#     the description into multiple lines and the samples will be just fine
#   usage: python3 samples/v1/get_book_request_test_on_success_map.py

# [START sample]
from google.cloud.example import library_v1
from google.cloud.example.library_v1 import enums

def sample_get_book():

  client = library_v1.LibraryServiceClient()

  name = client.book_path('[SHELF]', '[BOOK]')

  response = client.get_book(name)
  int_key_val = response.map_string_value[123]
  boolean_key_val = response.map_bool_key[True]
  map_value_field = response.map_message_value['key'].field
  print(u'Test printing map fields: {}'.format(response.map_list_value_value['quoted_key']))
  print(u'Test printing enum fields of a map value: {}'.format(enums.SomeMessage.Alignment(response.map_message_value['key'].alignment).name))
# [END sample]

def main():
  sample_get_book()

if __name__ == '__main__':
  main()
============== file: samples/v1/lovelace.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("RequestStreamingServer",  "prog")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: Programming Books
#   description: Testing calling forms
#   usage: python3 samples/v1/lovelace.py

# [START lovelace]
from google.cloud.example import library_v1

def sample_stream_books():
  """Testing calling forms"""

  client = library_v1.LibraryServiceClient()

  name = 'BASIC'

  for response_item in client.stream_books(name):
    print(response_item)
# [END lovelace]

def main():
  sample_stream_books()

if __name__ == '__main__':
  main()
============== file: samples/v1/monolog_about_book_request_streaming_client_prog.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("RequestStreamingClient",  "prog")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: Programming Books
#   description: Testing calling forms
#   usage: python3 samples/v1/monolog_about_book_request_streaming_client_prog.py

# [START sample]
from google.cloud.example import library_v1
from google.cloud.example.library_v1 import enums

def sample_monolog_about_book():
  """Testing calling forms"""

  client = library_v1.LibraryServiceClient()

  name = client.book_path('[SHELF]', '[BOOK]')
  request = {'name': name}

  requests = [request]
  response = client.monolog_about_book(requests)
  print(u'The stage of the comment is: {}'.format(enums.Comment.Stage(response.stage).name))
# [END sample]

def main():
  sample_monolog_about_book()

if __name__ == '__main__':
  main()
============== file: samples/v1/publish_series_request_pi_version.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("Request",  "pi_version")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: Pi version
#   description: Testing <@calling forms>
#   usage: python3 samples/v1/publish_series_request_pi_version.py [--shelf_name Math] [--edition 123]

# [START canonical]
from google.cloud.example import library_v1

def sample_publish_series(shelf_name, edition):
  """
    Testing <@calling forms>

    Args:
      shelf_name The name of the shelf where books are published to.
      edition The edition of the series.
    """

  client = library_v1.LibraryServiceClient()

  # shelf_name = 'Math'
  # edition = 123
  shelf = {'name': shelf_name}
  books = []
  series_string = 'xyz3141592654'
  series_uuid = {'series_string': series_string}

  response = client.publish_series(shelf, books, series_uuid, edition=edition)
  # % % % output handling % % % %
  # four_score_and_seven_years ago
  #
  # our fathers brought forth upon this continent
  # a new nation
  # conceived in liberty
  #
  # and dedicated to the proposition that all_men_are_created_equal.
  # Do something with book_names one by one
  book_names = response.book_names
  for title in response.book_names:
    # Now we deal with this_single_book!
    print(u'\t%`` The book\'s title: "{}", \\\nand the book costs $50.00 ``%'.format(title))

  print(u'The first book is: {}'.format(response.book_names[0]))
  print(u'The author of the first book is: {}'.format(response.books[0].author))
  print(u'That\'s all!')
  print(u'series_uuid: {}'.format(response.series_uuid.series_bytes))
# [END canonical]

def main():
  import argparse

  parser = argparse.ArgumentParser()
  parser.add_argument('--shelf_name', type=str, default='Math')
  parser.add_argument('--edition', type=int, default=123)
  args = parser.parse_args()

  sample_publish_series(args.shelf_name, args.edition)

if __name__ == '__main__':
  main()
============== file: samples/v1/publish_series_request_second_edition.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("Request",  "second_edition")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: Second edition
#   description: Testing calling forms
#   usage: python3 samples/v1/publish_series_request_second_edition.py

# [START canonical]
from google.cloud.example import library_v1

def sample_publish_series():
  """Testing calling forms"""

  client = library_v1.LibraryServiceClient()

  shelf = {}
  books = []
  series_uuid = {}
  edition = 2

  response = client.publish_series(shelf, books, series_uuid, edition=edition)
  print(response)
# [END canonical]

def main():
  sample_publish_series()

if __name__ == '__main__':
  main()
============== file: samples/v1/publish_series_request_test_request_object_field_comments.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("Request",  "test_request_object_field_comments")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: request object field comments
#   description: Test request object field comments
#   usage: python3 samples/v1/publish_series_request_test_request_object_field_comments.py

# [START sample]
from google.cloud.example import library_v1
import io

def sample_publish_series():
  """Test request object field comments"""

  client = library_v1.LibraryServiceClient()


  # Comment on a resource name
  name = client.shelf_path('math')

  # A super long comment
  # wraps words at newline characters
  # as well
  theme = 'Math'

  # Comment on a primitive field
  internal_theme = 'Statistics'
  shelf = {'name': name, 'theme': theme, 'internal_theme': internal_theme}
  books = []

  # Comment on a file input field
  with io.open('xyz3141592654', 'rb') as f:
    series_bytes = f.read()

  # Comment on a message
  series_uuid = {'series_bytes': series_bytes}

  # A super long long long long long long long long long long long long long long
  # comment that tests word wrapping
  edition = 123

  response = client.publish_series(shelf, books, series_uuid, edition=edition)
  print(response)
# [END sample]

def main():
  sample_publish_series()

if __name__ == '__main__':
  main()
============== file: samples/v1/publish_series_request_test_write_to_file.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("Request",  "test_write_to_file")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: test writing fields to files
#   description: Testing write fields to files.
#   usage: python3 samples/v1/publish_series_request_test_write_to_file.py

# [START sample]
from google.cloud.example import library_v1

def sample_publish_series():
  """Testing write fields to files."""

  client = library_v1.LibraryServiceClient()

  shelf = {}
  books = []
  series_uuid = {}

  response = client.publish_series(shelf, books, series_uuid)
  # testing writing bytes field.
  with open('uuid_of_series_with_book_{}.raw'.format(response.book_names[0]), 'wb') as out:
    out.write(response.series_uuid.series_bytes)
  # testing writing string field.
  with open('series_uuid_in_plain_text.txt', 'w') as out:
    out.write(response.series_uuid.series_string)
# [END sample]

def main():
  sample_publish_series()

if __name__ == '__main__':
  main()
============== file: samples/v1/sample_get_shelf.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("Request",  "test_default_calling_form_unary")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: test_default_calling_form_unary
#   description: Test default calling forms for unary methods.
#   usage: python3 samples/v1/sample_get_shelf.py

# [START sample_get_shelf]
from google.cloud.example import library_v1

def sample_get_shelf():
  """Test default calling forms for unary methods."""

  client = library_v1.LibraryServiceClient()

  name = client.shelf_path('my-shelf')
  options_ = ''

  response = client.get_shelf(name, options_)
  print(u'The theme of the shelf is: {}'.format(response.theme))
# [END sample_get_shelf]

def main():
  sample_get_shelf()

if __name__ == '__main__':
  main()
============== file: samples/v1/stream_shelves_request_streaming_server_empty.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("RequestStreamingServer",  "empty")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: Server streaming
#   description: Testing calling forms
#   usage: python3 samples/v1/stream_shelves_request_streaming_server_empty.py

# [START sample]
from google.cloud.example import library_v1

def sample_stream_shelves():
  """Testing calling forms"""

  client = library_v1.LibraryServiceClient()

  name = client.shelf_path('[SHELF]')

  for response_item in client.stream_shelves(name):
    print(response_item)
# [END sample]

def main():
  sample_stream_shelves()

if __name__ == '__main__':
  main()
============== file: samples/v1/test_default_calling_form_for_paging.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("RequestPagedAll",  "test_default_calling_form_paging")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: test default calling form for paging
#   description: Test default calling form for paging methods.
#   usage: python3 samples/v1/test_default_calling_form_for_paging.py

# [START test_default_calling_form_for_paging]
from google.cloud.example import library_v1

def sample_list_shelves():
  """Test default calling form for paging methods."""

  client = library_v1.LibraryServiceClient()

  # Iterate over all results
  for response_item in client.list_shelves():
    print(u'shelf name: {}'.format(response_item))
# [END test_default_calling_form_for_paging]

def main():
  sample_list_shelves()

if __name__ == '__main__':
  main()
============== file: samples/v1/test_float_and_int64.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("Request",  "test_float_and_int64")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title:
#   usage: python3 samples/v1/test_float_and_int64.py [--param_float 1.2345] [--param_long 67890]

# [START test_float_and_int64]
from google.cloud.example import library_v1
from google.cloud.example.library_v1 import enums

def sample_test_optional_required_flattening_params(param_float, param_long):

  client = library_v1.LibraryServiceClient()

  # param_float = 1.2345
  # param_long = 67890
  required_singular_int32 = 0
  required_singular_double = 0.0
  required_singular_bool = False
  required_singular_enum = enums.TestOptionalRequiredFlatteningParamsRequest.InnerEnum.ZERO
  required_singular_string = ''
  required_singular_bytes = b''
  required_singular_message = {}
  required_singular_resource_name = client.book_path('[SHELF]', '[BOOK]')
  required_singular_resource_name_oneof = client.book_path('[SHELF]', '[BOOK]')
  required_singular_resource_name_common = client.project_path('[PROJECT]')
  required_singular_fixed32 = 0
  required_singular_fixed64 = 0
  required_repeated_int32 = []
  required_repeated_int64 = []
  required_repeated_float = []
  required_repeated_double = []
  required_repeated_bool = []
  required_repeated_enum = []
  required_repeated_string = []
  required_repeated_bytes = []
  required_repeated_message = []
  required_repeated_resource_name = []
  required_repeated_resource_name_oneof = []
  required_repeated_resource_name_common = []
  required_repeated_fixed32 = []
  required_repeated_fixed64 = []
  required_map = {}
  required_any_value = {}
  required_struct_value = {}
  required_value_value = {}
  required_list_value_value = {}
  required_time_value = {}
  required_duration_value = {}
  required_field_mask_value = {}
  required_int32_value = {}
  required_uint32_value = {}
  required_int64_value = {}
  required_uint64_value = {}
  required_float_value = {}
  required_double_value = {}
  required_string_value = {}
  required_bool_value = {}
  required_bytes_value = {}
  required_repeated_any_value = []
  required_repeated_struct_value = []
  required_repeated_value_value = []
  required_repeated_list_value_value = []
  required_repeated_time_value = []
  required_repeated_duration_value = []
  required_repeated_field_mask_value = []
  required_repeated_int32_value = []
  required_repeated_uint32_value = []
  required_repeated_int64_value = []
  required_repeated_uint64_value = []
  required_repeated_float_value = []
  required_repeated_double_value = []
  required_repeated_string_value = []
  required_repeated_bool_value = []
  required_repeated_bytes_value = []

  response = client.test_optional_required_flattening_params(required_singular_int32, param_long, param_float, required_singular_double, required_singular_bool, required_singular_enum, required_singular_string, required_singular_bytes, required_singular_message, required_singular_resource_name, required_singular_resource_name_oneof, required_singular_resource_name_common, required_singular_fixed32, required_singular_fixed64, required_repeated_int32, required_repeated_int64, required_repeated_float, required_repeated_double, required_repeated_bool, required_repeated_enum, required_repeated_string, required_repeated_bytes, required_repeated_message, required_repeated_resource_name, required_repeated_resource_name_oneof, required_repeated_resource_name_common, required_repeated_fixed32, required_repeated_fixed64, required_map, required_any_value, required_struct_value, required_value_value, required_list_value_value, required_time_value, required_duration_value, required_field_mask_value, required_int32_value, required_uint32_value, required_int64_value, required_uint64_value, required_float_value, required_double_value, required_string_value, required_bool_value, required_bytes_value, required_repeated_any_value, required_repeated_struct_value, required_repeated_value_value, required_repeated_list_value_value, required_repeated_time_value, required_repeated_duration_value, required_repeated_field_mask_value, required_repeated_int32_value, required_repeated_uint32_value, required_repeated_int64_value, required_repeated_uint64_value, required_repeated_float_value, required_repeated_double_value, required_repeated_string_value, required_repeated_bool_value, required_repeated_bytes_value)
  print(response)
# [END test_float_and_int64]

def main():
  import argparse

  parser = argparse.ArgumentParser()
  parser.add_argument('--param_float', type=float, default=1.2345)
  parser.add_argument('--param_long', type=long, default=67890)
  args = parser.parse_args()

  sample_test_optional_required_flattening_params(args.param_float, args.param_long)

if __name__ == '__main__':
  main()
============== file: samples/v1/test_resource_name_oneof.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("Request",  "test_resource_name_oneof")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title:
#   usage: python3 samples/v1/test_resource_name_oneof.py

# [START test_resource_name_oneof]
from google.cloud.example import library_v1

def sample_get_book_from_absolutely_anywhere():

  client = library_v1.LibraryServiceClient()

  name = client.archived_book_path('The archive to search for the book', 'The ID of the book')

  response = client.get_book_from_absolutely_anywhere(name)
  print(u'Archived book found.')
# [END test_resource_name_oneof]

def main():
  sample_get_book_from_absolutely_anywhere()

if __name__ == '__main__':
  main()
============== file: samples/v1/test_resource_name_oneof_2.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("Request",  "test_resource_name_oneof_2")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title:
#   usage: python3 samples/v1/test_resource_name_oneof_2.py

# [START test_resource_name_oneof_2]
from google.cloud.example import library_v1

def sample_get_book_from_absolutely_anywhere():

  client = library_v1.LibraryServiceClient()

  name = client.book_path('The Shelf to search for the book', 'The ID of the book')

  response = client.get_book_from_absolutely_anywhere(name)
  print(u'Book on shelf found.')
# [END test_resource_name_oneof_2]

def main():
  sample_get_book_from_absolutely_anywhere()

if __name__ == '__main__':
  main()
============== file: samples/v1/test_setting_up_empty_objects_in_request.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("Request",  "test_setting_up_empty_objects_in_request")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: test_setting_up_empty_objects_in_request
#   description: Test setting up empty objects in the request objects.
#   usage: python3 samples/v1/test_setting_up_empty_objects_in_request.py

# [START test_setting_up_empty_objects_in_request]
from google.cloud.example import library_v1

def sample_get_shelf():
  """Test setting up empty objects in the request objects."""

  client = library_v1.LibraryServiceClient()

  name = client.shelf_path('my-shelf')
  options_ = ''

  # we can set up this empty nested object now
  message = {}
  string_builder = {}

  response = client.get_shelf(name, options_, message=message, string_builder=string_builder)
  print(u'Shelf found.')
# [END test_setting_up_empty_objects_in_request]

def main():
  sample_get_shelf()

if __name__ == '__main__':
  main()
============== file: samples/v1/this_tag_should_be_the_name_of_the_file.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("LongRunningPromise",  "wap")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: GetBigBook: 'War and Peace'
#   description: Testing calling forms
#   usage: python3 samples/v1/this_tag_should_be_the_name_of_the_file.py [--shelf "Novel\\\"\`\b\t\n\r"]

# [START this_tag_should_be_the_name_of_the_file]
from google.cloud.example import library_v1

def sample_get_big_book(shelf):
  """Testing calling forms"""

  client = library_v1.LibraryServiceClient()

  # shelf = 'Novel\\"`\b\t\n\r'
  name = client.book_path(shelf, 'War and Peace')

  operation = client.get_big_book(name)

  print(u'Waiting for operation to complete...')
  response = operation.result()

  # Testing iterating over map fields when both key and value are specified.
  for my_key, my_value in response.map_list_value_value.items():
    print(u'key: {}, value: {}'.format(my_key, my_value))

  # Testing iterating over map fields when only key is specified.
  for another_key, _ in response.map_list_value_value.items():
    print(u'key: {}'.format(another_key))

  # Testing iterating over map fields when only value is specified.
  for _, another_value in response.map_list_value_value.items():
    print(u'value: {}'.format(another_value))

  print(u'name: {}'.format(response.name))
  print(u'author: {}'.format(response.author))
# [END this_tag_should_be_the_name_of_the_file]

def main():
  import argparse

  parser = argparse.ArgumentParser()
  parser.add_argument('--shelf', type=str, default='Novel\\"`\b\t\n\r')
  args = parser.parse_args()

  sample_get_big_book(args.shelf)

if __name__ == '__main__':
  main()
============== file: samples/v1/turing_prog_request_streaming_bidi.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# DO NOT EDIT! This is a generated sample ("RequestStreamingBidi",  "prog")

# To install the latest published package dependency, execute the following:
#   pip install google-cloud-library

# sample-metadata
#   title: Programming Books
#   description: Testing calling forms
#   usage: python3 samples/v1/turing_prog_request_streaming_bidi.py [--image_file_name "image_file.jpg"] [--stage DRAFT]

# [START turing_prog_request_streaming_bidi]
from google.cloud.example import library_v1
from google.cloud.example.library_v1 import enums
import io

def sample_discuss_book(image_file_name, stage):
  """Testing calling forms"""

  client = library_v1.LibraryServiceClient()

  # image_file_name = 'image_file.jpg'
  # stage = enums.Comment.Stage.DRAFT
  name = client.book_path('[SHELF]', '[BOOK]')
  with io.open('comment_file', 'rb') as f:
    comment = f.read()
  comment_2 = {'comment': comment, 'stage': stage}
  with io.open(image_file_name, 'rb') as f:
    image = f.read()
  request = {'name': name, 'comment': comment_2, 'image': image}

  requests = [request]
  for response_item in client.discuss_book(requests):
    print(response_item)
# [END turing_prog_request_streaming_bidi]

def main():
  import argparse

  parser = argparse.ArgumentParser()
  parser.add_argument('--image_file_name', type=str, default='image_file.jpg')
  parser.add_argument('--stage', type=str, default=enums.Comment.Stage.DRAFT)
  args = parser.parse_args()

  sample_discuss_book(args.image_file_name, args.stage)

if __name__ == '__main__':
  main()
============== file: setup.cfg ==============
[bdist_wheel]
universal = 1

============== file: setup.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

import io
import os

import setuptools



name = 'google-cloud-library'
description = 'Google Example Library API API client library'
version = '0.1.0'
release_status = 'Development Status :: 5 - Production/Stable'
dependencies = [
  'google-api-core[grpc] >= 1.14.0, < 2.0.0dev',

  'python-other-package >= 12.1.0, < 13.5.1',
  'enum34; python_version < "3.4"',
]



package_root = os.path.abspath(os.path.dirname(__file__))

readme_filename = os.path.join(package_root, 'README.rst')
with io.open(readme_filename, encoding='utf-8') as readme_file:
    readme = readme_file.read()

packages = [
    package for package in setuptools.find_packages()
    if package.startswith('google')]

namespaces = ['google']
if 'google.cloud' in packages:
    namespaces.append('google.cloud')


setuptools.setup(
    name=name,
    version=version,
    description=description,
    long_description=readme,
    author='Google LLC',
    author_email='googleapis-packages@google.com',
    license='Apache 2.0',
    url='https://github.com/googleapis/google-cloud-python',
    classifiers=[
        release_status,
        'Intended Audience :: Developers',
        'License :: OSI Approved :: Apache Software License',
        'Programming Language :: Python',
        'Programming Language :: Python :: 2',
        'Programming Language :: Python :: 2.7',
        'Programming Language :: Python :: 3',
        'Programming Language :: Python :: 3.4',
        'Programming Language :: Python :: 3.5',
        'Programming Language :: Python :: 3.6',
        'Operating System :: OS Independent',
        'Topic :: Internet',
    ],
    platforms='Posix; MacOS X; Windows',
    packages=packages,
    namespace_packages=namespaces,
    install_requires=dependencies,
    include_package_data=True,
    zip_safe=False,
)
============== file: tests/system/gapic/v1/test_system_library_service_v1.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

import os
import time

from google.cloud.example import library_v1
from google.cloud.example.library_v1 import enums
from google.cloud.example.library_v1.proto import field_mask_pb2 as proto_field_mask_pb2
from google.cloud.example.library_v1.proto import library_pb2
from google.protobuf import field_mask_pb2 as protobuf_field_mask_pb2


class TestSystemLibraryService(object):

    def test_update_book(self):
        project_id = os.environ['PROJECT_ID']

        client = library_v1.LibraryServiceClient()
        name = client.book_path('testShelf-{0}'.format(time.time()), project_id)
        rating = enums.Book.Rating.GOOD
        book = {'rating': rating}
        response = client.update_book(name, book)
============== file: tests/unit/gapic/v1/test_library_service_client_v1.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

"""Unit tests."""

import mock
import pytest

from google.rpc import status_pb2

from google.cloud.example import library_v1
from google.cloud.example.library_v1 import enums
from google.cloud.example.library_v1.proto import book_from_anywhere_pb2
from google.cloud.example.library_v1.proto import library_pb2
from google.cloud.example.library_v1.proto import tagger_pb2
from google.longrunning import operations_pb2
from google.protobuf import any_pb2
from google.protobuf import duration_pb2
from google.protobuf import empty_pb2
from google.protobuf import field_mask_pb2
from google.protobuf import struct_pb2
from google.protobuf import timestamp_pb2
from google.protobuf import wrappers_pb2



class MultiCallableStub(object):
    """Stub for the grpc.UnaryUnaryMultiCallable interface."""
    def __init__(self, method, channel_stub):
        self.method = method
        self.channel_stub = channel_stub

    def __call__(self, request, timeout=None, metadata=None, credentials=None):
        self.channel_stub.requests.append((self.method, request))

        response = None
        if self.channel_stub.responses:
            response = self.channel_stub.responses.pop()

        if isinstance(response, Exception):
            raise response

        if response:
            return response


class ChannelStub(object):
    """Stub for the grpc.Channel interface."""
    def __init__(self, responses = []):
        self.responses = responses
        self.requests = []

    def unary_unary(
            self, method, request_serializer=None, response_deserializer=None):
        return MultiCallableStub(method, self)

    def unary_stream(
            self, method, request_serializer=None, response_deserializer=None):
        return MultiCallableStub(method, self)

    def stream_unary(
            self, method, request_serializer=None, response_deserializer=None):
        return MultiCallableStub(method, self)

    def stream_stream(
            self, method, request_serializer=None, response_deserializer=None):
        return MultiCallableStub(method, self)


class CustomException(Exception):
    pass


class TestLibraryServiceClient(object):

    def test_create_shelf(self):
        # Setup Expected Response
        name = 'name3373707'
        theme = 'theme110327241'
        internal_theme = 'internalTheme792518087'
        expected_response = {'name': name, 'theme': theme, 'internal_theme': internal_theme}
        expected_response = library_pb2.Shelf(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        shelf = {}

        response = client.create_shelf(shelf)
        assert expected_response == response

        assert len(channel.requests) == 1
        expected_request = library_pb2.CreateShelfRequest(shelf=shelf)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_create_shelf_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        shelf = {}

        with pytest.raises(CustomException):
            client.create_shelf(shelf)

    def test_get_shelf(self):
        # Setup Expected Response
        name_2 = 'name2-1052831874'
        theme = 'theme110327241'
        internal_theme = 'internalTheme792518087'
        expected_response = {'name': name_2, 'theme': theme, 'internal_theme': internal_theme}
        expected_response = library_pb2.Shelf(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.shelf_path('[SHELF]')
        options_ = 'options-1249474914'

        response = client.get_shelf(name, options_)
        assert expected_response == response

        assert len(channel.requests) == 1
        expected_request = library_pb2.GetShelfRequest(name=name, options=options_)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_get_shelf_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        name = client.shelf_path('[SHELF]')
        options_ = 'options-1249474914'

        with pytest.raises(CustomException):
            client.get_shelf(name, options_)

    def test_list_shelves(self):
        # Setup Expected Response
        next_page_token = ''
        shelves_element = {}
        shelves = [shelves_element]
        expected_response = {'next_page_token': next_page_token, 'shelves': shelves}
        expected_response = library_pb2.ListShelvesResponse(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        paged_list_response = client.list_shelves()
        resources = list(paged_list_response)
        assert len(resources) == 1

        assert expected_response.shelves[0] == resources[0]

        assert len(channel.requests) == 1
        expected_request = library_pb2.ListShelvesRequest()
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_list_shelves_exception(self):
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        paged_list_response = client.list_shelves()
        with pytest.raises(CustomException):
            list(paged_list_response)

    def test_delete_shelf(self):
        channel = ChannelStub()
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.shelf_path('[SHELF]')

        client.delete_shelf(name)

        assert len(channel.requests) == 1
        expected_request = library_pb2.DeleteShelfRequest(name=name)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_delete_shelf_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        name = client.shelf_path('[SHELF]')

        with pytest.raises(CustomException):
            client.delete_shelf(name)

    def test_merge_shelves(self):
        # Setup Expected Response
        name_2 = 'name2-1052831874'
        theme = 'theme110327241'
        internal_theme = 'internalTheme792518087'
        expected_response = {'name': name_2, 'theme': theme, 'internal_theme': internal_theme}
        expected_response = library_pb2.Shelf(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.shelf_path('[SHELF]')
        other_shelf_name = client.shelf_path('[SHELF]')

        response = client.merge_shelves(name, other_shelf_name)
        assert expected_response == response

        assert len(channel.requests) == 1
        expected_request = library_pb2.MergeShelvesRequest(name=name, other_shelf_name=other_shelf_name)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_merge_shelves_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        name = client.shelf_path('[SHELF]')
        other_shelf_name = client.shelf_path('[SHELF]')

        with pytest.raises(CustomException):
            client.merge_shelves(name, other_shelf_name)

    def test_create_book(self):
        # Setup Expected Response
        name_2 = 'name2-1052831874'
        author = 'author-1406328437'
        title = 'title110371416'
        read = True
        expected_response = {'name': name_2, 'author': author, 'title': title, 'read': read}
        expected_response = library_pb2.Book(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.shelf_path('[SHELF]')
        book = {}

        response = client.create_book(name, book)
        assert expected_response == response

        assert len(channel.requests) == 1
        expected_request = library_pb2.CreateBookRequest(name=name, book=book)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_create_book_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        name = client.shelf_path('[SHELF]')
        book = {}

        with pytest.raises(CustomException):
            client.create_book(name, book)

    def test_publish_series(self):
        # Setup Expected Response
        book_names_element = 'bookNamesElement1491670575'
        book_names = [book_names_element]
        expected_response = {'book_names': book_names}
        expected_response = library_pb2.PublishSeriesResponse(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        shelf = {}
        books = []
        series_string = 'foobar'
        series_uuid = {'series_string': series_string}

        response = client.publish_series(shelf, books, series_uuid)
        assert expected_response == response

        assert len(channel.requests) == 1
        expected_request = library_pb2.PublishSeriesRequest(shelf=shelf, books=books, series_uuid=series_uuid)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_publish_series_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        shelf = {}
        books = []
        series_string = 'foobar'
        series_uuid = {'series_string': series_string}

        with pytest.raises(CustomException):
            client.publish_series(shelf, books, series_uuid)

    def test_get_book(self):
        # Setup Expected Response
        name_2 = 'name2-1052831874'
        author = 'author-1406328437'
        title = 'title110371416'
        read = True
        expected_response = {'name': name_2, 'author': author, 'title': title, 'read': read}
        expected_response = library_pb2.Book(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.book_path('[SHELF]', '[BOOK]')

        response = client.get_book(name)
        assert expected_response == response

        assert len(channel.requests) == 1
        expected_request = library_pb2.GetBookRequest(name=name)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_get_book_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        name = client.book_path('[SHELF]', '[BOOK]')

        with pytest.raises(CustomException):
            client.get_book(name)

    def test_list_books(self):
        # Setup Expected Response
        next_page_token = ''
        books_element = {}
        books = [books_element]
        expected_response = {'next_page_token': next_page_token, 'books': books}
        expected_response = library_pb2.ListBooksResponse(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.shelf_path('[SHELF]')
        filter_ = 'book-filter-string'

        paged_list_response = client.list_books(name, filter=filter_)
        resources = list(paged_list_response)
        assert len(resources) == 1

        assert expected_response.books[0] == resources[0]

        assert len(channel.requests) == 1
        expected_request = library_pb2.ListBooksRequest(name=name, filter=filter_)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_list_books_exception(self):
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        name = client.shelf_path('[SHELF]')
        filter_ = 'book-filter-string'

        paged_list_response = client.list_books(name, filter=filter_)
        with pytest.raises(CustomException):
            list(paged_list_response)

    def test_delete_book(self):
        channel = ChannelStub()
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.book_path('[SHELF]', '[BOOK]')

        client.delete_book(name)

        assert len(channel.requests) == 1
        expected_request = library_pb2.DeleteBookRequest(name=name)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_delete_book_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        name = client.book_path('[SHELF]', '[BOOK]')

        with pytest.raises(CustomException):
            client.delete_book(name)

    def test_update_book(self):
        # Setup Expected Response
        name_2 = 'name2-1052831874'
        author = 'author-1406328437'
        title = 'title110371416'
        read = True
        expected_response = {'name': name_2, 'author': author, 'title': title, 'read': read}
        expected_response = library_pb2.Book(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.book_path('[SHELF]', '[BOOK]')
        book = {}

        response = client.update_book(name, book)
        assert expected_response == response

        assert len(channel.requests) == 1
        expected_request = library_pb2.UpdateBookRequest(name=name, book=book)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_update_book_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        name = client.book_path('[SHELF]', '[BOOK]')
        book = {}

        with pytest.raises(CustomException):
            client.update_book(name, book)

    def test_move_book(self):
        # Setup Expected Response
        name_2 = 'name2-1052831874'
        author = 'author-1406328437'
        title = 'title110371416'
        read = True
        expected_response = {'name': name_2, 'author': author, 'title': title, 'read': read}
        expected_response = library_pb2.Book(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.book_path('[SHELF]', '[BOOK]')
        other_shelf_name = client.shelf_path('[SHELF]')

        response = client.move_book(name, other_shelf_name)
        assert expected_response == response

        assert len(channel.requests) == 1
        expected_request = library_pb2.MoveBookRequest(name=name, other_shelf_name=other_shelf_name)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_move_book_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        name = client.book_path('[SHELF]', '[BOOK]')
        other_shelf_name = client.shelf_path('[SHELF]')

        with pytest.raises(CustomException):
            client.move_book(name, other_shelf_name)

    def test_list_strings(self):
        # Setup Expected Response
        next_page_token = ''
        strings_element = 'stringsElement474465855'
        strings = [strings_element]
        expected_response = {'next_page_token': next_page_token, 'strings': strings}
        expected_response = library_pb2.ListStringsResponse(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        paged_list_response = client.list_strings()
        resources = list(paged_list_response)
        assert len(resources) == 1

        assert expected_response.strings[0] == resources[0]

        assert len(channel.requests) == 1
        expected_request = library_pb2.ListStringsRequest()
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_list_strings_exception(self):
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        paged_list_response = client.list_strings()
        with pytest.raises(CustomException):
            list(paged_list_response)

    def test_add_comments(self):
        channel = ChannelStub()
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.book_path('[SHELF]', '[BOOK]')
        comment = b'95'
        stage = enums.Comment.Stage.UNSET
        alignment = enums.SomeMessage2.SomeMessage3.Alignment.CHAR
        comments_element = {'comment': comment, 'stage': stage, 'alignment': alignment}
        comments = [comments_element]

        client.add_comments(name, comments)

        assert len(channel.requests) == 1
        expected_request = library_pb2.AddCommentsRequest(name=name, comments=comments)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_add_comments_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        name = client.book_path('[SHELF]', '[BOOK]')
        comment = b'95'
        stage = enums.Comment.Stage.UNSET
        alignment = enums.SomeMessage2.SomeMessage3.Alignment.CHAR
        comments_element = {'comment': comment, 'stage': stage, 'alignment': alignment}
        comments = [comments_element]

        with pytest.raises(CustomException):
            client.add_comments(name, comments)

    def test_get_book_from_archive(self):
        # Setup Expected Response
        name_2 = 'name2-1052831874'
        author = 'author-1406328437'
        title = 'title110371416'
        read = True
        expected_response = {'name': name_2, 'author': author, 'title': title, 'read': read}
        expected_response = library_pb2.BookFromArchive(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.archived_book_path('[ARCHIVE_PATH]', '[BOOK]')
        parent = client.project_path('[PROJECT]')

        response = client.get_book_from_archive(name, parent)
        assert expected_response == response

        assert len(channel.requests) == 1
        expected_request = library_pb2.GetBookFromArchiveRequest(name=name, parent=parent)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_get_book_from_archive_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        name = client.archived_book_path('[ARCHIVE_PATH]', '[BOOK]')
        parent = client.project_path('[PROJECT]')

        with pytest.raises(CustomException):
            client.get_book_from_archive(name, parent)

    def test_get_book_from_anywhere(self):
        # Setup Expected Response
        name_2 = 'name2-1052831874'
        author = 'author-1406328437'
        title = 'title110371416'
        read = True
        expected_response = {'name': name_2, 'author': author, 'title': title, 'read': read}
        expected_response = book_from_anywhere_pb2.BookFromAnywhere(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.book_path('[SHELF]', '[BOOK]')
        alt_book_name = client.book_path('[SHELF]', '[BOOK]')
        place = client.location_path('[PROJECT]', '[LOCATION]')
        folder = client.folder_path('[FOLDER]')

        response = client.get_book_from_anywhere(name, alt_book_name, place, folder)
        assert expected_response == response

        assert len(channel.requests) == 1
        expected_request = library_pb2.GetBookFromAnywhereRequest(name=name, alt_book_name=alt_book_name, place=place, folder=folder)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_get_book_from_anywhere_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        name = client.book_path('[SHELF]', '[BOOK]')
        alt_book_name = client.book_path('[SHELF]', '[BOOK]')
        place = client.location_path('[PROJECT]', '[LOCATION]')
        folder = client.folder_path('[FOLDER]')

        with pytest.raises(CustomException):
            client.get_book_from_anywhere(name, alt_book_name, place, folder)

    def test_get_book_from_absolutely_anywhere(self):
        # Setup Expected Response
        name_2 = 'name2-1052831874'
        author = 'author-1406328437'
        title = 'title110371416'
        read = True
        expected_response = {'name': name_2, 'author': author, 'title': title, 'read': read}
        expected_response = book_from_anywhere_pb2.BookFromAnywhere(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.book_path('[SHELF]', '[BOOK]')

        response = client.get_book_from_absolutely_anywhere(name)
        assert expected_response == response

        assert len(channel.requests) == 1
        expected_request = library_pb2.GetBookFromAbsolutelyAnywhereRequest(name=name)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_get_book_from_absolutely_anywhere_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        name = client.book_path('[SHELF]', '[BOOK]')

        with pytest.raises(CustomException):
            client.get_book_from_absolutely_anywhere(name)

    def test_update_book_index(self):
        channel = ChannelStub()
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.book_path('[SHELF]', '[BOOK]')
        index_name = 'default index'
        index_map_item = 'indexMapItem1918721251'
        index_map = {'default_key': index_map_item}

        client.update_book_index(name, index_name, index_map)

        assert len(channel.requests) == 1
        expected_request = library_pb2.UpdateBookIndexRequest(name=name, index_name=index_name, index_map=index_map)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_update_book_index_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        name = client.book_path('[SHELF]', '[BOOK]')
        index_name = 'default index'
        index_map_item = 'indexMapItem1918721251'
        index_map = {'default_key': index_map_item}

        with pytest.raises(CustomException):
            client.update_book_index(name, index_name, index_map)

    def test_stream_shelves(self):
        # Setup Expected Response
        shelves_element = {}
        shelves = [shelves_element]
        expected_response = {'shelves': shelves}
        expected_response = library_pb2.StreamShelvesResponse(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [iter([expected_response])])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()


        # Setup Request
        name = client.shelf_path('[SHELF]')

        response = client.stream_shelves(name)
        resources = list(response)
        assert len(resources) == 1
        assert expected_response == resources[0]

        assert len(channel.requests) == 1
        expected_request = library_pb2.StreamShelvesRequest(name=name)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_stream_shelves_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        name = client.shelf_path('[SHELF]')

        with pytest.raises(CustomException):
            client.stream_shelves(name)

    def test_stream_books(self):
        # Setup Expected Response
        name_2 = 'name2-1052831874'
        author = 'author-1406328437'
        title = 'title110371416'
        read = True
        expected_response = {'name': name_2, 'author': author, 'title': title, 'read': read}
        expected_response = library_pb2.Book(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [iter([expected_response])])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()


        # Setup Request
        name = 'name3373707'

        response = client.stream_books(name)
        resources = list(response)
        assert len(resources) == 1
        assert expected_response == resources[0]

        assert len(channel.requests) == 1
        expected_request = library_pb2.StreamBooksRequest(name=name)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_stream_books_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        name = 'name3373707'

        with pytest.raises(CustomException):
            client.stream_books(name)

    def test_discuss_book(self):
        # Setup Expected Response
        user_name = 'userName339340927'
        comment = b'95'
        expected_response = {'user_name': user_name, 'comment': comment}
        expected_response = library_pb2.Comment(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [iter([expected_response])])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.book_path('[SHELF]', '[BOOK]')
        request = {'name': name}
        request = library_pb2.DiscussBookRequest(**request)
        requests = [request]

        response = client.discuss_book(requests)
        resources = list(response)
        assert len(resources) == 1
        assert expected_response == resources[0]

        assert len(channel.requests) == 1
        actual_requests = channel.requests[0][1]
        assert len(actual_requests) == 1
        actual_request = list(actual_requests)[0]
        assert request == actual_request

    def test_discuss_book_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        name = client.book_path('[SHELF]', '[BOOK]')
        request = {'name': name}

        request = library_pb2.DiscussBookRequest(**request)
        requests = [request]

        with pytest.raises(CustomException):
            client.discuss_book(requests)

    def test_monolog_about_book(self):
        # Setup Expected Response
        user_name = 'userName339340927'
        comment = b'95'
        expected_response = {'user_name': user_name, 'comment': comment}
        expected_response = library_pb2.Comment(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.book_path('[SHELF]', '[BOOK]')
        request = {'name': name}
        request = library_pb2.DiscussBookRequest(**request)
        requests = [request]

        response = client.monolog_about_book(requests)
        assert expected_response == response

        assert len(channel.requests) == 1
        actual_requests = channel.requests[0][1]
        assert len(actual_requests) == 1
        actual_request = list(actual_requests)[0]
        assert request == actual_request

    def test_monolog_about_book_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        name = client.book_path('[SHELF]', '[BOOK]')
        request = {'name': name}

        request = library_pb2.DiscussBookRequest(**request)
        requests = [request]

        with pytest.raises(CustomException):
            client.monolog_about_book(requests)

    def test_babble_about_book(self):
        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        request = {}
        request = library_pb2.DiscussBookRequest(**request)
        requests = [request]

        client.babble_about_book(requests)

        assert len(channel.requests) == 1
        actual_requests = channel.requests[0][1]
        assert len(actual_requests) == 1
        actual_request = list(actual_requests)[0]
        assert request == actual_request

    def test_babble_about_book_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        request = {}

        request = library_pb2.DiscussBookRequest(**request)
        requests = [request]

        with pytest.raises(CustomException):
            client.babble_about_book(requests)

    def test_find_related_books(self):
        # Setup Expected Response
        next_page_token = ''
        names_element_2 = 'namesElement21120252792'
        names_2 = [names_element_2]
        expected_response = {'next_page_token': next_page_token, 'names': names_2}
        expected_response = library_pb2.FindRelatedBooksResponse(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        names_element = 'namesElement-249113339'
        names = [names_element]
        shelves = []

        paged_list_response = client.find_related_books(names, shelves)
        resources = list(paged_list_response)
        assert len(resources) == 1

        assert expected_response.names[0] == resources[0]

        assert len(channel.requests) == 1
        expected_request = library_pb2.FindRelatedBooksRequest(names=names, shelves=shelves)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_find_related_books_exception(self):
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        names_element = 'namesElement-249113339'
        names = [names_element]
        shelves = []

        paged_list_response = client.find_related_books(names, shelves)
        with pytest.raises(CustomException):
            list(paged_list_response)

    def test_add_label(self):
        # Setup Expected Response
        expected_response = {}
        expected_response = tagger_pb2.AddLabelResponse(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        resource = client.book_path('[SHELF]', '[BOOK]')
        label = 'label102727412'

        response = client.add_label(resource, label)
        assert expected_response == response

        assert len(channel.requests) == 1
        expected_request = tagger_pb2.AddLabelRequest(resource=resource, label=label)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_add_label_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        resource = client.book_path('[SHELF]', '[BOOK]')
        label = 'label102727412'

        with pytest.raises(CustomException):
            client.add_label(resource, label)

    def test_get_big_book(self):
        # Setup Expected Response
        name_2 = 'name2-1052831874'
        author = 'author-1406328437'
        title = 'title110371416'
        read = True
        expected_response = {'name': name_2, 'author': author, 'title': title, 'read': read}
        expected_response = library_pb2.Book(**expected_response)
        operation = operations_pb2.Operation(name='operations/test_get_big_book', done=True)
        operation.response.Pack(expected_response)

        # Mock the API response
        channel = ChannelStub(responses=[operation])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.book_path('[SHELF]', '[BOOK]')

        response = client.get_big_book(name)
        result = response.result()
        assert expected_response == result

        assert len(channel.requests) == 1
        expected_request = library_pb2.GetBookRequest(name=name)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request


    def test_get_big_book_exception(self):
        # Setup Response
        error = status_pb2.Status()
        operation = operations_pb2.Operation(name='operations/test_get_big_book_exception', done=True)
        operation.error.CopyFrom(error)

        # Mock the API response
        channel = ChannelStub(responses=[operation])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.book_path('[SHELF]', '[BOOK]')

        response = client.get_big_book(name)
        exception = response.exception()
        assert exception.errors[0] == error

    def test_get_big_nothing(self):
        # Setup Expected Response
        expected_response = {}
        expected_response = empty_pb2.Empty(**expected_response)
        operation = operations_pb2.Operation(name='operations/test_get_big_nothing', done=True)
        operation.response.Pack(expected_response)

        # Mock the API response
        channel = ChannelStub(responses=[operation])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.book_path('[SHELF]', '[BOOK]')

        response = client.get_big_nothing(name)
        result = response.result()
        assert expected_response == result

        assert len(channel.requests) == 1
        expected_request = library_pb2.GetBookRequest(name=name)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request


    def test_get_big_nothing_exception(self):
        # Setup Response
        error = status_pb2.Status()
        operation = operations_pb2.Operation(name='operations/test_get_big_nothing_exception', done=True)
        operation.error.CopyFrom(error)

        # Mock the API response
        channel = ChannelStub(responses=[operation])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        name = client.book_path('[SHELF]', '[BOOK]')

        response = client.get_big_nothing(name)
        exception = response.exception()
        assert exception.errors[0] == error

    def test_test_optional_required_flattening_params(self):
        # Setup Expected Response
        expected_response = {}
        expected_response = library_pb2.TestOptionalRequiredFlatteningParamsResponse(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        required_singular_int32 = 72313594
        required_singular_int64 = 72313499
        required_singular_float = -7514705.0
        required_singular_double = 1.9111005E8
        required_singular_bool = True
        required_singular_enum = enums.TestOptionalRequiredFlatteningParamsRequest.InnerEnum.ZERO
        required_singular_string = 'requiredSingularString-1949894503'
        required_singular_bytes = b'-29'
        required_singular_message = {}
        required_singular_resource_name = client.book_path('[SHELF]', '[BOOK]')
        required_singular_resource_name_oneof = client.book_path('[SHELF]', '[BOOK]')
        required_singular_resource_name_common = client.project_path('[PROJECT]')
        required_singular_fixed32 = 720656715
        required_singular_fixed64 = 720656810
        required_repeated_int32 = []
        required_repeated_int64 = []
        required_repeated_float = []
        required_repeated_double = []
        required_repeated_bool = []
        required_repeated_enum = []
        required_repeated_string = []
        required_repeated_bytes = []
        required_repeated_message = []
        required_repeated_resource_name = []
        required_repeated_resource_name_oneof = []
        required_repeated_resource_name_common = []
        required_repeated_fixed32 = []
        required_repeated_fixed64 = []
        required_map = {}
        required_any_value = {}
        required_struct_value = {}
        required_value_value = {}
        required_list_value_value = {}
        required_time_value = {}
        required_duration_value = {}
        required_field_mask_value = {}
        required_int32_value = {}
        required_uint32_value = {}
        required_int64_value = {}
        required_uint64_value = {}
        required_float_value = {}
        required_double_value = {}
        required_string_value = {}
        required_bool_value = {}
        required_bytes_value = {}
        required_repeated_any_value = []
        required_repeated_struct_value = []
        required_repeated_value_value = []
        required_repeated_list_value_value = []
        required_repeated_time_value = []
        required_repeated_duration_value = []
        required_repeated_field_mask_value = []
        required_repeated_int32_value = []
        required_repeated_uint32_value = []
        required_repeated_int64_value = []
        required_repeated_uint64_value = []
        required_repeated_float_value = []
        required_repeated_double_value = []
        required_repeated_string_value = []
        required_repeated_bool_value = []
        required_repeated_bytes_value = []

        response = client.test_optional_required_flattening_params(required_singular_int32, required_singular_int64, required_singular_float, required_singular_double, required_singular_bool, required_singular_enum, required_singular_string, required_singular_bytes, required_singular_message, required_singular_resource_name, required_singular_resource_name_oneof, required_singular_resource_name_common, required_singular_fixed32, required_singular_fixed64, required_repeated_int32, required_repeated_int64, required_repeated_float, required_repeated_double, required_repeated_bool, required_repeated_enum, required_repeated_string, required_repeated_bytes, required_repeated_message, required_repeated_resource_name, required_repeated_resource_name_oneof, required_repeated_resource_name_common, required_repeated_fixed32, required_repeated_fixed64, required_map, required_any_value, required_struct_value, required_value_value, required_list_value_value, required_time_value, required_duration_value, required_field_mask_value, required_int32_value, required_uint32_value, required_int64_value, required_uint64_value, required_float_value, required_double_value, required_string_value, required_bool_value, required_bytes_value, required_repeated_any_value, required_repeated_struct_value, required_repeated_value_value, required_repeated_list_value_value, required_repeated_time_value, required_repeated_duration_value, required_repeated_field_mask_value, required_repeated_int32_value, required_repeated_uint32_value, required_repeated_int64_value, required_repeated_uint64_value, required_repeated_float_value, required_repeated_double_value, required_repeated_string_value, required_repeated_bool_value, required_repeated_bytes_value)
        assert expected_response == response

        assert len(channel.requests) == 1
        expected_request = library_pb2.TestOptionalRequiredFlatteningParamsRequest(required_singular_int32=required_singular_int32, required_singular_int64=required_singular_int64, required_singular_float=required_singular_float, required_singular_double=required_singular_double, required_singular_bool=required_singular_bool, required_singular_enum=required_singular_enum, required_singular_string=required_singular_string, required_singular_bytes=required_singular_bytes, required_singular_message=required_singular_message, required_singular_resource_name=required_singular_resource_name, required_singular_resource_name_oneof=required_singular_resource_name_oneof, required_singular_resource_name_common=required_singular_resource_name_common, required_singular_fixed32=required_singular_fixed32, required_singular_fixed64=required_singular_fixed64, required_repeated_int32=required_repeated_int32, required_repeated_int64=required_repeated_int64, required_repeated_float=required_repeated_float, required_repeated_double=required_repeated_double, required_repeated_bool=required_repeated_bool, required_repeated_enum=required_repeated_enum, required_repeated_string=required_repeated_string, required_repeated_bytes=required_repeated_bytes, required_repeated_message=required_repeated_message, required_repeated_resource_name=required_repeated_resource_name, required_repeated_resource_name_oneof=required_repeated_resource_name_oneof, required_repeated_resource_name_common=required_repeated_resource_name_common, required_repeated_fixed32=required_repeated_fixed32, required_repeated_fixed64=required_repeated_fixed64, required_map=required_map, required_any_value=required_any_value, required_struct_value=required_struct_value, required_value_value=required_value_value, required_list_value_value=required_list_value_value, required_time_value=required_time_value, required_duration_value=required_duration_value, required_field_mask_value=required_field_mask_value, required_int32_value=required_int32_value, required_uint32_value=required_uint32_value, required_int64_value=required_int64_value, required_uint64_value=required_uint64_value, required_float_value=required_float_value, required_double_value=required_double_value, required_string_value=required_string_value, required_bool_value=required_bool_value, required_bytes_value=required_bytes_value, required_repeated_any_value=required_repeated_any_value, required_repeated_struct_value=required_repeated_struct_value, required_repeated_value_value=required_repeated_value_value, required_repeated_list_value_value=required_repeated_list_value_value, required_repeated_time_value=required_repeated_time_value, required_repeated_duration_value=required_repeated_duration_value, required_repeated_field_mask_value=required_repeated_field_mask_value, required_repeated_int32_value=required_repeated_int32_value, required_repeated_uint32_value=required_repeated_uint32_value, required_repeated_int64_value=required_repeated_int64_value, required_repeated_uint64_value=required_repeated_uint64_value, required_repeated_float_value=required_repeated_float_value, required_repeated_double_value=required_repeated_double_value, required_repeated_string_value=required_repeated_string_value, required_repeated_bool_value=required_repeated_bool_value, required_repeated_bytes_value=required_repeated_bytes_value)
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_test_optional_required_flattening_params_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        required_singular_int32 = 72313594
        required_singular_int64 = 72313499
        required_singular_float = -7514705.0
        required_singular_double = 1.9111005E8
        required_singular_bool = True
        required_singular_enum = enums.TestOptionalRequiredFlatteningParamsRequest.InnerEnum.ZERO
        required_singular_string = 'requiredSingularString-1949894503'
        required_singular_bytes = b'-29'
        required_singular_message = {}
        required_singular_resource_name = client.book_path('[SHELF]', '[BOOK]')
        required_singular_resource_name_oneof = client.book_path('[SHELF]', '[BOOK]')
        required_singular_resource_name_common = client.project_path('[PROJECT]')
        required_singular_fixed32 = 720656715
        required_singular_fixed64 = 720656810
        required_repeated_int32 = []
        required_repeated_int64 = []
        required_repeated_float = []
        required_repeated_double = []
        required_repeated_bool = []
        required_repeated_enum = []
        required_repeated_string = []
        required_repeated_bytes = []
        required_repeated_message = []
        required_repeated_resource_name = []
        required_repeated_resource_name_oneof = []
        required_repeated_resource_name_common = []
        required_repeated_fixed32 = []
        required_repeated_fixed64 = []
        required_map = {}
        required_any_value = {}
        required_struct_value = {}
        required_value_value = {}
        required_list_value_value = {}
        required_time_value = {}
        required_duration_value = {}
        required_field_mask_value = {}
        required_int32_value = {}
        required_uint32_value = {}
        required_int64_value = {}
        required_uint64_value = {}
        required_float_value = {}
        required_double_value = {}
        required_string_value = {}
        required_bool_value = {}
        required_bytes_value = {}
        required_repeated_any_value = []
        required_repeated_struct_value = []
        required_repeated_value_value = []
        required_repeated_list_value_value = []
        required_repeated_time_value = []
        required_repeated_duration_value = []
        required_repeated_field_mask_value = []
        required_repeated_int32_value = []
        required_repeated_uint32_value = []
        required_repeated_int64_value = []
        required_repeated_uint64_value = []
        required_repeated_float_value = []
        required_repeated_double_value = []
        required_repeated_string_value = []
        required_repeated_bool_value = []
        required_repeated_bytes_value = []

        with pytest.raises(CustomException):
            client.test_optional_required_flattening_params(required_singular_int32, required_singular_int64, required_singular_float, required_singular_double, required_singular_bool, required_singular_enum, required_singular_string, required_singular_bytes, required_singular_message, required_singular_resource_name, required_singular_resource_name_oneof, required_singular_resource_name_common, required_singular_fixed32, required_singular_fixed64, required_repeated_int32, required_repeated_int64, required_repeated_float, required_repeated_double, required_repeated_bool, required_repeated_enum, required_repeated_string, required_repeated_bytes, required_repeated_message, required_repeated_resource_name, required_repeated_resource_name_oneof, required_repeated_resource_name_common, required_repeated_fixed32, required_repeated_fixed64, required_map, required_any_value, required_struct_value, required_value_value, required_list_value_value, required_time_value, required_duration_value, required_field_mask_value, required_int32_value, required_uint32_value, required_int64_value, required_uint64_value, required_float_value, required_double_value, required_string_value, required_bool_value, required_bytes_value, required_repeated_any_value, required_repeated_struct_value, required_repeated_value_value, required_repeated_list_value_value, required_repeated_time_value, required_repeated_duration_value, required_repeated_field_mask_value, required_repeated_int32_value, required_repeated_uint32_value, required_repeated_int64_value, required_repeated_uint64_value, required_repeated_float_value, required_repeated_double_value, required_repeated_string_value, required_repeated_bool_value, required_repeated_bytes_value)

    def test_move_books(self):
        # Setup Expected Response
        success = False
        expected_response = {'success': success}
        expected_response = library_pb2.MoveBooksResponse(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        response = client.move_books()
        assert expected_response == response

        assert len(channel.requests) == 1
        expected_request = library_pb2.MoveBooksRequest()
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_move_books_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        with pytest.raises(CustomException):
            client.move_books()

    def test_archive_books(self):
        # Setup Expected Response
        success = False
        expected_response = {'success': success}
        expected_response = library_pb2.ArchiveBooksResponse(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        response = client.archive_books()
        assert expected_response == response

        assert len(channel.requests) == 1
        expected_request = library_pb2.ArchiveBooksRequest()
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_archive_books_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        with pytest.raises(CustomException):
            client.archive_books()

    def test_long_running_archive_books(self):
        # Setup Expected Response
        name = 'name3373707'
        done = True
        expected_response = {'name': name, 'done': done}
        expected_response = operations_pb2.Operation(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        response = client.long_running_archive_books()
        assert expected_response == response

        assert len(channel.requests) == 1
        expected_request = library_pb2.ArchiveBooksRequest()
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_long_running_archive_books_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        with pytest.raises(CustomException):
            client.long_running_archive_books()

    def test_streaming_archive_books(self):
        # Setup Expected Response
        success = False
        expected_response = {'success': success}
        expected_response = library_pb2.ArchiveBooksResponse(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [iter([expected_response])])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup Request
        request = {}
        request = library_pb2.ArchiveBooksRequest(**request)
        requests = [request]

        response = client.streaming_archive_books(requests)
        resources = list(response)
        assert len(resources) == 1
        assert expected_response == resources[0]

        assert len(channel.requests) == 1
        actual_requests = channel.requests[0][1]
        assert len(actual_requests) == 1
        actual_request = list(actual_requests)[0]
        assert request == actual_request

    def test_streaming_archive_books_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        # Setup request
        request = {}

        request = library_pb2.ArchiveBooksRequest(**request)
        requests = [request]

        with pytest.raises(CustomException):
            client.streaming_archive_books(requests)

    def test_save_book(self):
        channel = ChannelStub()
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        client.save_book()

        assert len(channel.requests) == 1
        expected_request = library_pb2.Book()
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_save_book_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        with pytest.raises(CustomException):
            client.save_book()

    def test_private_list_shelves(self):
        # Setup Expected Response
        name = 'name3373707'
        author = 'author-1406328437'
        title = 'title110371416'
        read = True
        expected_response = {'name': name, 'author': author, 'title': title, 'read': read}
        expected_response = library_pb2.Book(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        response = client.private_list_shelves()
        assert expected_response == response

        assert len(channel.requests) == 1
        expected_request = library_pb2.ListShelvesRequest()
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_private_list_shelves_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.LibraryServiceClient()

        with pytest.raises(CustomException):
            client.private_list_shelves()

============== file: tests/unit/gapic/v1/test_my_proto_client_v1.py ==============
# -*- coding: utf-8 -*-
#
# Copyright 2020 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

"""Unit tests."""

import mock
import pytest

from google.cloud.example import library_v1
from google.cloud.example.library_v1.proto import another_service_pb2



class MultiCallableStub(object):
    """Stub for the grpc.UnaryUnaryMultiCallable interface."""
    def __init__(self, method, channel_stub):
        self.method = method
        self.channel_stub = channel_stub

    def __call__(self, request, timeout=None, metadata=None, credentials=None):
        self.channel_stub.requests.append((self.method, request))

        response = None
        if self.channel_stub.responses:
            response = self.channel_stub.responses.pop()

        if isinstance(response, Exception):
            raise response

        if response:
            return response


class ChannelStub(object):
    """Stub for the grpc.Channel interface."""
    def __init__(self, responses = []):
        self.responses = responses
        self.requests = []

    def unary_unary(
            self, method, request_serializer=None, response_deserializer=None):
        return MultiCallableStub(method, self)


class CustomException(Exception):
    pass


class TestMyProtoClient(object):

    def test_my_method(self):
        # Setup Expected Response
        myfield = 'myfield1515208398'
        expected_response = {'myfield': myfield}
        expected_response = another_service_pb2.MethodResponse(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.MyProtoClient()

        response = client.my_method()
        assert expected_response == response

        assert len(channel.requests) == 1
        expected_request = another_service_pb2.MethodRequest()
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_my_method_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.MyProtoClient()

        with pytest.raises(CustomException):
            client.my_method()

    def test_get_namespace(self):
        # Setup Expected Response
        value = 'value111972721'
        expected_response = {'value': value}
        expected_response = another_service_pb2.Namespace(**expected_response)

        # Mock the API response
        channel = ChannelStub(responses = [expected_response])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.MyProtoClient()

        response = client.get_namespace()
        assert expected_response == response

        assert len(channel.requests) == 1
        expected_request = another_service_pb2.MethodRequest()
        actual_request = channel.requests[0][1]
        assert expected_request == actual_request

    def test_get_namespace_exception(self):
        # Mock the API response
        channel = ChannelStub(responses = [CustomException()])
        patch = mock.patch('google.api_core.grpc_helpers.create_channel')
        with patch as create_channel:
            create_channel.return_value = channel
            client = library_v1.MyProtoClient()

        with pytest.raises(CustomException):
            client.get_namespace()

