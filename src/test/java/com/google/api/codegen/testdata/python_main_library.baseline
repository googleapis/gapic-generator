============== file: google/cloud/gapic/example/library/v1/library_service_client.py ==============
# Copyright 2016, Google Inc. All rights reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# EDITING INSTRUCTIONS
# This file was generated from the file
# https://github.com/google/googleapis/blob/master/library.proto,
# and updates to that file get reflected here through a refresh process.
# For the short term, the refresh process will only be runnable by Google engineers.
#
# The only allowed edits are to method and file documentation. A 3-way
# merge preserves those additions if the generated source changes.

"""Accesses the google.example.library.v1 LibraryService API."""

import json
import os
import pkg_resources
import platform

from google.gapic.longrunning import operations_client
from google.gax import api_callable
from google.gax import config
from google.gax import path_template
import google.gax

from google.cloud.gapic.example.library.v1 import enums
from google.cloud.proto.example.library.v1 import field_mask_pb2 as v1_field_mask_pb2
from google.cloud.proto.example.library.v1 import library_pb2
from google.cloud.proto.tagger.v1 import tagger_pb2
from google.protobuf import empty_pb2
from google.protobuf import field_mask_pb2 as protobuf_field_mask_pb2


_BundleDesc = google.gax.BundleDescriptor


_PageDesc = google.gax.PageDescriptor


class LibraryServiceClient(object):
    """
    This API represents a simple digital library.  It lets you manage Shelf
    resources and Book resources in the library. It defines the following
    resource model:

    - The API has a collection of ``Shelf``
      resources, named ``bookShelves/*``

    - Each Shelf has a collection of ``Book``
      resources, named ``bookShelves/*/books/*``

    Check out `cloud docs! <https://cloud.google.com/library/example/link>`_.
    This is `not a cloud link <http://www.google.com>`_.
    """

    SERVICE_ADDRESS = 'library-example.googleapis.com'
    """The default address of the service."""

    DEFAULT_SERVICE_PORT = 443
    """The default port of the service."""

    _CODE_GEN_NAME_VERSION = 'gapic/0.1.0'

    _GAX_VERSION = pkg_resources.get_distribution('google-gax').version

    _PAGE_DESCRIPTORS = {
        'list_shelves': _PageDesc(
            'page_token',
            'next_page_token',
            'shelves'
        ),
        'list_books': _PageDesc(
            'page_token',
            'next_page_token',
            'books'
        ),
        'list_strings': _PageDesc(
            'page_token',
            'next_page_token',
            'strings'
        ),
        'find_related_books': _PageDesc(
            'page_token',
            'next_page_token',
            'names'
        )
    }

    _BUNDLE_DESCRIPTORS = {
        'publish_series': _BundleDesc(
            'books',
            [
                'edition',
                'shelf.name'
            ],
            subresponse_field='book_names',
        )
    }

    # The scopes needed to make gRPC calls to all of the methods defined in
    # this service
    _ALL_SCOPES = (
        'https://www.googleapis.com/auth/cloud-platform',
        'https://www.googleapis.com/auth/library',
    )

    _SHELF_PATH_TEMPLATE = path_template.PathTemplate(
        'shelves/{shelf_id}')
    _BOOK_PATH_TEMPLATE = path_template.PathTemplate(
        'shelves/{shelf_id}/books/{book_id}')
    _RETURN_PATH_TEMPLATE = path_template.PathTemplate(
        'shelves/{shelf}/books/{book}/returns/{return}')

    @classmethod
    def shelf_path(cls, shelf_id):
        """Returns a fully-qualified shelf resource name string."""
        return cls._SHELF_PATH_TEMPLATE.render({
            'shelf_id': shelf_id,
        })

    @classmethod
    def book_path(cls, shelf_id, book_id):
        """Returns a fully-qualified book resource name string."""
        return cls._BOOK_PATH_TEMPLATE.render({
            'shelf_id': shelf_id,
            'book_id': book_id,
        })

    @classmethod
    def return_path(cls, shelf, book, return_):
        """Returns a fully-qualified return resource name string."""
        return cls._RETURN_PATH_TEMPLATE.render({
            'shelf': shelf,
            'book': book,
            'return': return_,
        })

    @classmethod
    def match_shelf_id_from_shelf_name(cls, shelf_name):
        """Parses the shelf_id from a shelf resource.

        Args:
          shelf_name (string): A fully-qualified path representing a shelf
            resource.

        Returns:
          A string representing the shelf_id.
        """
        return cls._SHELF_PATH_TEMPLATE.match(shelf_name).get('shelf_id')

    @classmethod
    def match_shelf_id_from_book_name(cls, book_name):
        """Parses the shelf_id from a book resource.

        Args:
          book_name (string): A fully-qualified path representing a book
            resource.

        Returns:
          A string representing the shelf_id.
        """
        return cls._BOOK_PATH_TEMPLATE.match(book_name).get('shelf_id')

    @classmethod
    def match_book_id_from_book_name(cls, book_name):
        """Parses the book_id from a book resource.

        Args:
          book_name (string): A fully-qualified path representing a book
            resource.

        Returns:
          A string representing the book_id.
        """
        return cls._BOOK_PATH_TEMPLATE.match(book_name).get('book_id')

    @classmethod
    def match_shelf_from_return_name(cls, return_name):
        """Parses the shelf from a return resource.

        Args:
          return_name (string): A fully-qualified path representing a return
            resource.

        Returns:
          A string representing the shelf.
        """
        return cls._RETURN_PATH_TEMPLATE.match(return_name).get('shelf')

    @classmethod
    def match_book_from_return_name(cls, return_name):
        """Parses the book from a return resource.

        Args:
          return_name (string): A fully-qualified path representing a return
            resource.

        Returns:
          A string representing the book.
        """
        return cls._RETURN_PATH_TEMPLATE.match(return_name).get('book')

    @classmethod
    def match_return_from_return_name(cls, return_name):
        """Parses the return from a return resource.

        Args:
          return_name (string): A fully-qualified path representing a return
            resource.

        Returns:
          A string representing the return.
        """
        return cls._RETURN_PATH_TEMPLATE.match(return_name).get('return')

    def __init__(
            self,
            service_path=SERVICE_ADDRESS,
            port=DEFAULT_SERVICE_PORT,
            channel=None,
            credentials=None,
            ssl_credentials=None,
            scopes=None,
            client_config=None,
            app_name='gax',
            app_version=_GAX_VERSION):
        """Constructor.

        Args:
          service_path (string): The domain name of the API remote host.
          port (int): The port on which to connect to the remote host.
          channel (:class:`grpc.Channel`): A ``Channel`` instance through
            which to make calls.
          credentials (object): The authorization credentials to attach to
            requests. These credentials identify this application to the
            service.
          ssl_credentials (:class:`grpc.ChannelCredentials`): A
            ``ChannelCredentials`` instance for use with an SSL-enabled
            channel.
          scopes (list[string]): A list of OAuth2 scopes to attach to requests.
          client_config (dict):
            A dictionary for call options for each method. See
            :func:`google.gax.construct_settings` for the structure of
            this data. Falls back to the default config if not specified
            or the specified config is missing data points.
          app_name (string): The codename of the calling service.
          app_version (string): The version of the calling service.

        Returns:
          A LibraryServiceClient object.
        """
        if scopes is None:
            scopes = self._ALL_SCOPES
        if client_config is None:
            client_config = {}
        goog_api_client = '{}/{} {} gax/{} python/{}'.format(
            app_name,
            app_version,
            self._CODE_GEN_NAME_VERSION,
            self._GAX_VERSION,
            platform.python_version()
        )
        metadata = [('x-goog-api-client', goog_api_client)]
        default_client_config = json.loads(pkg_resources.resource_string(
            __name__, 'library_service_client_config.json').decode())
        defaults = api_callable.construct_settings(
            'google.example.library.v1.LibraryService',
            default_client_config,
            client_config,
            config.STATUS_CODE_NAMES,
            kwargs={'metadata': metadata},
            bundle_descriptors=self._BUNDLE_DESCRIPTORS,
            page_descriptors=self._PAGE_DESCRIPTORS)
        self.library_service_stub = config.create_stub(
            library_pb2.LibraryServiceStub,
            channel=channel,
            service_path=service_path,
            service_port=port,
            credentials=credentials,
            scopes=scopes,
            ssl_credentials=ssl_credentials)
        self.labeler_stub = config.create_stub(
            tagger_pb2.LabelerStub,
            channel=channel,
            service_path=service_path,
            service_port=port,
            credentials=credentials,
            scopes=scopes,
            ssl_credentials=ssl_credentials)

        self.operations_client = operations_client.OperationsClient(
            service_path=service_path,
            port=port,
            channel=channel,
            credentials=credentials,
            ssl_credentials=ssl_credentials,
            scopes=scopes,
            client_config=client_config,
            app_name=app_name,
            app_version=app_version)

        self._create_shelf = api_callable.create_api_call(
            self.library_service_stub.CreateShelf,
            settings=defaults['create_shelf'])
        self._get_shelf = api_callable.create_api_call(
            self.library_service_stub.GetShelf,
            settings=defaults['get_shelf'])
        self._list_shelves = api_callable.create_api_call(
            self.library_service_stub.ListShelves,
            settings=defaults['list_shelves'])
        self._delete_shelf = api_callable.create_api_call(
            self.library_service_stub.DeleteShelf,
            settings=defaults['delete_shelf'])
        self._merge_shelves = api_callable.create_api_call(
            self.library_service_stub.MergeShelves,
            settings=defaults['merge_shelves'])
        self._create_book = api_callable.create_api_call(
            self.library_service_stub.CreateBook,
            settings=defaults['create_book'])
        self._publish_series = api_callable.create_api_call(
            self.library_service_stub.PublishSeries,
            settings=defaults['publish_series'])
        self._get_book = api_callable.create_api_call(
            self.library_service_stub.GetBook,
            settings=defaults['get_book'])
        self._list_books = api_callable.create_api_call(
            self.library_service_stub.ListBooks,
            settings=defaults['list_books'])
        self._delete_book = api_callable.create_api_call(
            self.library_service_stub.DeleteBook,
            settings=defaults['delete_book'])
        self._update_book = api_callable.create_api_call(
            self.library_service_stub.UpdateBook,
            settings=defaults['update_book'])
        self._move_book = api_callable.create_api_call(
            self.library_service_stub.MoveBook,
            settings=defaults['move_book'])
        self._list_strings = api_callable.create_api_call(
            self.library_service_stub.ListStrings,
            settings=defaults['list_strings'])
        self._add_comments = api_callable.create_api_call(
            self.library_service_stub.AddComments,
            settings=defaults['add_comments'])
        self._get_book_from_archive = api_callable.create_api_call(
            self.library_service_stub.GetBookFromArchive,
            settings=defaults['get_book_from_archive'])
        self._get_book_from_anywhere = api_callable.create_api_call(
            self.library_service_stub.GetBookFromAnywhere,
            settings=defaults['get_book_from_anywhere'])
        self._update_book_index = api_callable.create_api_call(
            self.library_service_stub.UpdateBookIndex,
            settings=defaults['update_book_index'])
        self._stream_shelves = api_callable.create_api_call(
            self.library_service_stub.StreamShelves,
            settings=defaults['stream_shelves'])
        self._stream_books = api_callable.create_api_call(
            self.library_service_stub.StreamBooks,
            settings=defaults['stream_books'])
        self._discuss_book = api_callable.create_api_call(
            self.library_service_stub.DiscussBook,
            settings=defaults['discuss_book'])
        self._monolog_about_book = api_callable.create_api_call(
            self.library_service_stub.MonologAboutBook,
            settings=defaults['monolog_about_book'])
        self._find_related_books = api_callable.create_api_call(
            self.library_service_stub.FindRelatedBooks,
            settings=defaults['find_related_books'])
        self._add_tag = api_callable.create_api_call(
            self.library_service_stub.AddTag,
            settings=defaults['add_tag'])
        self._add_label = api_callable.create_api_call(
            self.labeler_stub.AddLabel,
            settings=defaults['add_label'])
        self._get_big_book = api_callable.create_api_call(
            self.library_service_stub.GetBigBook,
            settings=defaults['get_big_book'])
        self._get_big_nothing = api_callable.create_api_call(
            self.library_service_stub.GetBigNothing,
            settings=defaults['get_big_nothing'])

    # Service calls
    def create_shelf(
            self,
            shelf,
            options=None):
        """
        Creates a shelf, and returns the new Shelf.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> from google.cloud.proto.example.library.v1 import library_pb2
          >>> api = library_service_client.LibraryServiceClient()
          >>> shelf = library_pb2.Shelf()
          >>> response = api.create_shelf(shelf)

        Args:
          shelf (:class:`google.cloud.proto.example.library.v1.library_pb2.Shelf`): The shelf to create.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          A :class:`google.cloud.proto.example.library.v1.library_pb2.Shelf` instance.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = library_pb2.CreateShelfRequest(
            shelf=shelf)
        return self._create_shelf(request, options)

    def get_shelf(
            self,
            name,
            options_,
            message=None,
            string_builder=None,
            options=None):
        """
        Gets a shelf.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> api = library_service_client.LibraryServiceClient()
          >>> name = api.shelf_path('[SHELF_ID]')
          >>> options_ = ''
          >>> response = api.get_shelf(name, options_)

        Args:
          name (string): The name of the shelf to retrieve.
          message (:class:`google.cloud.proto.example.library.v1.library_pb2.SomeMessage`): Field to verify that message-type query parameter gets flattened.
          string_builder (:class:`google.cloud.proto.example.library.v1.library_pb2.StringBuilder`)
          options_ (string): To test 'options' parameter name conflict.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          A :class:`google.cloud.proto.example.library.v1.library_pb2.Shelf` instance.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        if message is None:
            message = library_pb2.SomeMessage()
        if string_builder is None:
            string_builder = library_pb2.StringBuilder()
        request = library_pb2.GetShelfRequest(
            name=name,
            options=options_,
            message=message,
            string_builder=string_builder)
        return self._get_shelf(request, options)

    def list_shelves(
            self,
            options=None):
        """
        Lists shelves.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> from google.gax import CallOptions, INITIAL_PAGE
          >>> api = library_service_client.LibraryServiceClient()
          >>>
          >>> # Iterate over all results
          >>> for element in api.list_shelves():
          >>>   # process element
          >>>   pass
          >>>
          >>> # Or iterate over results one page at a time
          >>> for page in api.list_shelves(options=CallOptions(page_token=INITIAL_PAGE)):
          >>>   for element in page:
          >>>     # process element
          >>>     pass

        Args:
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          A :class:`google.gax.PageIterator` instance. By default, this
          is an iterable of :class:`google.cloud.proto.example.library.v1.library_pb2.Shelf` instances.
          This object can also be configured to iterate over the pages
          of the response through the `CallOptions` parameter.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
        """
        request = library_pb2.ListShelvesRequest()
        return self._list_shelves(request, options)

    def delete_shelf(
            self,
            name,
            options=None):
        """
        Deletes a shelf.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> api = library_service_client.LibraryServiceClient()
          >>> name = api.shelf_path('[SHELF_ID]')
          >>> api.delete_shelf(name)

        Args:
          name (string): The name of the shelf to delete.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = library_pb2.DeleteShelfRequest(
            name=name)
        self._delete_shelf(request, options)

    def merge_shelves(
            self,
            name,
            other_shelf_name,
            options=None):
        """
        Merges two shelves by adding all books from the shelf named
        ``other_shelf_name`` to shelf ``name``, and deletes
        ``other_shelf_name``. Returns the updated shelf.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> api = library_service_client.LibraryServiceClient()
          >>> name = api.shelf_path('[SHELF_ID]')
          >>> other_shelf_name = api.shelf_path('[SHELF_ID]')
          >>> response = api.merge_shelves(name, other_shelf_name)

        Args:
          name (string): The name of the shelf we're adding books to.
          other_shelf_name (string): The name of the shelf we're removing books from and deleting.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          A :class:`google.cloud.proto.example.library.v1.library_pb2.Shelf` instance.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = library_pb2.MergeShelvesRequest(
            name=name,
            other_shelf_name=other_shelf_name)
        return self._merge_shelves(request, options)

    def create_book(
            self,
            name,
            book,
            options=None):
        """
        Creates a book.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> from google.cloud.proto.example.library.v1 import library_pb2
          >>> api = library_service_client.LibraryServiceClient()
          >>> name = api.shelf_path('[SHELF_ID]')
          >>> book = library_pb2.Book()
          >>> response = api.create_book(name, book)

        Args:
          name (string): The name of the shelf in which the book is created.
          book (:class:`google.cloud.proto.example.library.v1.library_pb2.Book`): The book to create.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          A :class:`google.cloud.proto.example.library.v1.library_pb2.Book` instance.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = library_pb2.CreateBookRequest(
            name=name,
            book=book)
        return self._create_book(request, options)

    def publish_series(
            self,
            shelf,
            books,
            edition=None,
            review_copy=None,
            series_uuid=b'',
            options=None):
        """
        Creates a series of books.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> from google.cloud.proto.example.library.v1 import library_pb2
          >>> api = library_service_client.LibraryServiceClient()
          >>> shelf = library_pb2.Shelf()
          >>> books = []
          >>> response = api.publish_series(shelf, books)

        Args:
          shelf (:class:`google.cloud.proto.example.library.v1.library_pb2.Shelf`): The shelf in which the series is created.
          books (list[:class:`google.cloud.proto.example.library.v1.library_pb2.Book`]): The books to publish in the series.
          edition (int): The edition of the series
          review_copy (bool): If the book is in a pre-publish state
          series_uuid (bytes): Uniquely identifies the series to the publishing house.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          A :class:`google.cloud.proto.example.library.v1.library_pb2.PublishSeriesResponse` instance.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = library_pb2.PublishSeriesRequest(
            shelf=shelf,
            books=books,
            edition=edition,
            review_copy=review_copy,
            series_uuid=series_uuid)
        return self._publish_series(request, options)

    def get_book(
            self,
            name,
            options=None):
        """
        Gets a book.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> api = library_service_client.LibraryServiceClient()
          >>> name = api.book_path('[SHELF_ID]', '[BOOK_ID]')
          >>> response = api.get_book(name)

        Args:
          name (string): The name of the book to retrieve.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          A :class:`google.cloud.proto.example.library.v1.library_pb2.Book` instance.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = library_pb2.GetBookRequest(
            name=name)
        return self._get_book(request, options)

    def list_books(
            self,
            name,
            page_size=0,
            filter_='',
            options=None):
        """
        Lists books in a shelf.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> from google.gax import CallOptions, INITIAL_PAGE
          >>> api = library_service_client.LibraryServiceClient()
          >>> name = api.shelf_path('[SHELF_ID]')
          >>>
          >>> # Iterate over all results
          >>> for element in api.list_books(name):
          >>>   # process element
          >>>   pass
          >>>
          >>> # Or iterate over results one page at a time
          >>> for page in api.list_books(name, options=CallOptions(page_token=INITIAL_PAGE)):
          >>>   for element in page:
          >>>     # process element
          >>>     pass

        Args:
          name (string): The name of the shelf whose books we'd like to list.
          page_size (int): The maximum number of resources contained in the
            underlying API response. If page streaming is performed per-
            resource, this parameter does not affect the return value. If page
            streaming is performed per-page, this determines the maximum number
            of resources in a page.
          filter_ (string): To test python built-in wrapping.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          A :class:`google.gax.PageIterator` instance. By default, this
          is an iterable of :class:`google.cloud.proto.example.library.v1.library_pb2.Book` instances.
          This object can also be configured to iterate over the pages
          of the response through the `CallOptions` parameter.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = library_pb2.ListBooksRequest(
            name=name,
            page_size=page_size,
            filter=filter_)
        return self._list_books(request, options)

    def delete_book(
            self,
            name,
            options=None):
        """
        Deletes a book.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> api = library_service_client.LibraryServiceClient()
          >>> name = api.book_path('[SHELF_ID]', '[BOOK_ID]')
          >>> api.delete_book(name)

        Args:
          name (string): The name of the book to delete.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = library_pb2.DeleteBookRequest(
            name=name)
        self._delete_book(request, options)

    def update_book(
            self,
            name,
            book,
            update_mask=None,
            physical_mask=None,
            options=None):
        """
        Updates a book.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> from google.cloud.proto.example.library.v1 import library_pb2
          >>> api = library_service_client.LibraryServiceClient()
          >>> name = api.book_path('[SHELF_ID]', '[BOOK_ID]')
          >>> book = library_pb2.Book()
          >>> response = api.update_book(name, book)

        Args:
          name (string): The name of the book to update.
          book (:class:`google.cloud.proto.example.library.v1.library_pb2.Book`): The book to update with.
          update_mask (:class:`google.protobuf.field_mask_pb2.FieldMask`): A field mask to apply, rendered as an HTTP parameter.
          physical_mask (:class:`google.cloud.proto.example.library.v1.field_mask_pb2.FieldMask`): To test Python import clash resolution.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          A :class:`google.cloud.proto.example.library.v1.library_pb2.Book` instance.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        if update_mask is None:
            update_mask = protobuf_field_mask_pb2.FieldMask()
        if physical_mask is None:
            physical_mask = v1_field_mask_pb2.FieldMask()
        request = library_pb2.UpdateBookRequest(
            name=name,
            book=book,
            update_mask=update_mask,
            physical_mask=physical_mask)
        return self._update_book(request, options)

    def move_book(
            self,
            name,
            other_shelf_name,
            options=None):
        """
        Moves a book to another shelf, and returns the new book.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> api = library_service_client.LibraryServiceClient()
          >>> name = api.book_path('[SHELF_ID]', '[BOOK_ID]')
          >>> other_shelf_name = api.shelf_path('[SHELF_ID]')
          >>> response = api.move_book(name, other_shelf_name)

        Args:
          name (string): The name of the book to move.
          other_shelf_name (string): The name of the destination shelf.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          A :class:`google.cloud.proto.example.library.v1.library_pb2.Book` instance.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = library_pb2.MoveBookRequest(
            name=name,
            other_shelf_name=other_shelf_name)
        return self._move_book(request, options)

    def list_strings(
            self,
            name='',
            page_size=0,
            options=None):
        """
        Lists a primitive resource. To test go page streaming.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> from google.gax import CallOptions, INITIAL_PAGE
          >>> api = library_service_client.LibraryServiceClient()
          >>>
          >>> # Iterate over all results
          >>> for element in api.list_strings():
          >>>   # process element
          >>>   pass
          >>>
          >>> # Or iterate over results one page at a time
          >>> for page in api.list_strings(options=CallOptions(page_token=INITIAL_PAGE)):
          >>>   for element in page:
          >>>     # process element
          >>>     pass

        Args:
          name (string)
          page_size (int): The maximum number of resources contained in the
            underlying API response. If page streaming is performed per-
            resource, this parameter does not affect the return value. If page
            streaming is performed per-page, this determines the maximum number
            of resources in a page.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          A :class:`google.gax.PageIterator` instance. By default, this
          is an iterable of string instances.
          This object can also be configured to iterate over the pages
          of the response through the `CallOptions` parameter.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = library_pb2.ListStringsRequest(
            name=name,
            page_size=page_size)
        return self._list_strings(request, options)

    def add_comments(
            self,
            name,
            comments,
            options=None):
        """
        Adds comments to a book

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> from google.cloud.gapic.example.library.v1 import enums
          >>> from google.cloud.proto.example.library.v1 import library_pb2
          >>> api = library_service_client.LibraryServiceClient()
          >>> name = api.book_path('[SHELF_ID]', '[BOOK_ID]')
          >>> comment = b''
          >>> stage = enums.Comment.Stage.UNSET
          >>> alignment = enums.SomeMessage2.SomeMessage3.Alignment.CHAR
          >>> comments_element = library_pb2.Comment(comment, stage, alignment)
          >>> comments = [comments_element]
          >>> api.add_comments(name, comments)

        Args:
          name (string)
          comments (list[:class:`google.cloud.proto.example.library.v1.library_pb2.Comment`])
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = library_pb2.AddCommentsRequest(
            name=name,
            comments=comments)
        self._add_comments(request, options)

    def get_book_from_archive(
            self,
            name,
            options=None):
        """
        Gets a book from an archive.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> api = library_service_client.LibraryServiceClient()
          >>> name = api.archived_book_path('[ARCHIVE_PATH]', '[BOOK_ID]')
          >>> response = api.get_book_from_archive(name)

        Args:
          name (string): The name of the book to retrieve.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          A :class:`google.cloud.proto.example.library.v1.library_pb2.BookFromArchive` instance.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = library_pb2.GetBookFromArchiveRequest(
            name=name)
        return self._get_book_from_archive(request, options)

    def get_book_from_anywhere(
            self,
            name,
            alt_book_name,
            options=None):
        """
        Gets a book from a shelf or archive.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> api = library_service_client.LibraryServiceClient()
          >>> name = api.book_path('[SHELF_ID]', '[BOOK_ID]')
          >>> alt_book_name = api.book_path('[SHELF_ID]', '[BOOK_ID]')
          >>> response = api.get_book_from_anywhere(name, alt_book_name)

        Args:
          name (string): The name of the book to retrieve.
          alt_book_name (string): An alternate book name, used to test restricting flattened field to a
            single resource name type in a oneof.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          A :class:`google.cloud.proto.example.library.v1.book_from_anywhere_pb2.BookFromAnywhere` instance.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = library_pb2.GetBookFromAnywhereRequest(
            name=name,
            alt_book_name=alt_book_name)
        return self._get_book_from_anywhere(request, options)

    def update_book_index(
            self,
            name,
            index_name,
            index_map,
            options=None):
        """
        Updates the index of a book.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> api = library_service_client.LibraryServiceClient()
          >>> name = api.book_path('[SHELF_ID]', '[BOOK_ID]')
          >>> index_name = ''
          >>> index_map_item = ''
          >>> index_map = {'default_key': index_map_item}
          >>> api.update_book_index(name, index_name, index_map)

        Args:
          name (string): The name of the book to update.
          index_name (string): The name of the index for the book
          index_map (dict[string -> :class:`google.cloud.proto.example.library.v1.library_pb2.UpdateBookIndexRequest.IndexMapEntry`]): The index to update the book with
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = library_pb2.UpdateBookIndexRequest(
            name=name,
            index_name=index_name,
            index_map=index_map)
        self._update_book_index(request, options)

    def stream_shelves(
            self,
            options=None):
        """
        Test server streaming
        gRPC streaming methods don't have an HTTP equivalent and don't need to have the google.api.http option.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> api = library_service_client.LibraryServiceClient()
          >>> for element in api.stream_shelves():
          >>>   # process element
          >>>   pass

        Args:
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          iterator[:class:`google.cloud.proto.example.library.v1.library_pb2.StreamShelvesResponse`].

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
        """
        request = library_pb2.StreamShelvesRequest()
        return self._stream_shelves(request, options)

    def stream_books(
            self,
            name,
            options=None):
        """
        Test server streaming, non-paged responses.
        gRPC streaming methods don't have an HTTP equivalent and don't need to have the google.api.http option.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> api = library_service_client.LibraryServiceClient()
          >>> name = ''
          >>> for element in api.stream_books(name):
          >>>   # process element
          >>>   pass

        Args:
          name (string): The name of the shelf whose books we'd like to list.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          iterator[:class:`google.cloud.proto.example.library.v1.library_pb2.Book`].

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = library_pb2.StreamBooksRequest(
            name=name)
        return self._stream_books(request, options)

    def discuss_book(
            self,
            requests,
            options=None):
        """
        Test bidi-streaming.
        gRPC streaming methods don't have an HTTP equivalent and don't need to have the google.api.http option.

        EXPERIMENTAL: This method interface might change in the future.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> from google.cloud.proto.example.library.v1 import library_pb2
          >>> api = library_service_client.LibraryServiceClient()
          >>> name = ''
          >>> request = library_pb2.DiscussBookRequest(name)
          >>> requests = [request]
          >>> for element in api.discuss_book(requests):
          >>>   # process element
          >>>   pass

        Args:
          requests (iterator[:class:`google.cloud.proto.example.library.v1.library_pb2.DiscussBookRequest`]): The input objects.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          iterator[:class:`google.cloud.proto.example.library.v1.library_pb2.Comment`].

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        return self._discuss_book(requests, options)

    def monolog_about_book(
            self,
            requests,
            options=None):
        """
        Test client streaming.
        gRPC streaming methods don't have an HTTP equivalent and don't need to have the google.api.http option.

        EXPERIMENTAL: This method interface might change in the future.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> from google.cloud.proto.example.library.v1 import library_pb2
          >>> api = library_service_client.LibraryServiceClient()
          >>> name = ''
          >>> request = library_pb2.DiscussBookRequest(name)
          >>> requests = [request]
          >>> response = api.monolog_about_book(requests)

        Args:
          requests (iterator[:class:`google.cloud.proto.example.library.v1.library_pb2.DiscussBookRequest`]): The input objects.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          A :class:`google.cloud.proto.example.library.v1.library_pb2.Comment` instance.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        return self._monolog_about_book(requests, options)

    def find_related_books(
            self,
            names,
            shelves,
            page_size=0,
            options=None):
        """

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> from google.gax import CallOptions, INITIAL_PAGE
          >>> api = library_service_client.LibraryServiceClient()
          >>> names_element = ''
          >>> names = [names_element]
          >>> shelves = []
          >>>
          >>> # Iterate over all results
          >>> for element in api.find_related_books(names, shelves):
          >>>   # process element
          >>>   pass
          >>>
          >>> # Or iterate over results one page at a time
          >>> for page in api.find_related_books(names, shelves, options=CallOptions(page_token=INITIAL_PAGE)):
          >>>   for element in page:
          >>>     # process element
          >>>     pass

        Args:
          names (list[string])
          shelves (list[string])
          page_size (int): The maximum number of resources contained in the
            underlying API response. If page streaming is performed per-
            resource, this parameter does not affect the return value. If page
            streaming is performed per-page, this determines the maximum number
            of resources in a page.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          A :class:`google.gax.PageIterator` instance. By default, this
          is an iterable of string instances.
          This object can also be configured to iterate over the pages
          of the response through the `CallOptions` parameter.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = library_pb2.FindRelatedBooksRequest(
            names=names,
            shelves=shelves,
            page_size=page_size)
        return self._find_related_books(request, options)

    def add_tag(
            self,
            resource,
            tag,
            options=None):
        """
        Adds a tag to the book. This RPC is a mixin.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> api = library_service_client.LibraryServiceClient()
          >>> resource = api.book_path('[SHELF_ID]', '[BOOK_ID]')
          >>> tag = ''
          >>> response = api.add_tag(resource, tag)

        Args:
          resource (string): REQUIRED: The resource which the tag is being added to.
            Resource is usually specified as a path, such as,
            projects/{project}/zones/{zone}/disks/{disk}.
          tag (string): REQUIRED: The tag to add.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          A :class:`google.cloud.proto.tagger.v1.tagger_pb2.AddTagResponse` instance.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = tagger_pb2.AddTagRequest(
            resource=resource,
            tag=tag)
        return self._add_tag(request, options)

    def add_label(
            self,
            resource,
            label,
            options=None):
        """
        Adds a label to the entity.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> api = library_service_client.LibraryServiceClient()
          >>> resource = api.book_path('[SHELF_ID]', '[BOOK_ID]')
          >>> label = ''
          >>> response = api.add_label(resource, label)

        Args:
          resource (string): REQUIRED: The resource which the label is being added to.
            Resource is usually specified as a path, such as,
            projects/{project}/zones/{zone}/disks/{disk}.
          label (string): REQUIRED: The label to add.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          A :class:`google.cloud.proto.tagger.v1.tagger_pb2.AddLabelResponse` instance.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = tagger_pb2.AddLabelRequest(
            resource=resource,
            label=label)
        return self._add_label(request, options)

    def get_big_book(
            self,
            name,
            options=None):
        """
        Test long-running operations

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> api = library_service_client.LibraryServiceClient()
          >>> name = api.book_path('[SHELF_ID]', '[BOOK_ID]')
          >>> response = api.get_big_book(name)
          >>>
          >>> def callback(operation_future):
          >>>     # Handle result.
          >>>     result = operation_future.result()
          >>>
          >>> response.add_done_callback(callback)
          >>>
          >>> # Handle metadata.
          >>> metadata = response.metadata()

        Args:
          name (string): The name of the book to retrieve.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          A :class:`google.gax._OperationFuture` instance.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = library_pb2.GetBookRequest(
            name=name)
        return google.gax._OperationFuture(
            self._get_big_book(request, options),
            self.operations_client,
            library_pb2.Book,
            library_pb2.GetBigBookMetadata,
            options)

    def get_big_nothing(
            self,
            name,
            options=None):
        """
        Test long-running operations with empty return type.

        Example:
          >>> from google.cloud.gapic.example.library.v1 import library_service_client
          >>> api = library_service_client.LibraryServiceClient()
          >>> name = api.book_path('[SHELF_ID]', '[BOOK_ID]')
          >>> response = api.get_big_nothing(name)
          >>>
          >>> def callback(operation_future):
          >>>     # Handle result.
          >>>     result = operation_future.result()
          >>>
          >>> response.add_done_callback(callback)
          >>>
          >>> # Handle metadata.
          >>> metadata = response.metadata()

        Args:
          name (string): The name of the book to retrieve.
          options (:class:`google.gax.CallOptions`): Overrides the default
            settings for this call, e.g, timeout, retries etc.

        Returns:
          A :class:`google.gax._OperationFuture` instance.

        Raises:
          :exc:`google.gax.errors.GaxError` if the RPC is aborted.
          :exc:`ValueError` if the parameters are invalid.
        """
        request = library_pb2.GetBookRequest(
            name=name)
        return google.gax._OperationFuture(
            self._get_big_nothing(request, options),
            self.operations_client,
            empty_pb2.Empty,
            library_pb2.GetBigBookMetadata,
            options)

