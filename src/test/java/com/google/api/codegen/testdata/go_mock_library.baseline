============== file: cloud.google.com/go/library/apiv1/mock_test.go ==============
// Copyright 2016, Google Inc. All rights reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// AUTO-GENERATED CODE. DO NOT EDIT.

package library

import (
    google_protobuf "github.com/golang/protobuf/ptypes/empty"
    librarypb "google.golang.org/genproto/googleapis/example/library/v1"
    longrunningpb "google.golang.org/genproto/googleapis/longrunning"
    taggerpb "google.golang.org/genproto/googleapis/tagger/v1"
)

import (
    "io"

    "golang.org/x/net/context"
)

var _ = io.EOF

type mockLibraryService struct {
    reqs []interface{}

    // If set, all calls return this error.
    err error

    // responses to return if err == nil
    resps []interface{}
}

var _ librarypb.LibraryServiceServer = &mockLibraryService{}

func (s *mockLibraryService) recordReq(req interface{}) {
    s.reqs = append(s.reqs, req)
}

func (s *mockLibraryService) CreateShelf(_ context.Context, req *librarypb.CreateShelfRequest) (*librarypb.Shelf, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*librarypb.Shelf), nil
}

func (s *mockLibraryService) GetShelf(_ context.Context, req *librarypb.GetShelfRequest) (*librarypb.Shelf, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*librarypb.Shelf), nil
}

func (s *mockLibraryService) ListShelves(_ context.Context, req *librarypb.ListShelvesRequest) (*librarypb.ListShelvesResponse, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*librarypb.ListShelvesResponse), nil
}

func (s *mockLibraryService) DeleteShelf(_ context.Context, req *librarypb.DeleteShelfRequest) (*google_protobuf.Empty, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*google_protobuf.Empty), nil
}

func (s *mockLibraryService) MergeShelves(_ context.Context, req *librarypb.MergeShelvesRequest) (*librarypb.Shelf, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*librarypb.Shelf), nil
}

func (s *mockLibraryService) CreateBook(_ context.Context, req *librarypb.CreateBookRequest) (*librarypb.Book, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*librarypb.Book), nil
}

func (s *mockLibraryService) PublishSeries(_ context.Context, req *librarypb.PublishSeriesRequest) (*librarypb.PublishSeriesResponse, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*librarypb.PublishSeriesResponse), nil
}

func (s *mockLibraryService) GetBook(_ context.Context, req *librarypb.GetBookRequest) (*librarypb.Book, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*librarypb.Book), nil
}

func (s *mockLibraryService) ListBooks(_ context.Context, req *librarypb.ListBooksRequest) (*librarypb.ListBooksResponse, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*librarypb.ListBooksResponse), nil
}

func (s *mockLibraryService) DeleteBook(_ context.Context, req *librarypb.DeleteBookRequest) (*google_protobuf.Empty, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*google_protobuf.Empty), nil
}

func (s *mockLibraryService) UpdateBook(_ context.Context, req *librarypb.UpdateBookRequest) (*librarypb.Book, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*librarypb.Book), nil
}

func (s *mockLibraryService) MoveBook(_ context.Context, req *librarypb.MoveBookRequest) (*librarypb.Book, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*librarypb.Book), nil
}

func (s *mockLibraryService) ListStrings(_ context.Context, req *librarypb.ListStringsRequest) (*librarypb.ListStringsResponse, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*librarypb.ListStringsResponse), nil
}

func (s *mockLibraryService) AddComments(_ context.Context, req *librarypb.AddCommentsRequest) (*google_protobuf.Empty, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*google_protobuf.Empty), nil
}

func (s *mockLibraryService) GetBookFromArchive(_ context.Context, req *librarypb.GetBookFromArchiveRequest) (*librarypb.BookFromArchive, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*librarypb.BookFromArchive), nil
}

func (s *mockLibraryService) GetBookFromAnywhere(_ context.Context, req *librarypb.GetBookFromAnywhereRequest) (*librarypb.BookFromAnywhere, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*librarypb.BookFromAnywhere), nil
}

func (s *mockLibraryService) UpdateBookIndex(_ context.Context, req *librarypb.UpdateBookIndexRequest) (*google_protobuf.Empty, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*google_protobuf.Empty), nil
}

func (s *mockLibraryService) StreamShelves(req *librarypb.StreamShelvesRequest, stream librarypb.LibraryService_StreamShelvesServer) error {
    s.recordReq(req)
    if s.err != nil {
        return s.err
    }
    for _, v := range s.resps {
        if err := stream.Send(v.(*librarypb.StreamShelvesResponse)); err != nil {
            return err
        }
    }
    return nil
}

func (s *mockLibraryService) StreamBooks(req *librarypb.StreamBooksRequest, stream librarypb.LibraryService_StreamBooksServer) error {
    s.recordReq(req)
    if s.err != nil {
        return s.err
    }
    for _, v := range s.resps {
        if err := stream.Send(v.(*librarypb.Book)); err != nil {
            return err
        }
    }
    return nil
}

func (s *mockLibraryService) DiscussBook(stream librarypb.LibraryService_DiscussBookServer) error {
    if s.err != nil {
        return s.err
    }

    ch := make(chan error, 2)
    go func() {
        for {
            if req, err := stream.Recv(); err == io.EOF {
                ch <- nil
                return
            } else if err != nil {
                ch <- err
                return
            } else {
                s.recordReq(req)
            }
        }
    }()
    go func() {
        for _, v := range s.resps {
            if err := stream.Send(v.(*librarypb.Comment)); err != nil {
                ch <- err
                return
            }
        }
        ch <- nil
    }()

    // Doesn't really matter which one we get.
    err := <-ch
    if err2 := <-ch; err == nil {
        err = err2
    }
    return err
}

func (s *mockLibraryService) FindRelatedBooks(_ context.Context, req *librarypb.FindRelatedBooksRequest) (*librarypb.FindRelatedBooksResponse, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*librarypb.FindRelatedBooksResponse), nil
}

func (s *mockLibraryService) AddTag(_ context.Context, req *taggerpb.AddTagRequest) (*taggerpb.AddTagResponse, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*taggerpb.AddTagResponse), nil
}

func (s *mockLibraryService) GetBigBook(_ context.Context, req *librarypb.GetBookRequest) (*longrunningpb.Operation, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*longrunningpb.Operation), nil
}

type mockLabeler struct {
    reqs []interface{}

    // If set, all calls return this error.
    err error

    // responses to return if err == nil
    resps []interface{}
}

var _ taggerpb.LabelerServer = &mockLabeler{}

func (s *mockLabeler) recordReq(req interface{}) {
    s.reqs = append(s.reqs, req)
}

func (s *mockLabeler) AddLabel(_ context.Context, req *taggerpb.AddLabelRequest) (*taggerpb.AddLabelResponse, error) {
    s.recordReq(req)
    if s.err != nil {
        return nil, s.err
    }
    return s.resps[0].(*taggerpb.AddLabelResponse), nil
}

