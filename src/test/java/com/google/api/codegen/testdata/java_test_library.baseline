============== file: src/test/java/com/google/gcloud/pubsub/spi/LibraryServiceTest.java ==============
/*
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */

package com.google.gcloud.pubsub.spi;

import com.google.api.gax.core.PagedListResponse;
import com.google.api.gax.testing.MockGrpcService;
import com.google.api.gax.testing.MockServiceHelper;
import com.google.common.collect.Lists;
import com.google.example.library.v1.AddCommentsRequest;
import com.google.example.library.v1.Book;
import com.google.example.library.v1.Book.Rating;
import com.google.example.library.v1.Comment;
import com.google.example.library.v1.Comment.Stage;
import com.google.example.library.v1.CreateBookRequest;
import com.google.example.library.v1.CreateShelfRequest;
import com.google.example.library.v1.DeleteBookRequest;
import com.google.example.library.v1.DeleteShelfRequest;
import com.google.example.library.v1.FieldMask.Material;
import com.google.example.library.v1.GetBookFromArchiveRequest;
import com.google.example.library.v1.GetBookRequest;
import com.google.example.library.v1.GetShelfRequest;
import com.google.example.library.v1.ListBooksRequest;
import com.google.example.library.v1.ListBooksResponse;
import com.google.example.library.v1.ListShelvesRequest;
import com.google.example.library.v1.ListShelvesResponse;
import com.google.example.library.v1.ListStringsRequest;
import com.google.example.library.v1.ListStringsResponse;
import com.google.example.library.v1.MergeShelvesRequest;
import com.google.example.library.v1.MoveBookRequest;
import com.google.example.library.v1.PublishSeriesRequest;
import com.google.example.library.v1.PublishSeriesResponse;
import com.google.example.library.v1.Shelf;
import com.google.example.library.v1.SomeMessage;
import com.google.example.library.v1.SomeMessage2;
import com.google.example.library.v1.UpdateBookIndexRequest;
import com.google.example.library.v1.UpdateBookRequest;
import com.google.protobuf.Any;
import com.google.protobuf.BoolValue;
import com.google.protobuf.ByteString;
import com.google.protobuf.BytesValue;
import com.google.protobuf.DoubleValue;
import com.google.protobuf.Duration;
import com.google.protobuf.Empty;
import com.google.protobuf.FieldMask;
import com.google.protobuf.FloatValue;
import com.google.protobuf.GeneratedMessage;
import com.google.protobuf.Int32Value;
import com.google.protobuf.Int64Value;
import com.google.protobuf.ListValue;
import com.google.protobuf.StringValue;
import com.google.protobuf.Struct;
import com.google.protobuf.Timestamp;
import com.google.protobuf.UInt32Value;
import com.google.protobuf.UInt64Value;
import com.google.protobuf.Value;
import com.google.tagger.v1.AddLabelRequest;
import com.google.tagger.v1.AddLabelResponse;
import com.google.tagger.v1.AddTagRequest;
import com.google.tagger.v1.AddTagResponse;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import org.junit.After;
import org.junit.AfterClass;
import org.junit.Assert;
import org.junit.Before;
import org.junit.BeforeClass;
import org.junit.Test;

@javax.annotation.Generated("by GAPIC")
public class LibraryServiceTest {
  private static MockLibraryService mockLibraryService;
  private static MockLabeler mockLabeler;
  private static MockServiceHelper serviceHelper;
  private LibraryServiceApi api;

  @BeforeClass
  public static void startStaticServer() {
    mockLibraryService = new MockLibraryService();
    mockLabeler = new MockLabeler();
    serviceHelper = new MockServiceHelper("in-process-1", Arrays.<MockGrpcService>asList(mockLibraryService, mockLabeler));
    serviceHelper.start();
  }

  @AfterClass
  public static void stopServer() {
    serviceHelper.stop();
  }

  @Before
  public void setUp() throws IOException {
    serviceHelper.reset();
    LibraryServiceSettings settings = LibraryServiceSettings.defaultBuilder()
        .provideChannelWith(serviceHelper.createChannel(), true)
        .build();
    api = LibraryServiceApi.create(settings);
  }

  @After
  public void tearDown() throws Exception {
    api.close();
  }

  @Test
  @SuppressWarnings("all")
  public void createShelfTest() {
    String name2 = "name2-1052831874";
    String theme2 = "theme2-1349700804";
    String internalTheme2 = "internalTheme21400673210";
    Shelf expectedResponse = Shelf.newBuilder()
      .setName(name2)
      .setTheme(theme2)
      .setInternalTheme(internalTheme2)
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);

    String name = "name3373707";
    String theme = "theme110327241";
    String internalTheme = "internalTheme792518087";
    Shelf shelf = Shelf.newBuilder()
      .setName(name)
      .setTheme(theme)
      .setInternalTheme(internalTheme)
      .build();

    Shelf actualResponse =
        api.createShelf(shelf);
    Assert.assertEquals(expectedResponse, actualResponse);

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    CreateShelfRequest actualRequest = (CreateShelfRequest)actualRequests.get(0);

    Assert.assertEquals(shelf, actualRequest.getShelf());
  }

  @Test
  @SuppressWarnings("all")
  public void getShelfTest() {
    String formattedName2 = LibraryServiceApi.formatShelfName("[SHELF]");
    String theme = "theme110327241";
    String internalTheme = "internalTheme792518087";
    Shelf expectedResponse = Shelf.newBuilder()
      .setName(formattedName2)
      .setTheme(theme)
      .setInternalTheme(internalTheme)
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);

    String formattedName = LibraryServiceApi.formatShelfName("[SHELF]");

    Shelf actualResponse =
        api.getShelf(formattedName);
    Assert.assertEquals(expectedResponse, actualResponse);

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    GetShelfRequest actualRequest = (GetShelfRequest)actualRequests.get(0);

    Assert.assertEquals(formattedName, actualRequest.getName());
  }

  @Test
  @SuppressWarnings("all")
  public void getShelfTest2() {
    String formattedName2 = LibraryServiceApi.formatShelfName("[SHELF]");
    String theme = "theme110327241";
    String internalTheme = "internalTheme792518087";
    Shelf expectedResponse = Shelf.newBuilder()
      .setName(formattedName2)
      .setTheme(theme)
      .setInternalTheme(internalTheme)
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);

    String formattedName = LibraryServiceApi.formatShelfName("[SHELF]");
    int field = 97427706;
    SomeMessage2 field2 = SomeMessage2.newBuilder().build();
    SomeMessage message = SomeMessage.newBuilder()
      .setField(field)
      .setField2(field2)
      .build();

    Shelf actualResponse =
        api.getShelf(formattedName, message);
    Assert.assertEquals(expectedResponse, actualResponse);

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    GetShelfRequest actualRequest = (GetShelfRequest)actualRequests.get(0);

    Assert.assertEquals(formattedName, actualRequest.getName());
    Assert.assertEquals(message, actualRequest.getMessage());
  }

  @Test
  @SuppressWarnings("all")
  public void getShelfTest3() {
    String formattedName3 = LibraryServiceApi.formatShelfName("[SHELF]");
    String theme = "theme110327241";
    String internalTheme = "internalTheme792518087";
    Shelf expectedResponse = Shelf.newBuilder()
      .setName(formattedName3)
      .setTheme(theme)
      .setInternalTheme(internalTheme)
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);

    String formattedName = LibraryServiceApi.formatShelfName("[SHELF]");
    int field = 97427706;
    SomeMessage2 field2 = SomeMessage2.newBuilder().build();
    SomeMessage message = SomeMessage.newBuilder()
      .setField(field)
      .setField2(field2)
      .build();
    String name2 = "name2-1052831874";
    com.google.example.library.v1.StringBuilder stringBuilder = com.google.example.library.v1.StringBuilder.newBuilder()
      .setName(name2)
      .build();

    Shelf actualResponse =
        api.getShelf(formattedName, message, stringBuilder);
    Assert.assertEquals(expectedResponse, actualResponse);

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    GetShelfRequest actualRequest = (GetShelfRequest)actualRequests.get(0);

    Assert.assertEquals(formattedName, actualRequest.getName());
    Assert.assertEquals(message, actualRequest.getMessage());
    Assert.assertEquals(stringBuilder, actualRequest.getStringBuilder());
  }

  @Test
  @SuppressWarnings("all")
  public void listShelvesTest() {
    Shelf shelvesElement = Shelf.newBuilder().build();
    List<Shelf> shelves = Arrays.asList(shelvesElement);
    String nextPageToken = "";
    ListShelvesResponse expectedResponse = ListShelvesResponse.newBuilder()
      .addAllShelves(shelves)
      .setNextPageToken(nextPageToken)
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);



    PagedListResponse<ListShelvesRequest, ListShelvesResponse, Shelf> pagedListResponse = api.listShelves();

    List<Shelf> resources = Lists.newArrayList(pagedListResponse.iterateAllElements());
    Assert.assertEquals(1, resources.size());
    Assert.assertEquals(expectedResponse.getShelvesList().get(0), resources.get(0));

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    ListShelvesRequest actualRequest = (ListShelvesRequest)actualRequests.get(0);

  }

  @Test
  @SuppressWarnings("all")
  public void deleteShelfTest() {
    Empty expectedResponse = Empty.newBuilder()
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);

    String formattedName = LibraryServiceApi.formatShelfName("[SHELF]");

    api.deleteShelf(formattedName);

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    DeleteShelfRequest actualRequest = (DeleteShelfRequest)actualRequests.get(0);

    Assert.assertEquals(formattedName, actualRequest.getName());
  }

  @Test
  @SuppressWarnings("all")
  public void mergeShelvesTest() {
    String formattedName2 = LibraryServiceApi.formatShelfName("[SHELF]");
    String theme = "theme110327241";
    String internalTheme = "internalTheme792518087";
    Shelf expectedResponse = Shelf.newBuilder()
      .setName(formattedName2)
      .setTheme(theme)
      .setInternalTheme(internalTheme)
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);

    String formattedName = LibraryServiceApi.formatShelfName("[SHELF]");
    String formattedOtherShelfName = LibraryServiceApi.formatShelfName("[SHELF]");

    Shelf actualResponse =
        api.mergeShelves(formattedName, formattedOtherShelfName);
    Assert.assertEquals(expectedResponse, actualResponse);

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    MergeShelvesRequest actualRequest = (MergeShelvesRequest)actualRequests.get(0);

    Assert.assertEquals(formattedName, actualRequest.getName());
    Assert.assertEquals(formattedOtherShelfName, actualRequest.getOtherShelfName());
  }

  @Test
  @SuppressWarnings("all")
  public void createBookTest() {
    String formattedName3 = LibraryServiceApi.formatShelfName("[SHELF]");
    String author2 = "author21433073278";
    String title2 = "title2-1307248629";
    boolean read2 = false;
    Book expectedResponse = Book.newBuilder()
      .setName(formattedName3)
      .setAuthor(author2)
      .setTitle(title2)
      .setRead(read2)
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);

    String formattedName = LibraryServiceApi.formatShelfName("[SHELF]");
    String name2 = "name2-1052831874";
    String author = "author-1406328437";
    String title = "title110371416";
    boolean read = true;
    Rating rating = Rating.GOOD;
    Any anyValue = Any.newBuilder().build();
    Struct structValue = Struct.newBuilder().build();
    Value valueValue = Value.newBuilder().build();
    ListValue listValueValue = ListValue.newBuilder().build();
    Map<String, ListValue> mapListValueValue = new HashMap<>();
    Timestamp timeValue = Timestamp.newBuilder().build();
    Duration durationValue = Duration.newBuilder().build();
    FieldMask fieldMaskValue = FieldMask.newBuilder().build();
    Int32Value int32Value = Int32Value.newBuilder().build();
    UInt32Value uint32Value = UInt32Value.newBuilder().build();
    Int64Value int64Value = Int64Value.newBuilder().build();
    UInt64Value uint64Value = UInt64Value.newBuilder().build();
    FloatValue floatValue = FloatValue.newBuilder().build();
    DoubleValue doubleValue = DoubleValue.newBuilder().build();
    StringValue stringValue = StringValue.newBuilder().build();
    BoolValue boolValue = BoolValue.newBuilder().build();
    BytesValue bytesValue = BytesValue.newBuilder().build();
    Map<Integer, String> mapStringValue = new HashMap<>();
    Map<String, SomeMessage> mapMessageValue = new HashMap<>();
    Book book = Book.newBuilder()
      .setName(name2)
      .setAuthor(author)
      .setTitle(title)
      .setRead(read)
      .setRating(rating)
      .setAnyValue(anyValue)
      .setStructValue(structValue)
      .setValueValue(valueValue)
      .setListValueValue(listValueValue)
      .putAllMapListValueValue(mapListValueValue)
      .setTimeValue(timeValue)
      .setDurationValue(durationValue)
      .setFieldMaskValue(fieldMaskValue)
      .setInt32Value(int32Value)
      .setUint32Value(uint32Value)
      .setInt64Value(int64Value)
      .setUint64Value(uint64Value)
      .setFloatValue(floatValue)
      .setDoubleValue(doubleValue)
      .setStringValue(stringValue)
      .setBoolValue(boolValue)
      .setBytesValue(bytesValue)
      .putAllMapStringValue(mapStringValue)
      .putAllMapMessageValue(mapMessageValue)
      .build();

    Book actualResponse =
        api.createBook(formattedName, book);
    Assert.assertEquals(expectedResponse, actualResponse);

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    CreateBookRequest actualRequest = (CreateBookRequest)actualRequests.get(0);

    Assert.assertEquals(formattedName, actualRequest.getName());
    Assert.assertEquals(book, actualRequest.getBook());
  }

  @Test
  @SuppressWarnings("all")
  public void publishSeriesTest() {
    String bookNamesElement = "bookNamesElement1491670575";
    List<String> bookNames = Arrays.asList(bookNamesElement);
    PublishSeriesResponse expectedResponse = PublishSeriesResponse.newBuilder()
      .addAllBookNames(bookNames)
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);

    String name = "name3373707";
    String theme = "theme110327241";
    String internalTheme = "internalTheme792518087";
    Shelf shelf = Shelf.newBuilder()
      .setName(name)
      .setTheme(theme)
      .setInternalTheme(internalTheme)
      .build();
    String name2 = "name2-1052831874";
    String author = "author-1406328437";
    String title = "title110371416";
    boolean read = true;
    Rating rating = Rating.GOOD;
    Any anyValue = Any.newBuilder().build();
    Struct structValue = Struct.newBuilder().build();
    Value valueValue = Value.newBuilder().build();
    ListValue listValueValue = ListValue.newBuilder().build();
    Map<String, ListValue> mapListValueValue = new HashMap<>();
    Timestamp timeValue = Timestamp.newBuilder().build();
    Duration durationValue = Duration.newBuilder().build();
    FieldMask fieldMaskValue = FieldMask.newBuilder().build();
    Int32Value int32Value = Int32Value.newBuilder().build();
    UInt32Value uint32Value = UInt32Value.newBuilder().build();
    Int64Value int64Value = Int64Value.newBuilder().build();
    UInt64Value uint64Value = UInt64Value.newBuilder().build();
    FloatValue floatValue = FloatValue.newBuilder().build();
    DoubleValue doubleValue = DoubleValue.newBuilder().build();
    StringValue stringValue = StringValue.newBuilder().build();
    BoolValue boolValue = BoolValue.newBuilder().build();
    BytesValue bytesValue = BytesValue.newBuilder().build();
    Map<Integer, String> mapStringValue = new HashMap<>();
    Map<String, SomeMessage> mapMessageValue = new HashMap<>();
    Book booksElement = Book.newBuilder()
      .setName(name2)
      .setAuthor(author)
      .setTitle(title)
      .setRead(read)
      .setRating(rating)
      .setAnyValue(anyValue)
      .setStructValue(structValue)
      .setValueValue(valueValue)
      .setListValueValue(listValueValue)
      .putAllMapListValueValue(mapListValueValue)
      .setTimeValue(timeValue)
      .setDurationValue(durationValue)
      .setFieldMaskValue(fieldMaskValue)
      .setInt32Value(int32Value)
      .setUint32Value(uint32Value)
      .setInt64Value(int64Value)
      .setUint64Value(uint64Value)
      .setFloatValue(floatValue)
      .setDoubleValue(doubleValue)
      .setStringValue(stringValue)
      .setBoolValue(boolValue)
      .setBytesValue(bytesValue)
      .putAllMapStringValue(mapStringValue)
      .putAllMapMessageValue(mapMessageValue)
      .build();
    List<Book> books = Arrays.asList(booksElement);
    int edition = -1887963714;

    PublishSeriesResponse actualResponse =
        api.publishSeries(shelf, books, edition);
    Assert.assertEquals(expectedResponse, actualResponse);

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    PublishSeriesRequest actualRequest = (PublishSeriesRequest)actualRequests.get(0);

    Assert.assertEquals(shelf, actualRequest.getShelf());
    Assert.assertEquals(books, actualRequest.getBooksList());
    Assert.assertEquals(edition, actualRequest.getEdition());
  }

  @Test
  @SuppressWarnings("all")
  public void getBookTest() {
    String formattedName2 = LibraryServiceApi.formatBookName("[SHELF]", "[BOOK]");
    String author = "author-1406328437";
    String title = "title110371416";
    boolean read = true;
    Book expectedResponse = Book.newBuilder()
      .setName(formattedName2)
      .setAuthor(author)
      .setTitle(title)
      .setRead(read)
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);

    String formattedName = LibraryServiceApi.formatBookName("[SHELF]", "[BOOK]");

    Book actualResponse =
        api.getBook(formattedName);
    Assert.assertEquals(expectedResponse, actualResponse);

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    GetBookRequest actualRequest = (GetBookRequest)actualRequests.get(0);

    Assert.assertEquals(formattedName, actualRequest.getName());
  }

  @Test
  @SuppressWarnings("all")
  public void listBooksTest() {
    Book booksElement = Book.newBuilder().build();
    List<Book> books = Arrays.asList(booksElement);
    String nextPageToken = "";
    ListBooksResponse expectedResponse = ListBooksResponse.newBuilder()
      .addAllBooks(books)
      .setNextPageToken(nextPageToken)
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);

    String formattedName = LibraryServiceApi.formatShelfName("[SHELF]");
    String filter = "filter-1274492040";

    PagedListResponse<ListBooksRequest, ListBooksResponse, Book> pagedListResponse = api.listBooks(formattedName, filter);

    List<Book> resources = Lists.newArrayList(pagedListResponse.iterateAllElements());
    Assert.assertEquals(1, resources.size());
    Assert.assertEquals(expectedResponse.getBooksList().get(0), resources.get(0));

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    ListBooksRequest actualRequest = (ListBooksRequest)actualRequests.get(0);

    Assert.assertEquals(formattedName, actualRequest.getName());
    Assert.assertEquals(filter, actualRequest.getFilter());
  }

  @Test
  @SuppressWarnings("all")
  public void deleteBookTest() {
    Empty expectedResponse = Empty.newBuilder()
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);

    String formattedName = LibraryServiceApi.formatBookName("[SHELF]", "[BOOK]");

    api.deleteBook(formattedName);

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    DeleteBookRequest actualRequest = (DeleteBookRequest)actualRequests.get(0);

    Assert.assertEquals(formattedName, actualRequest.getName());
  }

  @Test
  @SuppressWarnings("all")
  public void updateBookTest() {
    String formattedName3 = LibraryServiceApi.formatBookName("[SHELF]", "[BOOK]");
    String author2 = "author21433073278";
    String title2 = "title2-1307248629";
    boolean read2 = false;
    Book expectedResponse = Book.newBuilder()
      .setName(formattedName3)
      .setAuthor(author2)
      .setTitle(title2)
      .setRead(read2)
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);

    String formattedName = LibraryServiceApi.formatBookName("[SHELF]", "[BOOK]");
    String name2 = "name2-1052831874";
    String author = "author-1406328437";
    String title = "title110371416";
    boolean read = true;
    Rating rating = Rating.GOOD;
    Any anyValue = Any.newBuilder().build();
    Struct structValue = Struct.newBuilder().build();
    Value valueValue = Value.newBuilder().build();
    ListValue listValueValue = ListValue.newBuilder().build();
    Map<String, ListValue> mapListValueValue = new HashMap<>();
    Timestamp timeValue = Timestamp.newBuilder().build();
    Duration durationValue = Duration.newBuilder().build();
    FieldMask fieldMaskValue = FieldMask.newBuilder().build();
    Int32Value int32Value = Int32Value.newBuilder().build();
    UInt32Value uint32Value = UInt32Value.newBuilder().build();
    Int64Value int64Value = Int64Value.newBuilder().build();
    UInt64Value uint64Value = UInt64Value.newBuilder().build();
    FloatValue floatValue = FloatValue.newBuilder().build();
    DoubleValue doubleValue = DoubleValue.newBuilder().build();
    StringValue stringValue = StringValue.newBuilder().build();
    BoolValue boolValue = BoolValue.newBuilder().build();
    BytesValue bytesValue = BytesValue.newBuilder().build();
    Map<Integer, String> mapStringValue = new HashMap<>();
    Map<String, SomeMessage> mapMessageValue = new HashMap<>();
    Book book = Book.newBuilder()
      .setName(name2)
      .setAuthor(author)
      .setTitle(title)
      .setRead(read)
      .setRating(rating)
      .setAnyValue(anyValue)
      .setStructValue(structValue)
      .setValueValue(valueValue)
      .setListValueValue(listValueValue)
      .putAllMapListValueValue(mapListValueValue)
      .setTimeValue(timeValue)
      .setDurationValue(durationValue)
      .setFieldMaskValue(fieldMaskValue)
      .setInt32Value(int32Value)
      .setUint32Value(uint32Value)
      .setInt64Value(int64Value)
      .setUint64Value(uint64Value)
      .setFloatValue(floatValue)
      .setDoubleValue(doubleValue)
      .setStringValue(stringValue)
      .setBoolValue(boolValue)
      .setBytesValue(bytesValue)
      .putAllMapStringValue(mapStringValue)
      .putAllMapMessageValue(mapMessageValue)
      .build();

    Book actualResponse =
        api.updateBook(formattedName, book);
    Assert.assertEquals(expectedResponse, actualResponse);

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    UpdateBookRequest actualRequest = (UpdateBookRequest)actualRequests.get(0);

    Assert.assertEquals(formattedName, actualRequest.getName());
    Assert.assertEquals(book, actualRequest.getBook());
  }

  @Test
  @SuppressWarnings("all")
  public void updateBookTest2() {
    String formattedName3 = LibraryServiceApi.formatBookName("[SHELF]", "[BOOK]");
    String author2 = "author21433073278";
    String title2 = "title2-1307248629";
    boolean read2 = false;
    Book expectedResponse = Book.newBuilder()
      .setName(formattedName3)
      .setAuthor(author2)
      .setTitle(title2)
      .setRead(read2)
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);

    String formattedName = LibraryServiceApi.formatBookName("[SHELF]", "[BOOK]");
    String name2 = "name2-1052831874";
    String author = "author-1406328437";
    String title = "title110371416";
    boolean read = true;
    Rating rating = Rating.GOOD;
    Any anyValue = Any.newBuilder().build();
    Struct structValue = Struct.newBuilder().build();
    Value valueValue = Value.newBuilder().build();
    ListValue listValueValue = ListValue.newBuilder().build();
    Map<String, ListValue> mapListValueValue = new HashMap<>();
    Timestamp timeValue = Timestamp.newBuilder().build();
    Duration durationValue = Duration.newBuilder().build();
    FieldMask fieldMaskValue = FieldMask.newBuilder().build();
    Int32Value int32Value = Int32Value.newBuilder().build();
    UInt32Value uint32Value = UInt32Value.newBuilder().build();
    Int64Value int64Value = Int64Value.newBuilder().build();
    UInt64Value uint64Value = UInt64Value.newBuilder().build();
    FloatValue floatValue = FloatValue.newBuilder().build();
    DoubleValue doubleValue = DoubleValue.newBuilder().build();
    StringValue stringValue = StringValue.newBuilder().build();
    BoolValue boolValue = BoolValue.newBuilder().build();
    BytesValue bytesValue = BytesValue.newBuilder().build();
    Map<Integer, String> mapStringValue = new HashMap<>();
    Map<String, SomeMessage> mapMessageValue = new HashMap<>();
    Book book = Book.newBuilder()
      .setName(name2)
      .setAuthor(author)
      .setTitle(title)
      .setRead(read)
      .setRating(rating)
      .setAnyValue(anyValue)
      .setStructValue(structValue)
      .setValueValue(valueValue)
      .setListValueValue(listValueValue)
      .putAllMapListValueValue(mapListValueValue)
      .setTimeValue(timeValue)
      .setDurationValue(durationValue)
      .setFieldMaskValue(fieldMaskValue)
      .setInt32Value(int32Value)
      .setUint32Value(uint32Value)
      .setInt64Value(int64Value)
      .setUint64Value(uint64Value)
      .setFloatValue(floatValue)
      .setDoubleValue(doubleValue)
      .setStringValue(stringValue)
      .setBoolValue(boolValue)
      .setBytesValue(bytesValue)
      .putAllMapStringValue(mapStringValue)
      .putAllMapMessageValue(mapMessageValue)
      .build();
    String pathsElement = "pathsElement-1119217493";
    List<String> paths = Arrays.asList(pathsElement);
    FieldMask updateMask = FieldMask.newBuilder()
      .addAllPaths(paths)
      .build();
    Material materialsElement = Material.PAPIER_MACHE;
    List<Material> materials = Arrays.asList(materialsElement);
    com.google.example.library.v1.FieldMask physicalMask = com.google.example.library.v1.FieldMask.newBuilder()
      .addAllMaterials(materials)
      .build();

    Book actualResponse =
        api.updateBook(formattedName, book, updateMask, physicalMask);
    Assert.assertEquals(expectedResponse, actualResponse);

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    UpdateBookRequest actualRequest = (UpdateBookRequest)actualRequests.get(0);

    Assert.assertEquals(formattedName, actualRequest.getName());
    Assert.assertEquals(book, actualRequest.getBook());
    Assert.assertEquals(updateMask, actualRequest.getUpdateMask());
    Assert.assertEquals(physicalMask, actualRequest.getPhysicalMask());
  }

  @Test
  @SuppressWarnings("all")
  public void moveBookTest() {
    String formattedName2 = LibraryServiceApi.formatBookName("[SHELF]", "[BOOK]");
    String author = "author-1406328437";
    String title = "title110371416";
    boolean read = true;
    Book expectedResponse = Book.newBuilder()
      .setName(formattedName2)
      .setAuthor(author)
      .setTitle(title)
      .setRead(read)
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);

    String formattedName = LibraryServiceApi.formatBookName("[SHELF]", "[BOOK]");
    String formattedOtherShelfName = LibraryServiceApi.formatShelfName("[SHELF]");

    Book actualResponse =
        api.moveBook(formattedName, formattedOtherShelfName);
    Assert.assertEquals(expectedResponse, actualResponse);

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    MoveBookRequest actualRequest = (MoveBookRequest)actualRequests.get(0);

    Assert.assertEquals(formattedName, actualRequest.getName());
    Assert.assertEquals(formattedOtherShelfName, actualRequest.getOtherShelfName());
  }

  @Test
  @SuppressWarnings("all")
  public void listStringsTest() {
    String stringsElement = "stringsElement474465855";
    List<String> strings = Arrays.asList(stringsElement);
    String nextPageToken = "";
    ListStringsResponse expectedResponse = ListStringsResponse.newBuilder()
      .addAllStrings(strings)
      .setNextPageToken(nextPageToken)
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);



    PagedListResponse<ListStringsRequest, ListStringsResponse, String> pagedListResponse = api.listStrings();

    List<String> resources = Lists.newArrayList(pagedListResponse.iterateAllElements());
    Assert.assertEquals(1, resources.size());
    Assert.assertEquals(expectedResponse.getStringsList().get(0), resources.get(0));

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    ListStringsRequest actualRequest = (ListStringsRequest)actualRequests.get(0);

  }

  @Test
  @SuppressWarnings("all")
  public void addCommentsTest() {
    Empty expectedResponse = Empty.newBuilder()
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);

    String formattedName = LibraryServiceApi.formatBookName("[SHELF]", "[BOOK]");
    String userName = "userName339340927";
    ByteString comment = ByteString.copyFromUtf8("95");
    Stage stage = Stage.UNSET;
    Comment commentsElement = Comment.newBuilder()
      .setUserName(userName)
      .setComment(comment)
      .setStage(stage)
      .build();
    List<Comment> comments = Arrays.asList(commentsElement);

    api.addComments(formattedName, comments);

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    AddCommentsRequest actualRequest = (AddCommentsRequest)actualRequests.get(0);

    Assert.assertEquals(formattedName, actualRequest.getName());
    Assert.assertEquals(comments, actualRequest.getCommentsList());
  }

  @Test
  @SuppressWarnings("all")
  public void getBookFromArchiveTest() {
    String formattedName2 = LibraryServiceApi.formatArchivedBookName("[ARCHIVE_PATH]", "[BOOK]");
    String author = "author-1406328437";
    String title = "title110371416";
    boolean read = true;
    Book expectedResponse = Book.newBuilder()
      .setName(formattedName2)
      .setAuthor(author)
      .setTitle(title)
      .setRead(read)
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);

    String formattedName = LibraryServiceApi.formatArchivedBookName("[ARCHIVE_PATH]", "[BOOK]");

    Book actualResponse =
        api.getBookFromArchive(formattedName);
    Assert.assertEquals(expectedResponse, actualResponse);

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    GetBookFromArchiveRequest actualRequest = (GetBookFromArchiveRequest)actualRequests.get(0);

    Assert.assertEquals(formattedName, actualRequest.getName());
  }

  @Test
  @SuppressWarnings("all")
  public void updateBookIndexTest() {
    Empty expectedResponse = Empty.newBuilder()
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);

    String formattedName = LibraryServiceApi.formatBookName("[SHELF]", "[BOOK]");
    String indexName = "indexName746962392";
    Map<String, String> indexMap = new HashMap<>();

    api.updateBookIndex(formattedName, indexName, indexMap);

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    UpdateBookIndexRequest actualRequest = (UpdateBookIndexRequest)actualRequests.get(0);

    Assert.assertEquals(formattedName, actualRequest.getName());
    Assert.assertEquals(indexName, actualRequest.getIndexName());
    Assert.assertEquals(indexMap, actualRequest.getIndexMap());
  }

  @Test
  @SuppressWarnings("all")
  public void addTagTest() {
    AddTagResponse expectedResponse = AddTagResponse.newBuilder()
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLibraryService.setResponses(expectedResponses);

    String formattedResource = LibraryServiceApi.formatBookName("[SHELF]", "[BOOK]");
    String tag = "tag114586";

    AddTagResponse actualResponse =
        api.addTag(formattedResource, tag);
    Assert.assertEquals(expectedResponse, actualResponse);

    List<GeneratedMessage> actualRequests = mockLibraryService.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    AddTagRequest actualRequest = (AddTagRequest)actualRequests.get(0);

    Assert.assertEquals(formattedResource, actualRequest.getResource());
    Assert.assertEquals(tag, actualRequest.getTag());
  }

  @Test
  @SuppressWarnings("all")
  public void addLabelTest() {
    AddLabelResponse expectedResponse = AddLabelResponse.newBuilder()
      .build();
    List<GeneratedMessage> expectedResponses = new ArrayList<>();
    expectedResponses.add(expectedResponse);
    mockLabeler.setResponses(expectedResponses);

    String formattedResource = LibraryServiceApi.formatBookName("[SHELF]", "[BOOK]");
    String label = "label102727412";

    AddLabelResponse actualResponse =
        api.addLabel(formattedResource, label);
    Assert.assertEquals(expectedResponse, actualResponse);

    List<GeneratedMessage> actualRequests = mockLabeler.getRequests();
    Assert.assertEquals(1, actualRequests.size());
    AddLabelRequest actualRequest = (AddLabelRequest)actualRequests.get(0);

    Assert.assertEquals(formattedResource, actualRequest.getResource());
    Assert.assertEquals(label, actualRequest.getLabel());
  }

}
