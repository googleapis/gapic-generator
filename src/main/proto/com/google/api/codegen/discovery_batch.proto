syntax = "proto3";

package com.google.api.codegen.discoverybatch;

option java_multiple_files = true;
option java_package = "com.google.api.codegen.discoverybatch";
option java_outer_classname = "DiscoveryBatchDesc";

message DiscoveryBatch {
  repeated DiscoverySet include_sets = 1;
  repeated DiscoverySet ignore_sets = 2;

  // Output directory. If it is relative, it is resolved against the path of the configuration file.
  string output = 3;
}

// DiscoverySet represents a set of (yaml, disco) file pairs.
// The pairs are generated by taking cartesian product of the two paths.
// If a path is relative, it is resolved against the path of the configuration file.
message DiscoverySet {
  repeated string yaml_paths = 1;
  repeated string disco_paths = 2;
}
